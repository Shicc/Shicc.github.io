<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>GeekShi</title>
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://shic.top/"/>
  <updated>2019-05-24T08:56:01.675Z</updated>
  <id>http://shic.top/</id>
  
  <author>
    <name>this.Shi</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Semantic Segmentation with FCN</title>
    <link href="http://shic.top/Deep-Learning/fcn/"/>
    <id>http://shic.top/Deep-Learning/fcn/</id>
    <published>2019-05-23T16:00:00.000Z</published>
    <updated>2019-05-24T08:56:01.675Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å…¨å·ç§¯ç½‘ç»œFCN"><a href="#å…¨å·ç§¯ç½‘ç»œFCN" class="headerlink" title="å…¨å·ç§¯ç½‘ç»œFCN"></a>å…¨å·ç§¯ç½‘ç»œFCN</h1><h2 id="è¯­ä¹‰åˆ†å‰²"><a href="#è¯­ä¹‰åˆ†å‰²" class="headerlink" title="è¯­ä¹‰åˆ†å‰²"></a>è¯­ä¹‰åˆ†å‰²</h2><p>ç›®æ ‡æ£€æµ‹å¯ä»¥è¯†åˆ«å‡ºç‰©ä½“åœ¨å›¾åƒä¸­çš„ä½ç½®å’Œç§ç±»ï¼Œè€Œè¯­ä¹‰åˆ†å‰²ï¼ˆsemantic segmentationï¼‰å…³æ³¨çš„æ˜¯ä»åƒç´ çº§åˆ«çš„å¯¹å›¾åƒåˆ†å‰²æˆä¸åŒè¯­ä¹‰ç±»åˆ«çš„åŒºåŸŸï¼Œå®ƒæ¯”ç›®æ ‡æ£€æµ‹æ›´åŠ ç²¾ç»†ï¼Œå¯ä»¥å®šä½åˆ°ç‰©ä½“çš„è¾¹ç¼˜ï¼Œå…¶ä¸­å®ä¾‹åˆ†å‰²ï¼ˆinstance segmentationï¼‰è¿˜èƒ½åŒºåˆ†åŒç§ç±»å‹çš„ä¸åŒä¸ªä½“ã€‚<br><a id="more"></a><br>å¸¸è§çš„ç”¨äºè¯­ä¹‰åˆ†å‰²çš„ä¼˜ç§€æ¨¡å‹ä¾‹å¦‚ï¼šFCNï¼ŒPSPï¼ŒDeepLabç­‰ï¼Œå®ä¾‹åˆ†å‰²ä¾‹å¦‚Mark RCNNã€‚</p>
<h2 id="FCN"><a href="#FCN" class="headerlink" title="FCN"></a>FCN</h2><p>å…¨å·ç§¯ç½‘ç»œï¼ˆfully convolutional networkï¼ŒFCNï¼‰æ˜¯ç”¨äºè¯­ä¹‰åˆ†å‰²çš„å¸¸è§ç½‘ç»œæ¨¡å‹ï¼Œå®ƒé‡‡ç”¨å·ç§¯ç¥ç»ç½‘ç»œå®ç°äº†å¯¹å›¾åƒåƒç´ çº§åˆ«çš„é¢„æµ‹ï¼Œä½†å®ƒåˆå’Œä¼ ç»Ÿçš„å·ç§¯ç¥ç»ç½‘ç»œï¼ˆCNNï¼‰ä¸åŒï¼Œæ™®é€šCNNä¼šæŠŠå›¾åƒè¶Šå˜è¶Šå°ï¼Œä¸”é€šé“æ•°è¶Šæ¥è¶Šå¤šã€‚FCNé€šè¿‡å°†æ™®é€šCNNæœ€åçš„ç±»åˆ«é¢„æµ‹åŠŸèƒ½çš„å±‚ï¼ˆé€šå¸¸æ˜¯æŠŠç‰¹å¾å¼ é‡å˜å¹³çš„Flattenå’Œè¾“å‡ºç”¨çš„å…¨è¿æ¥å±‚ï¼‰æ›¿æ¢æˆè½¬ç½®å·ç§¯å±‚ï¼ˆtransposed convolutionï¼‰ã€‚å·ç§¯è®¡ç®—å¯ä»¥é€šè¿‡çŸ©é˜µä¹˜æ³•å®ç°ï¼Œå·ç§¯çš„å‰å‘è®¡ç®—å¯ä»¥çœ‹åšæ˜¯å‡½æ•°è¾“å…¥ä¹˜ä»¥æƒé‡çŸ©é˜µğ‘Šï¼Œè€Œåå‘ä¼ æ’­ä¾æ®é“¾å¼æ³•åˆ™ï¼Œå…¶æ¢¯åº¦ç®—å¾—å°±æ˜¯æƒé‡çŸ©é˜µğ‘Šçš„è½¬ç½®ï¼ˆ@æœ‰ç©ºæ”¹æ”¹ï¼ŒåŠ ä¸Šè¯æ˜ï¼‰ã€‚æ‰€ä»¥å·ç§¯å±‚çš„å‰å‘è®¡ç®—å‡½æ•°ä¸åå‘ä¼ æ’­å‡½æ•°ï¼šè¿™ä¸¤ä¸ªå‡½æ•°å¯ä»¥çœ‹ä½œå°†å‡½æ•°è¾“å…¥å‘é‡åˆ†åˆ«ä¹˜ä»¥ğ‘Šçš„è½¬ç½®å’Œğ‘Š ã€‚æ•…é€šè¿‡è½¬ç½®å·ç§¯å±‚å¯ä»¥å®ç°ç±»ä¼¼åå‘ä¼ æ’­çš„è®¡ç®—ï¼Œä¹Ÿå°±æ˜¯æŠŠè¾“å…¥çš„å°ºå¯¸æ”¾å¤§ï¼ŒæŠŠé€šé“æ•°å˜å°ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> mxnet <span class="keyword">import</span> gluon, nd</div><div class="line">conv = gluon.nn.Conv2D(<span class="number">10</span>, kernel_size=<span class="number">4</span>, padding=<span class="number">1</span>, strides=<span class="number">2</span>)</div><div class="line">conv.initialize()</div><div class="line"></div><div class="line">X = nd.random.uniform(shape=(<span class="number">1</span>, <span class="number">3</span>, <span class="number">64</span>, <span class="number">64</span>))</div><div class="line">Y = conv(X)</div><div class="line">Y.shape</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>(<span class="number">1</span>, <span class="number">10</span>, <span class="number">32</span>, <span class="number">32</span>)</div><div class="line"></div><div class="line">conv_trans = gluon.nn.Conv2DTranspose(<span class="number">3</span>, kernel_size=<span class="number">4</span>, padding=<span class="number">1</span>, strides=<span class="number">2</span>)</div><div class="line">conv_trans.initialize()</div><div class="line">conv_trans(Y).shape <span class="comment"># åŒè¾“å…¥ä¸€æ ·çš„å½¢çŠ¶ï¼Œä½†æ˜¯çŸ©é˜µé‡Œé¢çš„å€¼ä¸xä¸åŒã€‚</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>(<span class="number">1</span>, <span class="number">3</span>, <span class="number">64</span>, <span class="number">64</span>)</div></pre></td></tr></table></figure>
<p><code>conv_trans(Y)</code>çš„å½¢çŠ¶ä¸è¾“å…¥ç›¸åŒï¼Œä½†æ˜¯çŸ©é˜µé‡Œé¢çš„å€¼ä¸è¾“å…¥ä¸åŒã€‚ç”¨<code>numpy</code>çœ‹çœ‹</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</div><div class="line">x = np.arange(<span class="number">1</span>,<span class="number">5</span>).reshape([<span class="number">4</span>,<span class="number">1</span>])</div><div class="line">w = np.arange(<span class="number">1</span>,<span class="number">13</span>).reshape([<span class="number">3</span>,<span class="number">4</span>])</div><div class="line">y = np.dot(w,x)</div><div class="line">wt = np.transpose(w)</div><div class="line">backward_x = np.dot(wt,y)</div><div class="line">np.shape(backward_x) == np.shape(x)</div><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">True</span></div></pre></td></tr></table></figure>
<h3 id="æ„é€ FCN"><a href="#æ„é€ FCN" class="headerlink" title="æ„é€ FCN"></a>æ„é€ FCN</h3><p>FCNç”±æå–å›¾åƒç‰¹å¾çš„æ™®é€šå·ç§¯å±‚å’Œç”¨äºæ”¾å¤§ç‰¹å¾å›¾çš„è½¬ç½®å·ç§¯å±‚ç»„æˆï¼Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨åŸºäºImageNeté¢„è®­ç»ƒçš„æ¨¡å‹æ¥æå–å›¾åƒç‰¹å¾ï¼ŒæŠŠåé¢ç”¨äºé¢„æµ‹çš„å±‚æ›¿æ¢æˆè½¬ç½®å·ç§¯å±‚å³å¯ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">pretrained_net = gluon.model_zoo.vision.resnet18_v2(pretrained=<span class="keyword">True</span>)</div><div class="line">pretrained_net.features[<span class="number">-5</span>:] <span class="comment"># æ‰“å°featuresçš„æœ€åäº”å±‚</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>HybridSequential</div><div class="line">(</div><div class="line">  (<span class="number">0</span>): HybridSequential(</div><div class="line">    (<span class="number">0</span>): BasicBlockV2(</div><div class="line">      (bn1): BatchNorm(axis=<span class="number">1</span>, eps=<span class="number">1e-05</span>, momentum=<span class="number">0.9</span>, fix_gamma=<span class="keyword">False</span>, use_global_stats=<span class="keyword">False</span>, in_channels=<span class="number">256</span>)</div><div class="line">      (conv1): Conv2D(256 -&gt; 512, kernel_size=(3, 3), stride=(2, 2), padding=(1, 1), bias=False)</div><div class="line">      (bn2): BatchNorm(axis=<span class="number">1</span>, eps=<span class="number">1e-05</span>, momentum=<span class="number">0.9</span>, fix_gamma=<span class="keyword">False</span>, use_global_stats=<span class="keyword">False</span>, in_channels=<span class="number">512</span>)</div><div class="line">      (conv2): Conv2D(512 -&gt; 512, kernel_size=(3, 3), stride=(1, 1), padding=(1, 1), bias=False)</div><div class="line">      (downsample): Conv2D(256 -&gt; 512, kernel_size=(1, 1), stride=(2, 2), bias=False)</div><div class="line">    )</div><div class="line">    (<span class="number">1</span>): BasicBlockV2(</div><div class="line">      (bn1): BatchNorm(axis=<span class="number">1</span>, eps=<span class="number">1e-05</span>, momentum=<span class="number">0.9</span>, fix_gamma=<span class="keyword">False</span>, use_global_stats=<span class="keyword">False</span>, in_channels=<span class="number">512</span>)</div><div class="line">      (conv1): Conv2D(512 -&gt; 512, kernel_size=(3, 3), stride=(1, 1), padding=(1, 1), bias=False)</div><div class="line">      (bn2): BatchNorm(axis=<span class="number">1</span>, eps=<span class="number">1e-05</span>, momentum=<span class="number">0.9</span>, fix_gamma=<span class="keyword">False</span>, use_global_stats=<span class="keyword">False</span>, in_channels=<span class="number">512</span>)</div><div class="line">      (conv2): Conv2D(512 -&gt; 512, kernel_size=(3, 3), stride=(1, 1), padding=(1, 1), bias=False)</div><div class="line">    )</div><div class="line">  )</div><div class="line">  (<span class="number">1</span>): BatchNorm(axis=<span class="number">1</span>, eps=<span class="number">1e-05</span>, momentum=<span class="number">0.9</span>, fix_gamma=<span class="keyword">False</span>, use_global_stats=<span class="keyword">False</span>, in_channels=<span class="number">512</span>)</div><div class="line">  (<span class="number">2</span>): Activation(relu)</div><div class="line">  (<span class="number">3</span>): GlobalAvgPool2D(size=(<span class="number">1</span>, <span class="number">1</span>), stride=(<span class="number">1</span>, <span class="number">1</span>), padding=(<span class="number">0</span>, <span class="number">0</span>), ceil_mode=<span class="keyword">True</span>)</div><div class="line">  (<span class="number">4</span>): Flatten</div><div class="line">)</div></pre></td></tr></table></figure>
<p>æ‰“å°å‡ºæœ€åäº”å±‚å¯ä»¥çœ‹å‡ºï¼ˆ0~4ï¼‰ï¼Œç¬¬(3),(4)æ˜¯å…¨å±€å¹³å‡æ± åŒ–å±‚å’Œæ ·æœ¬å˜å¹³å±‚ï¼Œæ˜¯æŠŠç‰¹å¾å›¾è®¡ç®—å¾—åˆ°çš„ç»“æœå½“åšå…¨è¿æ¥å±‚çš„é¢„æµ‹åšè¾“å…¥çš„ï¼Œæ˜¾ç„¶åœ¨FCNé‡Œéœ€è¦æŠŠå®ƒä»¬æ›¿æ¢æ‰ï¼Œä»…ä¿ç•™æå–ç‰¹å¾çš„æ‰€æœ‰å±‚ã€‚è€Œæœ€åçš„ç”¨äºç±»åˆ«é¢„æµ‹çš„å…¨è¿æ¥å±‚ä¹Ÿåº”è¯¥è¢«æ›¿æ¢æ‰.</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">pretrained_net.output</div><div class="line">&gt;&gt;&gt; Dense(512 -&gt; 1000, linear)</div></pre></td></tr></table></figure>
<p>é‚£ä¹ˆï¼ŒFCNçš„ç»“æœå°±ç”¨è¿‡åŒ…å«<code>pretrained_net</code>çš„<code>features</code>çš„é™¤äº†æœ€åä¸¤å±‚çš„æ‰€æœ‰å±‚ï¼Œä»¥åŠå·ç§¯ç½®æ¢å±‚ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">fcn = gluon.nn.HybridSequential()</div><div class="line"><span class="keyword">for</span> layer <span class="keyword">in</span> pretrained_net.features[:<span class="number">-2</span>]: <span class="comment"># ä»ç¬¬ä¸€å±‚åˆ°å€’æ•°ç¬¬ä¸‰å±‚</span></div><div class="line">    fcn.add(layer)</div></pre></td></tr></table></figure>
<p>æ­¤æ—¶çš„<code>fcn</code>å°±æ˜¯ä¸€ä¸ªä»…å«æœ‰<code>resnet18_v2</code>çš„æå–å›¾åƒç‰¹å¾çš„ç½‘ç»œï¼Œå…¶è¾“å‡ºä¹Ÿä¼šæ˜¯ä¸€ä¸ªç‰¹å¾å›¾ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">X = nd.random.uniform(shape=(<span class="number">1</span>, <span class="number">3</span>, <span class="number">320</span>, <span class="number">480</span>))</div><div class="line">fcn(X).shape</div><div class="line"><span class="meta">&gt;&gt;&gt; </span>(<span class="number">1</span>, <span class="number">512</span>, <span class="number">10</span>, <span class="number">15</span>)</div></pre></td></tr></table></figure>
<p>å¯ä»¥è§å¾—ï¼Œæ­¤æ—¶çš„ç‰¹å¾å›¾çš„é•¿å®½éƒ½å·²ç»è¢«ç¼©å°äº†32å€äº†ï¼Œè€Œé€šé“å˜åšåˆ°äº†512ï¼Œæˆ‘ä»¬é¦–å…ˆå¯ä»¥é€šè¿‡1x1çš„å·ç§¯å°†é€šé“æ•°å˜ä¸ºæˆ‘ä»¬éœ€è¦çš„æ•°é‡ã€‚fcnä¸­ä¹Ÿç”¨æœ€åçš„æ¯ä¸€ä¸ªé€šé“æ¥é¢„æµ‹æ¯ä¸€ä¸ªç±»ï¼Œä»è€Œé¿å…ä½¿ç”¨å…¨è¿æ¥å±‚è€Œé™ä½æ¨¡å‹å¤æ‚åº¦ï¼ˆå’Œssdä¸­çš„é€šé“é¢„æµ‹ç±»åˆ«ä¸€æ ·ï¼‰ã€‚åœ¨æ¥ä¸‹æ¥è¦ä½¿ç”¨çš„Pascal VOC2012æ•°æ®é›†çš„ç±»åˆ«ä¸ªæ•°ä¸º21ï¼Œæˆ‘ä»¬å°±å¯ä»¥è®¾ç½®ä¸€ä¸ªé€šé“æ•°ä¸º21çš„1Ã—1å·ç§¯å’Œæ­¥å¹…ä¸º ğ‘  ã€å¡«å……ä¸º ğ‘ /2 ï¼ˆå‡è®¾ ğ‘ /2 ä¸ºæ•´æ•°ï¼‰ã€å·ç§¯æ ¸çš„é«˜å’Œå®½ä¸º 2ğ‘ çš„ç½®æ¢å·ç§¯æ ¸ï¼Œå®ƒæ­£å¥½èƒ½å°†è¾“å…¥æ”¾å¤§så€ã€‚è¿™é‡Œçš„sæ ¹æ®å‰é¢çš„è®¡ç®—å¯ä»¥å¾—å‡ºæ˜¯32ã€‚æ‰€ä»¥ç½®æ¢å·ç§¯æ ¸çš„å·ç§¯æ ¸é«˜å’Œå®½åº”è¯¥ä¸º64ï¼Œæ­¥å¹…ä¸º32ï¼Œå¡«å……ä¸º16ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">num_classes = <span class="number">21</span></div><div class="line"><span class="comment"># å¾€fcnä¸­æ·»åŠ å±‚å¾—åˆ°ä¸€ä¸ªå®Œæ•´çš„fcn</span></div><div class="line">fcn.add(nn.Conv2D(num_classes, kernel_size=<span class="number">1</span>), <span class="comment"># æ”¹å˜é€šé“æ•°çš„1*1å·ç§¯</span></div><div class="line">        nn.Conv2DTranspose(num_classes, kernel_size=<span class="number">64</span>, padding=<span class="number">16</span>, strides=<span class="number">32</span>)) <span class="comment"># æ”¾å¤§è¾“å…¥</span></div></pre></td></tr></table></figure>
<p>ç°åœ¨fcnä¸­ç¬¬ä¸€å±‚åˆ°å€’æ•°ç¬¬ä¸‰å±‚éƒ½æ˜¯åŸºäºImageNeté¢„è®­ç»ƒçš„ResNet18_v2çš„å¯¹åº”å±‚çš„å‚æ•°ï¼Œè€Œåé¢çš„(1,1,classes_num)å·ç§¯å±‚å’Œç½®æ¢å·ç§¯å±‚çš„å‚æ•°è¿˜æ²¡æœ‰ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦åˆå§‹åŒ–ã€‚åœ¨ç½®æ¢å·ç§¯å±‚ä¸­ï¼Œéœ€è¦æ”¾å¤§ç‰¹å¾å›¾ï¼Œå¿…å®šä¼šå¯¼è‡´è¾“å‡ºçš„åƒç´ ç‚¹å¤šäºè¾“å…¥ï¼Œä¹Ÿå°±æ˜¯è¾“å‡ºçš„çŸ©é˜µæ¯”è¾“å…¥æ›´å¤§ï¼Œè¿™å°±æ˜¯ä¸Šé‡‡æ ·ï¼ˆupsampleï¼‰ã€‚åŒçº¿æ€§æ’å€¼æ˜¯ä¸Šé‡‡æ ·çš„ä¸€ç§æ–¹æ³•ã€‚ï¼ˆ@æœ‰ç©ºå¯è§£é‡Šä¸€ä¸‹åŒçº¿æ€§æ’å€¼ï¼‰</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># åŒçº¿æ€§æ’å€¼</span></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">bilinear_kernel</span><span class="params">(in_channels, out_channels, kernel_size)</span>:</span></div><div class="line">    factor = (kernel_size + <span class="number">1</span>) // <span class="number">2</span></div><div class="line">    <span class="keyword">if</span> kernel_size % <span class="number">2</span> == <span class="number">1</span>:</div><div class="line">        center = factor - <span class="number">1</span></div><div class="line">    <span class="keyword">else</span>:</div><div class="line">        center = factor - <span class="number">0.5</span></div><div class="line">    og = np.ogrid[:kernel_size, :kernel_size]</div><div class="line">    filt = (<span class="number">1</span> - abs(og[<span class="number">0</span>] - center) / factor) * \</div><div class="line">           (<span class="number">1</span> - abs(og[<span class="number">1</span>] - center) / factor)</div><div class="line">    weight = np.zeros((in_channels, out_channels, kernel_size, kernel_size),</div><div class="line">                      dtype=<span class="string">'float32'</span>)</div><div class="line">    weight[range(in_channels), range(out_channels), :, :] = filt</div><div class="line">    <span class="keyword">return</span> nd.array(weight)</div><div class="line"></div><div class="line"><span class="comment"># åˆå§‹åŒ–æœ€åä¸¤å±‚</span></div><div class="line">fcn[<span class="number">-2</span>].initialize(mx.init=init.Xavier()) <span class="comment"># 1*1å·ç§¯å°±ç”¨æ™®é€šåˆå§‹åŒ–</span></div><div class="line">fcn[<span class="number">-1</span>].initialize(mx.init.Constant(bilinear_kernel(num_classes, num_classes, <span class="number">64</span>)))</div></pre></td></tr></table></figure>
<h2 id="Pascal-VOC2012æ•°æ®é›†"><a href="#Pascal-VOC2012æ•°æ®é›†" class="headerlink" title="Pascal VOC2012æ•°æ®é›†"></a>Pascal VOC2012æ•°æ®é›†</h2><h3 id="è¯»å–"><a href="#è¯»å–" class="headerlink" title="è¯»å–"></a>è¯»å–</h3><p><a href="http://host.robots.ox.ac.uk/pascal/VOC/voc2012/" target="_blank" rel="external">Pascal VOC2012æ•°æ®é›†</a>æ˜¯ä¸€ä¸ªç”¨äºç›®æ ‡æ£€æµ‹å’Œè¯­ä¹‰åˆ†å‰²çš„è‘—åæ•°æ®é›†ï¼Œæ˜¯VOC2007çš„ç»­é›†ï¼ŒVOCæ•°æ®é›†ç³»åˆ—çš„æ–‡ä»¶ç»“æ„å¦‚ä¸‹ï¼š</p>
<ul>
<li>VOCdevkit<ul>
<li>VOC2007<ul>
<li>â€¦</li>
</ul>
</li>
<li>VOC2012<ul>
<li>Annotationsï¼šå­˜æ”¾ç›®æ ‡æ£€æµ‹çš„æ ‡ç­¾</li>
<li>ImageSetsï¼šå­˜æ”¾å„ç§ç”¨é€”æ–‡ä»¶çš„åå­—</li>
<li>JPEGImagesï¼šå›¾ç‰‡æ–‡ä»¶</li>
<li>SegmentationClassï¼šè¯­ä¹‰åˆ†å‰²çš„æ ‡æ³¨</li>
<li>SegmentationObjectï¼šå®ä¾‹åˆ†å‰²çš„æ ‡æ³¨</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>åœ¨å®˜ç½‘ä¸‹è½½å¥½æ•°æ®é›†è§£å‹åï¼Œæˆ‘ä»¬å¯ä»¥æŒ‰ç…§è‡ªå·±çš„ä»»åŠ¡éœ€æ±‚æ¥ä½¿ç”¨æ•°æ®é›†ã€‚æˆ‘ä»¬çš„å·¥ä½œä¸»è¦æ˜¯è¦æ­å»ºèµ·fcnï¼Œå¯¹äºæ•°æ®è¯»å–å°±ç®€å•ç•¥è¿‡ï¼Œmxnetæä¾›äº†ä¸€ä¸ªå¾ˆå¥½ç”¨çš„å·¥å…·åŒ…<a href="https://github.com/d2l-ai/d2l-zh/blob/master/d2lzh/utils.py" target="_blank" rel="external">d2lzh</a>ï¼Œæˆ‘ä»¬å¯ä»¥æ‰§è¡Œ<code>pip install d2lzh</code>æ¥å®‰è£…å®ƒã€‚ä¹‹åä¾¿å¯ä»¥ç”¨å®ƒæ¥è¯»å–æ•°æ®äº†ã€‚å…¶å®gluoncvå·¥å…·åŒ…ä¹Ÿæä¾›äº†è¯»å–è¯¥æ•°æ®é›†çš„å‡½æ•°ï¼Œä¹Ÿèƒ½å¾ˆæ–¹ä¾¿çš„ä½¿ç”¨</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> d2lzh <span class="keyword">as</span> d2l</div><div class="line"><span class="keyword">import</span> sys</div><div class="line"></div><div class="line"></div><div class="line">crop_size  = (<span class="number">320</span>, <span class="number">480</span>) <span class="comment"># éšæœºè£å‰ªæˆè¯¥å¤§å°ï¼Œæ–¹ä¾¿æœ€æ‰¹æ•°æ®</span></div><div class="line">batch_size = <span class="number">32</span></div><div class="line">colormap2label = nd.zeros(<span class="number">256</span>**<span class="number">3</span>) <span class="comment"># å­˜æ”¾ç±»åˆ«é¢œè‰²åˆ°æ ‡ç­¾çš„æ˜ å°„å…³ç³»çš„çŸ©é˜µ</span></div><div class="line"><span class="keyword">for</span> i, cm <span class="keyword">in</span> enumerate(d2l.VOC_COLORMAP):</div><div class="line">    colormap2label[(cm[<span class="number">0</span>] * <span class="number">256</span> + cm[<span class="number">1</span>]) * <span class="number">256</span> + cm[<span class="number">2</span>]] = i</div><div class="line">voc_dir = <span class="string">'../VOCdevkit/VOC2012'</span> <span class="comment"># ç±»ä¼¼äºè¿™æ ·çš„æ ¼å¼ï¼Œæœ€åæ˜¯VOC2012</span></div><div class="line"></div><div class="line">num_workers = <span class="number">0</span> <span class="keyword">if</span> sys.platform.startswith(<span class="string">'win32'</span>) <span class="keyword">else</span> <span class="number">4</span> <span class="comment"># 64ä½ç”µè„‘å°±å¤šçº¿ç¨‹è¿è¡Œ</span></div><div class="line"><span class="comment"># 1114ä¸ªè®­ç»ƒæ ·æœ¬</span></div><div class="line">train_iter = gluon.data.DataLoader(</div><div class="line">    d2l.VOCSegDataset(<span class="keyword">True</span>, crop_size, voc_dir, colormap2label), batch_size,</div><div class="line">    shuffle=<span class="keyword">True</span>, last_batch=<span class="string">'discard'</span>, num_workers=num_workers)</div><div class="line"><span class="comment"># 1078ä¸ªæµ‹è¯•æ ·æœ¬</span></div><div class="line">test_iter = gluon.data.DataLoader(</div><div class="line">    d2l.VOCSegDataset(<span class="keyword">False</span>, crop_size, voc_dir, colormap2label), batch_size,</div><div class="line">    last_batch=<span class="string">'discard'</span>, num_workers=num_workers)</div></pre></td></tr></table></figure>
<h2 id="è®­ç»ƒ"><a href="#è®­ç»ƒ" class="headerlink" title="è®­ç»ƒ"></a>è®­ç»ƒ</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> mxnet <span class="keyword">as</span> mx</div><div class="line"></div><div class="line"><span class="keyword">try</span>:</div><div class="line">    ctx = [mx.gpu()]</div><div class="line">    _ = nd.array([<span class="number">0</span>], ctx=ctx)</div><div class="line"><span class="keyword">except</span> mx.base.MXNetError:</div><div class="line">        ctx = [mx.cpu()]</div><div class="line"></div><div class="line">loss = gluon.loss.SoftmaxCrossEntropyLoss(axis=<span class="number">1</span>)</div><div class="line">fcn.collect_params().reset_ctx(ctx)</div><div class="line">trainer = gluon.Trainer(net.collect_params(), <span class="string">'sgd'</span>, &#123;<span class="string">'learning_rate'</span>: <span class="number">0.1</span>, <span class="string">'wd'</span>: <span class="number">1e-3</span>&#125;)</div><div class="line">d2l.train(train_iter, test_iter, net, loss, trainer, ctx, num_epochs=<span class="number">12</span>)</div><div class="line"></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>training on [gpu(<span class="number">0</span>)]</div><div class="line">epoch <span class="number">1</span>, loss <span class="number">1.1867</span>, train acc <span class="number">0.750</span>, test acc <span class="number">0.823</span>, time <span class="number">55.4</span> sec</div><div class="line">epoch <span class="number">2</span>, loss <span class="number">0.5028</span>, train acc <span class="number">0.846</span>, test acc <span class="number">0.823</span>, time <span class="number">54.8</span> sec</div><div class="line">epoch <span class="number">3</span>, loss <span class="number">0.4053</span>, train acc <span class="number">0.867</span>, test acc <span class="number">0.845</span>, time <span class="number">54.2</span> sec</div><div class="line">epoch <span class="number">4</span>, loss <span class="number">0.3393</span>, train acc <span class="number">0.888</span>, test acc <span class="number">0.850</span>, time <span class="number">54.1</span> sec</div><div class="line">epoch <span class="number">5</span>, loss <span class="number">0.2892</span>, train acc <span class="number">0.902</span>, test acc <span class="number">0.848</span>, time <span class="number">55.0</span> sec</div><div class="line">epoch <span class="number">6</span>, loss <span class="number">0.2496</span>, train acc <span class="number">0.915</span>, test acc <span class="number">0.857</span>, time <span class="number">53.7</span> sec</div><div class="line">epoch <span class="number">7</span>, loss <span class="number">0.2340</span>, train acc <span class="number">0.919</span>, test acc <span class="number">0.857</span>, time <span class="number">54.4</span> sec</div><div class="line">epoch <span class="number">8</span>, loss <span class="number">0.2244</span>, train acc <span class="number">0.923</span>, test acc <span class="number">0.860</span>, time <span class="number">53.4</span> sec</div><div class="line">epoch <span class="number">9</span>, loss <span class="number">0.2125</span>, train acc <span class="number">0.926</span>, test acc <span class="number">0.860</span>, time <span class="number">53.7</span> sec</div><div class="line">epoch <span class="number">10</span>, loss <span class="number">0.1951</span>, train acc <span class="number">0.931</span>, test acc <span class="number">0.860</span>, time <span class="number">53.6</span> sec</div><div class="line">epoch <span class="number">11</span>, loss <span class="number">0.1845</span>, train acc <span class="number">0.935</span>, test acc <span class="number">0.863</span>, time <span class="number">54.5</span> sec</div><div class="line">epoch <span class="number">12</span>, loss <span class="number">0.1761</span>, train acc <span class="number">0.938</span>, test acc <span class="number">0.862</span>, time <span class="number">53.7</span> sec</div></pre></td></tr></table></figure>
<p>è®­ç»ƒä¸­è¿˜æ˜¯æœ‰å€¼å¾—å»åšçš„å·¥ä½œçš„ï¼Œå› ä¸ºåªæœ‰ä¸€å—å°GPUï¼Œæå–ç‰¹å¾çš„åŸºç¡€ç½‘ç»œé€‰å¾—å¾ˆå°ï¼Œè®­ç»ƒä¹Ÿæ²¡è®­ç»ƒå¤šä¹…ï¼Œåœ¨åæœŸç²¾ç¡®åº¦æå‡å¾ˆå°çš„æƒ…å†µä¸‹åº”è¯¥è¿›ä¸€æ­¥é™ä½å­¦ä¹ ç‡ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">predict</span><span class="params">(img)</span>:</span></div><div class="line">    X = test_iter._dataset.normalize_image(img) <span class="comment"># æ ‡å‡†åŒ–</span></div><div class="line">    X = X.transpose((<span class="number">2</span>, <span class="number">0</span>, <span class="number">1</span>)).expand_dims(axis=<span class="number">0</span>) <span class="comment">#è½¬æ¢æˆnnéœ€è¦çš„4ç»´è¾“å…¥æ ¼å¼</span></div><div class="line">    pred = nd.argmax(net(X.as_in_context(ctx[<span class="number">0</span>])), axis=<span class="number">1</span>)</div><div class="line">    <span class="keyword">return</span> pred.reshape((pred.shape[<span class="number">1</span>], pred.shape[<span class="number">2</span>]))</div><div class="line">  </div><div class="line"><span class="comment"># å¯è§†åŒ–æ¯ä¸ªåƒç´ çš„é¢„æµ‹ç±»åˆ«ï¼ŒæŠŠæ ‡ç­¾å€¼æ˜ å°„å›é¢œè‰²</span></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">label2image</span><span class="params">(pred)</span>:</span></div><div class="line">    colormap = nd.array(d2l.VOC_COLORMAP, ctx=ctx[<span class="number">0</span>], dtype=<span class="string">'uint8'</span>)</div><div class="line">    X = pred.astype(<span class="string">'int32'</span>)</div><div class="line">    <span class="keyword">return</span> colormap[X, :]</div><div class="line">  </div><div class="line"><span class="comment"># è¯»å–æµ‹è¯•æ•°æ®å’Œæ ‡ç­¾</span></div><div class="line">test_images, test_labels = d2l.read_voc_images(is_train=<span class="keyword">False</span>)</div><div class="line">n, imgs = <span class="number">4</span>, []</div><div class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(n):</div><div class="line">    crop_rect = (<span class="number">0</span>, <span class="number">0</span>, <span class="number">480</span>, <span class="number">320</span>) <span class="comment"># è£å‰ª</span></div><div class="line">    X = mx.image.fixed_crop(test_images[i], *crop_rect)</div><div class="line">    pred = label2image(predict(X))</div><div class="line">    imgs += [X, pred, image.fixed_crop(test_labels[i], *crop_rect)]</div><div class="line">d2l.show_images(imgs[::<span class="number">3</span>] + imgs[<span class="number">1</span>::<span class="number">3</span>] + imgs[<span class="number">2</span>::<span class="number">3</span>], <span class="number">3</span>, n);</div><div class="line">&gt;&gt;&gt;</div></pre></td></tr></table></figure>
<p><img src="https://github.com/Shicc/webrecourse/raw/master/img/fcn_pred.png" alt="fcn_pred"><br>æ­¤æ—¶ï¼Œä»<code>ResNet</code>ç»§æ‰¿äº†ç‰¹å¾æå–å±‚çš„fcnç½‘ç»œçš„æœ€åå‡ å±‚å¦‚ä¸‹æ‰€ç¤ºï¼Œç¬¬(11),(12)å°±æ˜¯è‡ªå·±æ”¹çš„1*1å·ç§¯å’Œè½¬ç½®å·ç§¯å±‚ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">  (<span class="number">9</span>): BatchNorm(axis=<span class="number">1</span>, eps=<span class="number">1e-05</span>, momentum=<span class="number">0.9</span>, fix_gamma=<span class="keyword">False</span>, use_global_stats=<span class="keyword">False</span>, in_channels=<span class="number">512</span>)</div><div class="line">  (<span class="number">10</span>): Activation(relu)</div><div class="line">  (11): Conv2D(512 -&gt; 21, kernel_size=(1, 1), stride=(1, 1))</div><div class="line">  (12): Conv2DTranspose(21 -&gt; 21, kernel_size=(64, 64), stride=(32, 32), padding=(16, 16))</div><div class="line">)</div></pre></td></tr></table></figure>
<h2 id="å°ç»“ä»¥åŠmodel-zooçš„æ­£ç¡®ä½¿ç”¨æ–¹æ³•"><a href="#å°ç»“ä»¥åŠmodel-zooçš„æ­£ç¡®ä½¿ç”¨æ–¹æ³•" class="headerlink" title="å°ç»“ä»¥åŠmodel_zooçš„æ­£ç¡®ä½¿ç”¨æ–¹æ³•"></a>å°ç»“ä»¥åŠ<code>model_zoo</code>çš„æ­£ç¡®ä½¿ç”¨æ–¹æ³•</h2><p>æ€»çš„æ¥è¯´é¢„æµ‹ç»“æœä¸€èˆ¬å§ï¼Œå¦‚æœæœ‰ç”¨åˆ°fcnæ¥åšè‡ªå·±çš„è¯­ä¹‰åˆ†å‰²ä»»åŠ¡ï¼Œè¿˜æ˜¯æ¯”è¾ƒå»ºè®®å¾®è°ƒ<code>model_zoo</code>é‡Œå·²æœ‰çš„æ¨¡å‹ï¼Œé€šè¿‡é‡æ–°è®¾ç½®è‡ªå·±éœ€è¦çš„ç±»åˆ«å’Œéœ€è¦ç»§æ‰¿çš„æƒé‡ï¼Œç„¶åæ ¹æ®è‡ªå·±çš„ä»»åŠ¡è¦æ±‚ï¼Œç”¨é€‚åˆä»»åŠ¡çš„æ•°æ®é›†å¾®è°ƒè¿™ä¸ªæ¨¡å‹</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># é‡æ–°è®¾ç½®ç±»åˆ«å’Œé‡ç”¨æƒé‡</span></div><div class="line">net.reset_class(classes=[<span class="string">'person'</span>], reuse_weights=[<span class="string">'person'</span>])</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;å…¨å·ç§¯ç½‘ç»œFCN&quot;&gt;&lt;a href=&quot;#å…¨å·ç§¯ç½‘ç»œFCN&quot; class=&quot;headerlink&quot; title=&quot;å…¨å·ç§¯ç½‘ç»œFCN&quot;&gt;&lt;/a&gt;å…¨å·ç§¯ç½‘ç»œFCN&lt;/h1&gt;&lt;h2 id=&quot;è¯­ä¹‰åˆ†å‰²&quot;&gt;&lt;a href=&quot;#è¯­ä¹‰åˆ†å‰²&quot; class=&quot;headerlink&quot; title=&quot;è¯­ä¹‰åˆ†å‰²&quot;&gt;&lt;/a&gt;è¯­ä¹‰åˆ†å‰²&lt;/h2&gt;&lt;p&gt;ç›®æ ‡æ£€æµ‹å¯ä»¥è¯†åˆ«å‡ºç‰©ä½“åœ¨å›¾åƒä¸­çš„ä½ç½®å’Œç§ç±»ï¼Œè€Œè¯­ä¹‰åˆ†å‰²ï¼ˆsemantic segmentationï¼‰å…³æ³¨çš„æ˜¯ä»åƒç´ çº§åˆ«çš„å¯¹å›¾åƒåˆ†å‰²æˆä¸åŒè¯­ä¹‰ç±»åˆ«çš„åŒºåŸŸï¼Œå®ƒæ¯”ç›®æ ‡æ£€æµ‹æ›´åŠ ç²¾ç»†ï¼Œå¯ä»¥å®šä½åˆ°ç‰©ä½“çš„è¾¹ç¼˜ï¼Œå…¶ä¸­å®ä¾‹åˆ†å‰²ï¼ˆinstance segmentationï¼‰è¿˜èƒ½åŒºåˆ†åŒç§ç±»å‹çš„ä¸åŒä¸ªä½“ã€‚&lt;br&gt;
    
    </summary>
    
      <category term="Deep Learning" scheme="http://shic.top/categories/Deep-Learning/"/>
    
    
      <category term="Deep Learning" scheme="http://shic.top/tags/Deep-Learning/"/>
    
  </entry>
  
  <entry>
    <title>Object Detection with SSD</title>
    <link href="http://shic.top/Deep-Learning/od-ssd/"/>
    <id>http://shic.top/Deep-Learning/od-ssd/</id>
    <published>2019-05-23T16:00:00.000Z</published>
    <updated>2019-05-24T08:56:30.209Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å•å‘å¤šæ¡†æ£€æµ‹"><a href="#å•å‘å¤šæ¡†æ£€æµ‹" class="headerlink" title="å•å‘å¤šæ¡†æ£€æµ‹"></a>å•å‘å¤šæ¡†æ£€æµ‹</h1><p>åœ¨ç›®æ ‡æ£€æŸ¥çš„ä»»åŠ¡ä¸­ï¼Œå•å‘å¤šæ¡†æ£€æµ‹ï¼ˆsingle shot multibox detectionï¼ŒSSDï¼‰æ˜¯ä¸€ä¸ªè®¡ç®—é‡å’Œæ€§èƒ½éƒ½å±…ä¸­çš„ç®—æ³•ï¼Œå®¹æ˜“ç†è§£ä¸”å®ç°ä¸ç®—å¤æ‚ï¼Œå¹¿æ³›åº”ç”¨äºå¾ˆå¤šæ£€æµ‹æ¨¡å‹ä¸­ã€‚<br><a id="more"></a></p>
<h2 id="SSDç½‘ç»œ"><a href="#SSDç½‘ç»œ" class="headerlink" title="SSDç½‘ç»œ"></a>SSDç½‘ç»œ</h2><p>æ­£å¦‚åå­—æè¿°é‚£æ ·ï¼ŒSSDç”±ä¸€ä¸ªæå–å›¾åƒç‰¹å¾çš„åŸºç¡€å·ç§¯ç½‘ç»œå’Œè‹¥å¹²ä¸ªå¤šå°ºåº¦çš„ç‰¹å¾å—ä¸²è”è€Œæˆã€‚é¦–å…ˆç”±åŸºç¡€ç½‘ç»œæå–å›¾åƒçš„ç‰¹å¾ï¼Œè¾“å‡ºå…¶ç‰¹å¾å›¾ï¼Œå†ç”±ä¸€ä¸ªé”šæ¡†ç”Ÿæˆç®—æ³•ï¼ˆ@åç»­è¡¥å……ï¼‰å¾—åˆ°è¯¥ç‰¹å¾å›¾ä¸Šçš„é”šæ¡†ï¼Œå†é’ˆå¯¹æ¯ä¸€ä¸ªé”šæ¡†åšç±»åˆ«å’Œè¾¹ç•Œæ¡†åç§»é‡çš„é¢„æµ‹ã€‚</p>
<p>å‡è®¾æœ‰cç±»ï¼Œé‚£ä¹ˆæ¯ä¸€ä¸ªé”šæ¡†çš„ç±»åˆ«å°±æ˜¯c+1ç±»ã€‚åœ¨åŸºç¡€ç½‘ç»œå—åé¢åˆ†åˆ«ä¸²è”ä¸Šè‹¥å¹²ä¸ªé•¿å®½å‡åŠçš„å·ç§¯å±‚ï¼Œé€æ¸ç¼©å°ç‰¹å¾å›¾çš„å¤§å°ï¼Œæ¯ä¸€ä¸ªé•¿å®½å‡åŠå·ç§¯å±‚çš„è¾“å‡ºä¸Šåˆä¼šå’Œå‰é¢ä¸€æ ·ç”Ÿæˆå¾ˆå¤šä¸ªé”šæ¡†ï¼Œå†åˆ†åˆ«åšå¯¹ç±»åˆ«å’Œè¾¹ç•Œæ¡†çš„é¢„æµ‹ï¼Œè¯¥ç¼©å°åçš„ç‰¹å¾å—åˆæ˜¯ä¸‹ä¸€ä¸ªé•¿å®½å‡åŠçš„å·ç§¯å±‚çš„è¾“å…¥ã€‚è¿™æ ·ä¸€æ¥ï¼Œä½äºç½‘ç»œå‰é¢çš„ç‰¹å¾å—è¾ƒå¤§ï¼Œç‰¹å¾å—ä¸­æ¯ä¸€ä¸ªå•å…ƒçš„æ„Ÿå—é‡è¾ƒå°ï¼Œæ‰€ä»¥é€‚åˆå¤Ÿæ£€æµ‹å‡ºä¸€ä¸‹è¾ƒå°çš„ç›®æ ‡ï¼Œè€Œè¶Šå¾€åï¼Œç‰¹å¾å—è¶Šæ¥è¶Šå°ï¼Œå…¶æ¯ä¸ªå•å…ƒçš„æ„Ÿå—é‡è¶Šæ¥è¶Šå¤§ï¼Œå°±é€‚åˆæ£€æµ‹è¾ƒå¤§çš„ç›®æ ‡ã€‚</p>
<p><a href="https://gluon-cv.mxnet.io/" target="_blank" rel="external">gluoncv</a>çš„<code>model_zoo</code>é‡Œæä¾›äº†å¾ˆå¤šå¯ç”¨çš„æ¨¡å‹ï¼Œå¯ä»¥é€‰æ‹©æ˜¯å¦åŠ è½½é¢„è®­ç»ƒçš„æƒé‡ï¼Œä¹Ÿå¯ä»¥é‡æ–°è®¾ç½®æ¨¡å‹çš„è¾“å‡ºç±»åˆ«æˆ–è€…è®¾ç½®è‡ªå·±éœ€è¦çš„æƒé‡ï¼Œè¿™ä¸€ç‚¹æ˜¯ååˆ†çš„æ–¹ä¾¿çš„ã€‚æˆ‘ä»¬é¦–å…ˆé€šè¿‡ä¸‹é¢ä¸€è¡Œä»£ç å¾—åˆ°æˆ‘ä»¬éœ€è¦çš„ç½‘ç»œï¼Œå…·ä½“æœ‰å“ªäº›ç½‘ç»œå¯é€‰å¯ä»¥å‚è€ƒ<a href="https://gluon-cv.mxnet.io/model_zoo/index.html" target="_blank" rel="external">å®˜ç½‘</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">net = model_zoo.get_model(<span class="string">'ssd_512_resnet50_v1_voc'</span>, pretrained_base = <span class="keyword">False</span>)</div></pre></td></tr></table></figure>
<p><code>pretrained_base = False</code>è¡¨ç¤ºä¸åŠ è½½é¢„è®­ç»ƒçš„æƒé‡ï¼Œè¿”å›çš„<code>net</code>åªæ˜¯ä¸€ä¸ªç©ºçš„æ¡†æ¶ä¸”ï¼Œè®¾ç½®<code>True</code>åˆ™ä¼šä¸‹è½½è¯¥æ¨¡å‹çš„é¢„è®­ç»ƒçš„æƒé‡å‚æ•°ï¼Œå¦‚æœä½¿ç”¨<code>pretrained=True/False</code>åˆ™éƒ½ä¼šä¸‹è½½æƒé‡ï¼Œåªæ˜¯è®¾ç½®æ˜¯å¦åŠ è½½æƒé‡åˆ°æ¨¡å‹ã€‚</p>
<p>æ¯”å¦‚è¯´ä¹‹å‰æˆ‘æ¥è§¦åˆ°ä¸€ä¸ªé¡¹ç›®æ˜¯è®­ç»ƒä¸€ä¸ªèƒ½å®šä½ä¹Œé¾Ÿåœ¨å“ªé‡Œï¼Œè¿™ä¸ªä¹Œé¾Ÿæ˜¯æ€ä¹ˆå›äº‹å‘¢ï¼Ÿæ˜¯å·¥ä½œå®¤é‡Œå…¶ä»–å°ä¼™ä¼´çš„æ™ºèƒ½å­µåŒ–é¡¹ç›®å­µåŒ–å‡ºæ¥çš„ä¹Œé¾Ÿï¼Œæˆ‘ä»¬éœ€è¦éš”å‡ å°æ—¶å°±è¦å¯¹å®ƒæ‹ä¸€å¼ ç…§ç‰‡ç„¶åå®šä½å®ƒåœ¨åŸ¹å…»ç®±çš„å“ªä¸ªä½ç½®ã€‚å¦‚æœè¿œç¦»äº†ä¹Œé¾Ÿç¯çš„å…‰ç…§åŒºå°±å‘å‡ºä¸€æ¡è­¦å‘Šç»™æˆ‘ä»¬ã€‚é‚£ä¹ˆæˆ‘ä»¬åœ¨è¿™ä¸ªé¡¹ç›®é‡Œé¢åªéœ€è¦æ£€æµ‹ä¸€ä¸ªç±»ï¼Œå³ä½¿æ˜¯ä¹Œé¾Ÿç±»åˆ«ä¸åœ¨å…¶é¢„è®­ç»ƒçš„ç±»åˆ«ä¸­ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ä¸€è¡Œä»£ç è¿›è¡Œè®¾ç½®ã€‚å½“ç„¶é¢„è®­ç»ƒçš„ç½‘ç»œä¸­åŸºç¡€ç½‘ç»œæ¨¡å—åŸºæœ¬éƒ½æ˜¯åŸºäº<code>ImageNet</code>è®­ç»ƒçš„åˆ†ç±»ç½‘ç»œï¼Œä¹Ÿå¯ä»¥ç›´æ¥ç”¨åˆ°è‡ªå·±é¡¹ç›®ä¸­ï¼Œæ¯•ç«Ÿæå–ç‰¹å¾çš„æƒé‡å‚æ•°è¿˜æ˜¯å¾ˆæœ‰ç”¨çš„ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">my_net = model_zoo.get_model(<span class="string">'ssd_512_resnet50_v1_voc'</span>, pretrained_base = <span class="keyword">True</span>)</div><div class="line">my_net.reset_class(classes=[<span class="string">'tortoise'</span>])</div></pre></td></tr></table></figure>
<h2 id="Pascal-VOC2012æ•°æ®é›†"><a href="#Pascal-VOC2012æ•°æ®é›†" class="headerlink" title="Pascal VOC2012æ•°æ®é›†"></a>Pascal VOC2012æ•°æ®é›†</h2><h3 id="è¯»å–"><a href="#è¯»å–" class="headerlink" title="è¯»å–"></a>è¯»å–</h3><p><a href="http://host.robots.ox.ac.uk/pascal/VOC/voc2012/" target="_blank" rel="external">Pascal VOC2012æ•°æ®é›†</a>æ˜¯ä¸€ä¸ªç”¨äºç›®æ ‡æ£€æµ‹å’Œè¯­ä¹‰åˆ†å‰²çš„è‘—åæ•°æ®é›†ï¼Œæ˜¯VOC2007çš„ç»­é›†ï¼ŒVOCæ•°æ®é›†ç³»åˆ—çš„æ–‡ä»¶ç»“æ„å¦‚ä¸‹ï¼š</p>
<ul>
<li>VOCdevkit<ul>
<li>VOC2007<ul>
<li>â€¦</li>
</ul>
</li>
<li>VOC2012<ul>
<li>Annotationsï¼šå­˜æ”¾ç›®æ ‡æ£€æµ‹çš„æ ‡ç­¾</li>
<li>ImageSetsï¼šå­˜æ”¾å„ç§ç”¨é€”æ–‡ä»¶çš„åå­—</li>
<li>JPEGImagesï¼šå›¾ç‰‡æ–‡ä»¶</li>
<li>SegmentationClassï¼šè¯­ä¹‰åˆ†å‰²çš„æ ‡æ³¨</li>
<li>SegmentationObjectï¼šå®ä¾‹åˆ†å‰²çš„æ ‡æ³¨</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>åœ¨å®˜ç½‘ä¸‹è½½å¥½æ•°æ®é›†è§£å‹åï¼Œæˆ‘ä»¬å¯ä»¥æŒ‰ç…§è‡ªå·±çš„ä»»åŠ¡éœ€æ±‚æ¥ä½¿ç”¨æ•°æ®é›†ï¼Œå…¶ä¸­VOC2012\ImageSets\Mainé‡Œé¢å°±æœ‰ç›®æ ‡æ£€æµ‹æ‰€éœ€è¦çš„æ–‡ä»¶åå­—ä¿¡æ¯ã€‚mxnetçš„è®¡ç®—æœºè§†è§‰å·¥å…·åŒ…gluoncvæä¾›äº†ä¸€ä¸ªç›´æ¥è¯»å–VOCç›®æ ‡æ£€æµ‹æ ·æœ¬çš„ç±»ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> gluoncv.data <span class="keyword">import</span> VOCDetection</div><div class="line"><span class="comment"># rootä¸ºæ–‡ä»¶è·¯å¾„ï¼ŒsplitsæŒ‡å®šçš„æ˜¯VOCçš„ç±»åˆ«å’Œéœ€è¦ç”¨åˆ°çš„æ–‡ä»¶å</span></div><div class="line">train_dataset = VOCDetection(root = <span class="string">'../data/VOCdevkit'</span>,splits=[(<span class="number">2012</span>, <span class="string">'trainval'</span>)])</div><div class="line">print(<span class="string">'Training images:'</span>, len(train_dataset))</div><div class="line"></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>Training images: <span class="number">11540</span></div></pre></td></tr></table></figure>
<p><code>train_dataset</code>æ˜¯ä¸€ä¸ª<code>gluoncv.data.pascal_voc.detection.VOCDetection</code>çš„ç±»å¯¹è±¡ï¼Œå¯ä»¥é€šè¿‡<code>__getitem__(idx)</code>æˆ–è€…<code>[idx]</code>è®¿é—®ç¬¬<code>idx</code>ä¸ªå…ƒç´ ï¼Œå…¶ä¸­å‰é¢çš„å¤§çŸ©é˜µä¸­å­˜æ”¾çš„æ˜¯å›¾ç‰‡ä¿¡æ¯ï¼Œåé¢è¾ƒå°çŸ©é˜µä¸­æœ‰å‡ è¡Œå°±æœ‰å‡ ä¸ªç±»ï¼Œä¸€è¡Œä¸­å‰å››ä¸ªæ˜¯è¾¹ç•Œæ¡†çš„å€¼ï¼Œç¬¬äº”ä¸ªæ˜¯è¯¥æ¡†ä¸­çš„ç±»åˆ«ï¼Œç¬¬å…­ä¸ªå€¼æš‚ä¸çŸ¥æ˜¯ä»€ä¹ˆ</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">train_dataset.__getitem__(<span class="number">0</span>)</div><div class="line"></div><div class="line">&gt;&gt;&gt;</div><div class="line">(</div><div class="line"> [[[<span class="number">255</span> <span class="number">255</span> <span class="number">255</span>]</div><div class="line">   [<span class="number">255</span> <span class="number">255</span> <span class="number">255</span>]</div><div class="line">   [<span class="number">255</span> <span class="number">255</span> <span class="number">255</span>]</div><div class="line">   ...</div><div class="line">   [<span class="number">202</span> <span class="number">205</span> <span class="number">248</span>]</div><div class="line">   [<span class="number">203</span> <span class="number">206</span> <span class="number">249</span>]</div><div class="line">   [<span class="number">204</span> <span class="number">207</span> <span class="number">250</span>]]</div><div class="line">   ...</div><div class="line">   &lt;NDArray <span class="number">442</span>x500x3 @cpu(<span class="number">0</span>)&gt;,</div><div class="line">   array(</div><div class="line">       [[ <span class="number">52.</span>,  <span class="number">86.</span>, <span class="number">470.</span>, <span class="number">419.</span>,  <span class="number">12.</span>,   <span class="number">0.</span>],</div><div class="line">        [<span class="number">157.</span>,  <span class="number">43.</span>, <span class="number">288.</span>, <span class="number">166.</span>,  <span class="number">14.</span>,   <span class="number">0.</span>]]</div><div class="line">        )</div><div class="line">)</div></pre></td></tr></table></figure>
<p>æ‰“å°å‡ºè¯¥å›¾ç‰‡çœ‹çœ‹</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">img0, label0 = train_dataset.__getitem__(<span class="number">0</span>)</div><div class="line">bboxes = label0[:,:<span class="number">4</span>] <span class="comment"># ä¹Ÿå°±æ˜¯ä¸Šé¢çš„52.,  86., 470., 419å’Œ157.,  43., 288., 166.</span></div><div class="line">cids = label0[:,<span class="number">4</span>:<span class="number">5</span>] <span class="comment"># å°±æ˜¯ä¸Šé¢çš„ç±»åˆ«12å’Œ14</span></div><div class="line"></div><div class="line">%matplotlib inline</div><div class="line"><span class="keyword">from</span> matplotlib <span class="keyword">import</span> pyplot <span class="keyword">as</span> plt</div><div class="line"><span class="keyword">from</span> gluoncv.utils <span class="keyword">import</span> viz</div><div class="line"></div><div class="line">ax = viz.plot_bbox(</div><div class="line">    img0.asnumpy(),</div><div class="line">    bboxes,</div><div class="line">    labels=cids,</div><div class="line">    class_names=train_dataset.classes)</div><div class="line">plt.show()</div><div class="line"></div><div class="line">&gt;&gt;&gt;</div></pre></td></tr></table></figure>
<p><img src="https://github.com/Shicc/webrecourse/raw/master/img/voc_dect%5B0%5D.png" alt="train_dataset[0]"></p>
<h3 id="æ•°æ®è½¬æ¢"><a href="#æ•°æ®è½¬æ¢" class="headerlink" title="æ•°æ®è½¬æ¢"></a>æ•°æ®è½¬æ¢</h3><p>å…ˆå¼•å…¥åç»­éœ€è¦çš„æ¨¡å—</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> gluoncv <span class="keyword">import</span> model_zoo</div><div class="line"><span class="keyword">from</span> gluoncv.data.transforms <span class="keyword">import</span> presets</div><div class="line"><span class="keyword">from</span> gluoncv <span class="keyword">import</span> utils</div><div class="line"><span class="keyword">from</span> mxnet <span class="keyword">import</span> nd, gluon, autograd, init</div><div class="line"><span class="keyword">from</span> gluoncv.data.batchify <span class="keyword">import</span> Tuple, Stack</div><div class="line"><span class="keyword">from</span> mxnet.gluon.data <span class="keyword">import</span> DataLoader</div><div class="line"><span class="keyword">import</span> mxnet <span class="keyword">as</span> mx</div><div class="line"><span class="keyword">from</span> gluoncv.loss <span class="keyword">import</span> SSDMultiBoxLoss</div><div class="line"><span class="keyword">import</span> time</div></pre></td></tr></table></figure>
<p>gluoncvæä¾›äº†æ•°æ®è½¬æ¢å’Œå›¾åƒå¢å¹¿çš„ç±»<code>SSDDefaultTrainTransform</code>ï¼Œåœ¨è¯¥ç±»çš„<code>__init__</code>å‡½æ•°å°±ä¼šæŠŠå›¾åƒæ ‡å‡†åŒ–ã€‚è¯¥ç±»æ˜¯ä¸€ä¸ªæ•°æ®è½¬æ¢çš„ç±»ï¼Œè§„å®šçš„æ˜¯ä¸€ä¸ªæ€ä¹ˆåšæ•°æ®è½¬åŒ–çš„è§„åˆ™ï¼Œä¼ å…¥ä¸¤ä¸ªintå‚æ•°<code>width, height</code>å°±ä¼šæŠŠå›¾åƒè½¬åŒ–æˆ<code>(batch_size, channels, 512, 512)</code>, ï¼ˆ@å¿˜è®°æŸ¥çœ‹_label0äº†ï¼Œä¹‹åè¡¥ä¸Šï¼‰</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">width, height = <span class="number">512</span>, <span class="number">512</span>  <span class="comment"># è®¾ç½®è®­ç»ƒå›¾ç‰‡çš„é•¿å®½</span></div><div class="line"></div><div class="line">train_transform0 = presets.ssd.SSDDefaultTrainTransform(width, height)</div><div class="line">_img0, _label0 = train_transform(img0, label0)</div><div class="line">print(<span class="string">'tensor shape:'</span>, _img0.shape) <span class="comment"># è¿™é‡Œä¼ å…¥çš„ä¸€å¼ å›¾ç‰‡ï¼Œæ•…æ²¡æœ‰batch_size</span></div><div class="line">print(<span class="string">'åŸæ¥ï¼š'</span>, img0.shape)</div><div class="line"></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>tensor shape: (<span class="number">3</span>, <span class="number">512</span>, <span class="number">512</span>)</div><div class="line">    åŸæ¥ï¼š (<span class="number">442</span>, <span class="number">500</span>, <span class="number">3</span>)</div></pre></td></tr></table></figure>
<p>è€Œ<code>_img0</code>å·²ç»æ˜¯è¢«æ ‡å‡†åŒ–çš„æ•°æ®äº†</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">print(_img0)</div><div class="line"></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>[[[ <span class="number">2.1276248</span>   <span class="number">2.1440527</span>   <span class="number">2.1421344</span>  ...  <span class="number">1.4059145</span>   <span class="number">1.3767488</span></div><div class="line">    <span class="number">1.3458692</span> ]</div><div class="line">    [ <span class="number">2.1166914</span>   <span class="number">2.1349118</span>   <span class="number">2.143327</span>   ...  <span class="number">1.3894821</span>   <span class="number">1.3782884</span></div><div class="line">    <span class="number">1.3341411</span> ]</div><div class="line">    [ <span class="number">2.1036239</span>   <span class="number">2.1237183</span>   <span class="number">2.1413574</span>  ...  <span class="number">1.3673979</span>   <span class="number">1.3768137</span></div><div class="line">    <span class="number">1.3274454</span> ]</div><div class="line">    ...]]]</div><div class="line">    &lt;NDArray <span class="number">3</span>x512x512 @cpu(<span class="number">0</span>)&gt;</div></pre></td></tr></table></figure>
<h3 id="æ•°æ®é›†åŠ è½½"><a href="#æ•°æ®é›†åŠ è½½" class="headerlink" title="æ•°æ®é›†åŠ è½½"></a>æ•°æ®é›†åŠ è½½</h3><p>åœ¨SSDçš„é»˜è®¤æ•°æ®è½¬åŒ–çš„ç±»<code>SSDDefaultTrainTransform</code>ä¸­ï¼Œæœ‰ä¸€ä¸ª<code>anchors</code>çš„å‚æ•°å¯é€‰ï¼Œä¸Šé¢æ˜¯æ²¡æœ‰è¯¥å‚æ•°çš„æƒ…å†µï¼Œå¦‚æœåŠ ä¸Šè¯¥å‚æ•°ï¼Œå¯ä»¥å†æ•°æ®è½¬åŒ–ä¸­ç”Ÿæˆè®­ç»ƒç›®æ ‡ä»è€ŒåŠ é€Ÿè®­ç»ƒè¿‡ç¨‹ï¼Œæ„æ€æ˜¯åœ¨æ•°æ®è½¬åŒ–çš„æ—¶å€™å°±é€šè¿‡CPUç”Ÿæˆå¥½é”šæ¡†ç”¨äºæ£€æµ‹ï¼Œè€Œä¸ç”¨ç­‰åˆ°åœ¨GPUä¸Šè®­ç»ƒçš„æ—¶å€™å†å»é€‰æ¡†æ£€æµ‹ã€‚æ ¹æ®æºä»£ç ä¸­çš„æç¤ºï¼š<code>Anchors generated from SSD networks, the shape must be (1, N, 4)</code>,å³è¿™ä¸ªSSDæ•°æ®è½¬åŒ–ç±»çš„<code>anchors</code>éœ€è¦ç”¨SSDç½‘ç»œæ¥ç”Ÿæˆï¼Œè¿™é‡Œçš„SSDæ˜¯åŸºäºmxnetçš„<code>HybridBlock</code>ï¼Œåœ¨é¢„æµ‹çŠ¶æ€ä¸‹è¾“å‡ºä¸º</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">cids, scores, bboxes = net(x) <span class="comment"># ç±»æ ‡ç­¾ï¼Œé¢„æµ‹ç½®ä¿¡åˆ†æ•°ï¼Œè¾¹ç•Œæ¡†</span></div></pre></td></tr></table></figure>
<p>è€Œåœ¨è®­ç»ƒæ¨¡å¼ä¸‹çš„è¾“å‡ºåˆ™ä¸ç”¨ï¼Œ<code>cls_preds</code>æ˜¯<code>softmax</code>çš„ç±»é¢„æµ‹ï¼Œ <code>box_preds</code>æ˜¯ä¸é”šç‚¹ä¸€ä¸€å¯¹åº”çš„è¾¹ç•Œæ¡†åç§»ï¼Œ<code>anchors</code>æ˜¯ç›¸åº”é”šç‚¹æ¡†çš„ç»å¯¹åæ ‡ï¼Œé€šè¿‡ä¸‹é¢çš„è¯­å¥ï¼Œæˆ‘ä»¬ä¾¿è·å–äº†æˆ‘ä»¬éœ€è¦çš„<code>anchors</code>çš„å€¼äº†</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">with</span> autograd.train_mode():</div><div class="line">    cls_preds, box_preds, anchors = net(x)</div></pre></td></tr></table></figure>
<p>æœ‰åˆ«äºå‰é¢çš„æ•°æ®åŠ è½½ï¼Œç°åœ¨çš„åŠ è½½å™¨é‡Œä¼ å…¥çš„<code>transform</code>å‡½æ•°ä¸åŒäº†ã€‚ï¼ˆ@æœ‰ç©ºè§£é‡Šä¸€ä¸‹æ‰¹é‡å¤„ç†çš„å‡½æ•°<code>batchify_fn</code>ï¼‰</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">train_transform = presets.ssd.SSDDefaultTrainTransform(width, height, anchors)</div><div class="line">batchify_fn = Tuple(Stack(), Stack(), Stack())</div><div class="line">train_loader = DataLoader(</div><div class="line">    train_dataset.transform(train_transform),</div><div class="line">    batch_size, <span class="comment"># è®°å¾—æå‰å®šä¹‰å¥½batch_sizeå’Œnum_workers</span></div><div class="line">    shuffle=<span class="keyword">True</span>,</div><div class="line">    batchify_fn=batchify_fn,</div><div class="line">    last_batch=<span class="string">'rollover'</span>,</div><div class="line">    num_workers=num_workers)</div><div class="line"></div><div class="line"><span class="keyword">for</span> ib, batch <span class="keyword">in</span> enumerate(train_loader):</div><div class="line">    <span class="keyword">if</span> ib &gt; <span class="number">0</span>:</div><div class="line">        <span class="keyword">break</span></div><div class="line">    <span class="comment"># è¿™é‡Œå¾—åˆ°çš„batchå°±æ˜¯æ‰¹æ•°æ®</span></div><div class="line">    <span class="comment"># batch[0]æ˜¯æ•°æ®æœ¬èº«(batch_size,channels,width, height)</span></div><div class="line">    <span class="comment"># batch[1]æ˜¯è¦é¢„æµ‹çš„ç±»åˆ«(batch_size,æ¡†æ•°),æ¡†æ•°å°±æ˜¯ç½‘ç»œè¾“å‡ºçš„anchorsæ•°</span></div><div class="line">    <span class="comment"># batch[2]æ˜¯è¦é¢„æµ‹çš„æ¡†(batch_size,æ¡†æ•°,4)</span></div></pre></td></tr></table></figure>
<h2 id="è®­ç»ƒ"><a href="#è®­ç»ƒ" class="headerlink" title="è®­ç»ƒ"></a>è®­ç»ƒ</h2><p>mxnetéƒ½æä¾›äº†å¾ˆå¥½ç”¨çš„apiï¼Œä½¿å¾—æœ¬æ¥å¤æ‚çš„ç›®æ ‡æ£€æµ‹losså¾ˆå¥½ç¼–å†™</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line">mbox_loss = SSDMultiBoxLoss()</div><div class="line">ce_metric = mx.metric.Loss(<span class="string">'CrossEntropy'</span>)</div><div class="line">smoothl1_metric = mx.metric.Loss(<span class="string">'SmoothL1'</span>)</div><div class="line"></div><div class="line">ctx = [mx.gpu()]</div><div class="line">net.initialize(init=init.Xavier(), ctx = ctx, force_reinit=<span class="keyword">True</span>) <span class="comment"># force_reinit=True è¡¨ç¤ºå¼ºåˆ¶åˆå§‹åŒ–</span></div><div class="line"></div><div class="line">trainer = gluon.Trainer(</div><div class="line">    net.collect_params(), <span class="string">'sgd'</span>,</div><div class="line">    &#123;<span class="string">'learning_rate'</span>: <span class="number">0.001</span>, <span class="string">'wd'</span>: <span class="number">0.0005</span>, <span class="string">'momentum'</span>: <span class="number">0.9</span>&#125;)</div><div class="line"></div><div class="line"><span class="keyword">for</span> epoch <span class="keyword">in</span> range(<span class="number">40</span>):</div><div class="line">    ce_metric.reset()</div><div class="line">    smoothl1_metric.reset()</div><div class="line">    net.hybridize(static_alloc=<span class="keyword">True</span>, static_shape=<span class="keyword">True</span>)</div><div class="line">    <span class="keyword">for</span> ib, batch <span class="keyword">in</span> enumerate(train_loader):</div><div class="line">        batch_size = batch[<span class="number">0</span>].shape[<span class="number">0</span>]</div><div class="line">        <span class="comment"># é€šè¿‡è®¿é—®batch[idx]æ¥è·å–ä¸‰ç§æ•°æ®</span></div><div class="line">        data = gluon.utils.split_and_load(batch[<span class="number">0</span>], ctx_list=ctx, batch_axis=<span class="number">0</span>)</div><div class="line">        cls_targets = gluon.utils.split_and_load(batch[<span class="number">1</span>], ctx_list=ctx, batch_axis=<span class="number">0</span>)</div><div class="line">        box_targets = gluon.utils.split_and_load(batch[<span class="number">2</span>], ctx_list=ctx, batch_axis=<span class="number">0</span>)</div><div class="line">        <span class="keyword">with</span> autograd.record():</div><div class="line">           cls_preds = []</div><div class="line">           box_preds = []</div><div class="line">           <span class="keyword">for</span> x <span class="keyword">in</span> data:</div><div class="line">               cls_pred, box_pred, _ = net(x)</div><div class="line">               cls_preds.append(cls_pred)</div><div class="line">               box_preds.append(box_pred)</div><div class="line">           sum_loss, cls_loss, box_loss = mbox_loss(</div><div class="line">                    cls_preds, box_preds, cls_targets, box_targets)</div><div class="line">           autograd.backward(sum_loss)</div><div class="line">        trainer.step(<span class="number">1</span>)</div><div class="line">        ce_metric.update(<span class="number">0</span>, [l * batch_size <span class="keyword">for</span> l <span class="keyword">in</span> cls_loss])</div><div class="line">        smoothl1_metric.update(<span class="number">0</span>, [l * batch_size <span class="keyword">for</span> l <span class="keyword">in</span> box_loss])</div><div class="line">        name1, loss1 = ce_metric.get()</div><div class="line">        name2, loss2 = smoothl1_metric.get()</div><div class="line">    print(<span class="string">'epoch:'</span>, epoch, <span class="string">'class loss:'</span>, loss1, <span class="string">'bbox loss:'</span>, loss2)</div></pre></td></tr></table></figure>
<h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><p>æ€»çš„æ¥è¯´ï¼Œå°±è¿™ç§å¤æ‚ç½‘ç»œï¼Œå®˜æ–¹åŸºæœ¬éƒ½æ˜¯åŸºäº4~8å—é¡¶çº§GPUè¿›è¡Œè®­ç»ƒï¼Œè¯¦æƒ…å¯è§å…¶å®˜ç½‘<code>log</code>ï¼Œæ›´åŠ å¤æ‚çš„ç”šè‡³å‡ åå—ï¼Œæ‰€ä»¥å¯¹äºå¹³æ°‘åŒå­¦æ¥è¯´ï¼Œæ›´å¤šçš„è¿˜æ˜¯åŸºäºé¢„è®­ç»ƒçš„ç½‘ç»œè¿›è¡Œå¾®è°ƒï¼Œåœ¨è‡ªå·±çš„å°ä¸€äº›çš„æ•°æ®é›†ä¸Šåšç‰¹å®šçš„åº”ç”¨ï¼Œæ¯”å¦‚è¯´å®šæœŸæ£€æµ‹ä¹Œé¾Ÿè·‘åˆ°åŸ¹å…»ç®±çš„å“ªä¸ªä½ç½®å»äº†ã€‚</p>
]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;å•å‘å¤šæ¡†æ£€æµ‹&quot;&gt;&lt;a href=&quot;#å•å‘å¤šæ¡†æ£€æµ‹&quot; class=&quot;headerlink&quot; title=&quot;å•å‘å¤šæ¡†æ£€æµ‹&quot;&gt;&lt;/a&gt;å•å‘å¤šæ¡†æ£€æµ‹&lt;/h1&gt;&lt;p&gt;åœ¨ç›®æ ‡æ£€æŸ¥çš„ä»»åŠ¡ä¸­ï¼Œå•å‘å¤šæ¡†æ£€æµ‹ï¼ˆsingle shot multibox detectionï¼ŒSSDï¼‰æ˜¯ä¸€ä¸ªè®¡ç®—é‡å’Œæ€§èƒ½éƒ½å±…ä¸­çš„ç®—æ³•ï¼Œå®¹æ˜“ç†è§£ä¸”å®ç°ä¸ç®—å¤æ‚ï¼Œå¹¿æ³›åº”ç”¨äºå¾ˆå¤šæ£€æµ‹æ¨¡å‹ä¸­ã€‚&lt;br&gt;
    
    </summary>
    
      <category term="Deep Learning" scheme="http://shic.top/categories/Deep-Learning/"/>
    
    
      <category term="Deep Learning" scheme="http://shic.top/tags/Deep-Learning/"/>
    
  </entry>
  
  <entry>
    <title>Finetuning-classification</title>
    <link href="http://shic.top/Deep-Learning/finetune-classification/"/>
    <id>http://shic.top/Deep-Learning/finetune-classification/</id>
    <published>2019-05-10T16:00:00.000Z</published>
    <updated>2019-05-11T12:54:23.698Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ä»å¤´è®­ç»ƒorå¾®è°ƒæ¨¡å‹ï¼šè¿ç§»å­¦ä¹ å¿«é€Ÿå®æˆ˜"><a href="#ä»å¤´è®­ç»ƒorå¾®è°ƒæ¨¡å‹ï¼šè¿ç§»å­¦ä¹ å¿«é€Ÿå®æˆ˜" class="headerlink" title="ä»å¤´è®­ç»ƒorå¾®è°ƒæ¨¡å‹ï¼šè¿ç§»å­¦ä¹ å¿«é€Ÿå®æˆ˜"></a>ä»å¤´è®­ç»ƒorå¾®è°ƒæ¨¡å‹ï¼šè¿ç§»å­¦ä¹ å¿«é€Ÿå®æˆ˜</h1><h2 id="ä¸ºä»€ä¹ˆè¦åšï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆè¦åšï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆè¦åšï¼Ÿ"></a>ä¸ºä»€ä¹ˆè¦åšï¼Ÿ</h2><p>è¿˜è®°å¾—2018å¹´å¾®è½¯åˆ›æ–°æ¯ä¸Šï¼Œæˆ‘å’Œæˆ‘åŒå­¦ç‰›ç‰›çš„é¡¹ç›®ä¸­éœ€è¦è®­ç»ƒä¸€ä¸ªæ™ºèƒ½è¯†åˆ«é£Ÿç‰©ç§ç±»çš„æ¨¡å‹ã€‚å½“æ—¶æ²¡æœ‰è®¡ç®—èµ„æºçš„æˆ‘ä»¬ï¼Œå†™å®Œä»£ç ç”¨CPUè·‘äº†è·‘å°±æäº¤äº†ï¼Œæ­¢æ­¥å¤èµ›ã€‚ä»Šå¹´ä¸€å¤§æ®µæ— æ³•æ´»åŠ¨çš„æ—¶é—´é‡Œï¼Œæ•´ç†äº†ä»¥å‰çš„ä»£ç ï¼Œæˆ‘æ‰æ‘¸ç€è§‚å¯Ÿè¿™ä¸€ç¥å¥‡çš„æ•°æ®é›†ï¼Œçœ‹ç€æœªè®­ç»ƒçš„æ¨¡å‹ï¼Œå¿ƒæƒ³ç€è¿™ä¸œè¥¿å¿…é¡»å¾—æ•´ä¸€ä¸‹ï¼Œä¹Ÿä¸ºä¹‹åçš„æŸæ¬¡ç›˜é—®æ”¶é›†ç‚¹ä¼šè®®èµ„æ–™ï¼Œå¾…åˆ°åŠå¹´åå¤§ä¼¤åˆæ„ˆåï¼Œä¼°è®¡åˆå¾—ä¸Šè·¯äº†ã€‚<br><a id="more"></a></p>
<h2 id="å¾®è°ƒ"><a href="#å¾®è°ƒ" class="headerlink" title="å¾®è°ƒ"></a>å¾®è°ƒ</h2><p>åœ¨è®¡ç®—æœºè§†è§‰ä¸Šï¼Œå¦‚æœä»å¤´è®­ç»ƒä¸€ä¸ªæ¨¡å‹ï¼Œæˆ‘ä»¬ä¸ç»éœ€è¦è¶³é‡çš„æ•°æ®é›†æ¥æ»¡è¶³è®­ç»ƒè¦æ±‚ï¼Œä¹Ÿéœ€è¦è¶³å¤Ÿå¤šçš„è®¡ç®—èµ„æºï¼Œæ˜¾ç„¶è¿™ä¸æ˜¯æ¯ä¸€ä¸ªäººéƒ½èƒ½è¾¾åˆ°çš„ï¼Œæœ‰ä¸€ç§åŠæ³•é‚£å°±æ˜¯è¿ç§»å­¦ä¹ ï¼ˆtransfer learningï¼‰ï¼Œå®ƒå°†ä»æºæ•°æ®é›†å­¦åˆ°çš„çŸ¥è¯†è¿ç§»åˆ°ç›®æ ‡æ•°æ®é›†ä¸Šï¼Œé¢„è®­ç»ƒæ¨¡å‹å¯ä»¥æŠ½å–è¾ƒä¸ºé€šç”¨çš„å›¾åƒç‰¹å¾ï¼Œåªéœ€æ›´æ”¹æ¨¡å‹çš„è¾“å‡ºå±‚å¹¶é‡æ–°è®­ç»ƒï¼Œä½¿ä¹‹æ»¡è¶³ç›®æ ‡æ•°æ®é›†çš„è¦æ±‚ã€‚å¾®è°ƒï¼ˆfine tuningï¼‰æ˜¯è¿ç§»å­¦ä¹ ä¸­çš„ä¸€ç§å¸¸ç”¨æŠ€æœ¯ã€‚å¾®è°ƒçš„æ„æ€å°±æ˜¯å¯¹äºç›®çš„æ¨¡å‹çš„featuresé‡‡ç”¨é¢„è®­ç»ƒæ¨¡å‹çš„featureså¹¶ç”¨å¾ˆå°çš„å­¦ä¹ ç‡å¾®è°ƒæˆ–è€…å°±å›ºå®šä¸å˜ï¼Œè€Œè¾“å‡ºå±‚é‡‡ç”¨éšæœºåˆå§‹åŒ–å¹¶ä»å¤´å¼€å§‹è®­ç»ƒã€‚</p>
<h2 id="æ•°æ®é›†ä»‹ç»"><a href="#æ•°æ®é›†ä»‹ç»" class="headerlink" title="æ•°æ®é›†ä»‹ç»"></a>æ•°æ®é›†ä»‹ç»</h2><p>åœ¨kaggleä¸Šï¼Œåˆé€‚çš„æ•°æ®é›†å°±æ˜¯<a href="https://www.kaggle.com/prathmeshgodse/food101-zip" target="_blank" rel="external">food101</a>äº†ã€‚ä½†ç¥å¥‡çš„æ˜¯9GBå¤§çš„æ•°æ®é›†ä¸­ï¼Œè®­ç»ƒé›†å’Œæµ‹è¯•é›†å†…å®¹éƒ½æ˜¯ä¸€æ ·çš„ã€‚ä¸¥æ ¼æ„ä¹‰ä¸Šè®²ï¼Œæµ‹è¯•é›†åªèƒ½åœ¨æ¨¡å‹çš„å„ç§å‚æ•°ç¡®å®šåç”¨æ¥æµ‹è¯•æ¨¡å‹çš„ç²¾åº¦ï¼Œä½†è®­ç»ƒé›†å’Œæµ‹è¯•é›†ä¸€æ ·çš„è¯ï¼Œé‚£ç›¸å½“äºè¿˜æ˜¯ç”¨çš„è®­ç»ƒé›†åœ¨åšæµ‹è¯•ï¼Œè¿™æ ·å¾—å‡ºçš„æ³›åŒ–è¯¯å·®é‚£å°±æ˜¯è®­ç»ƒè¯¯å·®ï¼Œæ˜¯ä¸å¯¹çš„ã€‚å½“æ—¶åšçš„æ—¶å€™ä¹Ÿæ²¡ç®¡ï¼Œç”¨CPUå»è·‘è¿™ä¸ªåºå¤§çš„æ•°æ®é›†ä¹Ÿæ²¡èƒ½ä½“éªŒåˆ°fine-tuningçš„é­…åŠ›ï¼Œå¯¹äºæœ€åä¸€ä¸ª101ç±»çš„åˆ†ç±»å™¨ä¹Ÿä¸å¥½è®­ç»ƒï¼Œå…¶å®fing-tuningæ²¡å•¥ä¸œè¥¿ï¼Œä½†æœ‰æ—¶å€™æ‡‚ç®—æ³•å°±æ˜¯é‚£ä¸€ä¸ªå…¨æ–°çš„ä»»åŠ¡ä¸å¥½ä¸Šæ‰‹ï¼Œè·‘ä¸å¥½æ¨¡å‹è¿˜æ˜¯æ—¶æœ‰å‘ç”Ÿçš„ï¼Œè¿™æ¬¡é—²ç€æ— èŠæ•´äº†ä¸€ä¸ª5ä¸ªç±»çš„å°æ•°æ®é›†ï¼Œä¸”æ­£ç¡®åˆ’åˆ†äº†è®­ç»ƒé›†å’Œæµ‹è¯•é›†ã€‚å†¥å†¥ä¹‹ä¸­è§‰å¾—åˆä¸€ä¸ªä¸Šæ‰‹fing-tuningçš„å¥½ä¾‹å­ï¼Œå°å‹æ•°æ®é›†ï¼š<a href="https://pan.baidu.com/s/1Oaf8m5IZiwLOBqc9gJ4aDw" target="_blank" rel="external">ç½‘ç›˜</a> æå–ç : 8u46</p>
<p>è®­ç»ƒé›†å„ç±»å„700å¼ ï¼Œæµ‹è¯•é›†å„ç±»å„300å¼ ï¼Œå…¶æ–‡ä»¶ç»“æ„å¦‚ä¸‹ï¼š</p>
<ul>
<li>food5<ul>
<li>train<ul>
<li>apple_pie</li>
<li>baby_back_ribs</li>
<li>baklava</li>
<li>beef_carpaccio</li>
<li>beef_tartare</li>
</ul>
</li>
<li>test<ul>
<li>apple_pie</li>
<li>baby_back_ribs</li>
<li>baklava</li>
<li>beef_carpaccio</li>
<li>beef_tartare</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="ä¾èµ–"><a href="#ä¾èµ–" class="headerlink" title="ä¾èµ–"></a>ä¾èµ–</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> d2lzh <span class="keyword">as</span> d2l</div><div class="line"><span class="keyword">from</span> mxnet <span class="keyword">import</span> gluon, init</div><div class="line"><span class="keyword">from</span> mxnet.gluon <span class="keyword">import</span> data <span class="keyword">as</span> gdata, loss <span class="keyword">as</span> gloss, model_zoo</div><div class="line"><span class="keyword">import</span> os</div></pre></td></tr></table></figure>
<h2 id="è¯»å–æ•°æ®"><a href="#è¯»å–æ•°æ®" class="headerlink" title="è¯»å–æ•°æ®"></a>è¯»å–æ•°æ®</h2><p>gluonæä¾›äº†ä¸€ä¸ªè¯»å–ç”¨æ–‡ä»¶å¤¹åå­—åˆ†å¥½ç±»çš„å›¾åƒæ•°æ®é›†æ¥å£ï¼ŒåŒä¸€ç±»åˆ«çš„æ•°æ®éƒ½æ”¾åœ¨åŒä¸€æ–‡ä»¶å¤¹ä¸­ï¼Œæ–‡ä»¶å¤¹åå°±æ˜¯ç±»åˆ«åã€‚å‡½æ•°ä¼šè‡ªåŠ¨ç”Ÿæˆç›¸åº”çš„labelã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">train_imgs = gdata.vision.ImageFolderDataset(os.path.join(data_dir, <span class="string">'train'</span>))</div><div class="line">test_imgs = gdata.vision.ImageFolderDataset(os.path.join(data_dir, <span class="string">'test'</span>))</div></pre></td></tr></table></figure>
<p>å¾—åˆ°çš„train_imgså’Œtest_imgså°±æ˜¯ä¸€ä¸ª<code>ImageFolderDataset</code>ç±»ï¼Œé€šè¿‡<code>__len__()</code>å¯ä»¥å¾—åˆ°å…¶é•¿åº¦ï¼Œå³åŒ…å«å¤šå°‘ä¸ªæ ·æœ¬ï¼Œ <code>.__getitem__(x)</code>ä¼šè¿”å›ç¬¬xä¸ªæ ·æœ¬å’Œå…¶ç±»åˆ«ã€‚</p>
<p>å¤„ç†æ•°æ®æ—¶ï¼Œæˆ‘ä»¬å¯¹RGBä¸‰ä¸ªé¢œè‰²é€šé“çš„æ•°å€¼åšæ ‡å‡†åŒ–ï¼Œæ¯ä¸ªæ•°å€¼å‡å»è¯¥é€šé“æ‰€æœ‰æ•°å€¼çš„å¹³å‡å€¼ï¼Œå†é™¤ä»¥è¯¥é€šé“æ‰€æœ‰æ•°å€¼çš„æ ‡å‡†å·®ä½œä¸ºè¾“å‡ºã€‚å½“å›¾ç‰‡å¤§å°ä¸ä¸€æ ·æ—¶ï¼Œæˆ‘ä»¬å…ˆä»å›¾åƒä¸­è£å‰ªå‡ºéšæœºå¤§å°å’Œéšæœºé«˜å®½æ¯”çš„ä¸€å—éšæœºåŒºåŸŸï¼Œç„¶åå°†è¯¥åŒºåŸŸç¼©æ”¾ä¸ºé«˜å’Œå®½å‡ä¸º224åƒç´ çš„è¾“å…¥ã€‚æµ‹è¯•æ—¶ï¼Œæˆ‘ä»¬å°†å›¾åƒçš„é«˜å’Œå®½å‡ç¼©æ”¾ä¸º256åƒç´ ï¼Œç„¶åä»ä¸­è£å‰ªå‡ºé«˜å’Œå®½å‡ä¸º224åƒç´ çš„ä¸­å¿ƒåŒºåŸŸä½œä¸ºè¾“å…¥ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># æŒ‡å®šRGBä¸‰ä¸ªé€šé“çš„å‡å€¼å’Œæ–¹å·®æ¥å°†å›¾åƒé€šé“å½’ä¸€åŒ–</span></div><div class="line"><span class="comment"># æ­¤æ•°æ®æ˜¯ImageNetä¸Šçš„æ•°æ®ç®—å‡ºæ¥çš„æ•°å€¼</span></div><div class="line">normalize = gdata.vision.transforms.Normalize(</div><div class="line">    [<span class="number">0.485</span>, <span class="number">0.456</span>, <span class="number">0.406</span>], [<span class="number">0.229</span>, <span class="number">0.224</span>, <span class="number">0.225</span>])</div><div class="line"></div><div class="line">train_augs = gdata.vision.transforms.Compose([</div><div class="line">    gdata.vision.transforms.RandomResizedCrop(<span class="number">224</span>),</div><div class="line">    gdata.vision.transforms.RandomFlipLeftRight(),</div><div class="line">    gdata.vision.transforms.ToTensor(),</div><div class="line">    normalize])</div><div class="line"></div><div class="line">test_augs = gdata.vision.transforms.Compose([</div><div class="line">    gdata.vision.transforms.Resize(<span class="number">256</span>),</div><div class="line">    gdata.vision.transforms.CenterCrop(<span class="number">224</span>),</div><div class="line">    gdata.vision.transforms.ToTensor(),</div><div class="line">    normalize])</div></pre></td></tr></table></figure>
<p>è°ƒç”¨<code>ImageFolderDataset</code>ç±»çš„<code>transform_first(train_augs)</code>å‡½æ•°ï¼Œä¼ å…¥å˜åŒ–çš„è§„åˆ™ï¼Œå®ƒä¼šæŠŠæ•°æ®é›†çš„å…¨éƒ¨è¾“å…¥æŒ‰ç…§è§„åˆ™æ¥å˜åŒ–è€Œä¿ç•™labelä¸åŠ¨ï¼Œè¿™å°±å¾—åˆ°äº†æˆ‘ä»¬æ•°æ®å¤„ç†åçš„å¯ä»¥æ‹¿æ¥è®­ç»ƒçš„æ•°æ®é›†ã€‚åœ¨é€šè¿‡gluonæä¾›çš„<code>DataLoader</code>ç±»æ¥è·å–æ‰¹é‡æ•°æ®ï¼Œ<code>DataLoader</code>ç±»æ¥å—ä¸‰ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯æ•°æ®é›†ï¼Œç¬¬äºŒä¸ªæ˜¯<code>batch_size</code>ï¼Œä¼šæŠŠæ•°æ®é›†æŒ‰ç…§<code>batch_size</code>æ¥åˆ’åˆ†ï¼Œç¬¬ä¸‰ä¸ªæŒ‡å®šæ˜¯å¦éšæœºè¯»å–çš„ï¼Œ<code>shuffle=True</code>è¡¨ç¤ºéšæœºè¯»å–</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">train_iter = gdata.DataLoader(train_imgs.transform_first(train_augs), batch_size, shuffle=<span class="keyword">True</span>)</div><div class="line">test_iter = gdata.DataLoader(test_imgs.transform_first(test_augs), batch_size)</div></pre></td></tr></table></figure>
<h2 id="æ­å»ºæ¨¡å‹"><a href="#æ­å»ºæ¨¡å‹" class="headerlink" title="æ­å»ºæ¨¡å‹"></a>æ­å»ºæ¨¡å‹</h2><p>ä»¥å‰ä½¿ç”¨çš„<code>NumPy</code>çš„<code>vgg</code>å‚æ•°æ–‡ä»¶åŸºäº<code>TensorFlow</code>1.xçš„ä»£ç åšfine tuningå¾ˆéº»çƒ¦ï¼Œä»£ç è‡ƒè‚¿è¿˜ä¸å¥½ç†è§£ï¼Œè¯¦æƒ…è¯·çœ‹è¿™ä¸ª<a href="https://github.com/Shicc/food101" target="_blank" rel="external">repo</a>ã€‚<code>mxnet</code>çš„<code>Gluon</code>å‰ç«¯å‡ºæ¥åï¼Œä¾¿åˆ©ä¸Šä¹Ÿå¹¿å—å¥½è¯„ï¼Œæœ¬æ¬¡å°±æ”¾å¼ƒåŸå…ˆçš„ä»£ç ï¼Œç”¨<code>Gluon</code>3è¡Œä»£ç å¿«é€Ÿåšå¥½fine tuningã€‚</p>
<h3 id="å®šä¹‰å¾®è°ƒæ¨¡å‹"><a href="#å®šä¹‰å¾®è°ƒæ¨¡å‹" class="headerlink" title="å®šä¹‰å¾®è°ƒæ¨¡å‹"></a>å®šä¹‰å¾®è°ƒæ¨¡å‹</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># é‡‡ç”¨åœ¨ImageNetä¸Šé¢„è®­ç»ƒçš„resnet34_v2ç½‘ç»œ</span></div><div class="line">pretrained_net = model_zoo.vision.resnet34_v2(pretrained=<span class="keyword">True</span>)</div><div class="line"></div><div class="line">finetune_net = model_zoo.vision.resnet34_v2(classes=<span class="number">5</span>) <span class="comment">#classesè¡¨ç¤ºç±»åˆ«æ•°</span></div><div class="line"><span class="comment"># å›ºå®šfeaturesä¸­çš„å‚æ•°ï¼š</span></div><div class="line"><span class="comment"># finetune_net.features.collect_params().setattr('grad_req', 'null')</span></div><div class="line">finetune_net.features = pretrained_net.features</div><div class="line">finetune_net.output.initialize(init.Xavier())</div><div class="line"><span class="comment"># outputä¸­çš„æ¨¡å‹å‚æ•°å°†åœ¨è¿­ä»£ä¸­ä½¿ç”¨10å€å¤§çš„å­¦ä¹ ç‡</span></div><div class="line">finetune_net.output.collect_params().setattr(<span class="string">'lr_mult'</span>, <span class="number">10</span>)</div></pre></td></tr></table></figure>
<h3 id="å¾®è°ƒæ¨¡å‹"><a href="#å¾®è°ƒæ¨¡å‹" class="headerlink" title="å¾®è°ƒæ¨¡å‹"></a>å¾®è°ƒæ¨¡å‹</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">train_fine_tuning</span><span class="params">(net, learning_rate, batch_size=<span class="number">200</span>, num_epochs=<span class="number">20</span>)</span>:</span></div><div class="line">    ctx = d2l.try_all_gpus()</div><div class="line">    net.collect_params().reset_ctx(ctx) <span class="comment"># æŠŠæ•°æ®å¤åˆ¶åˆ°gpuä¸Š</span></div><div class="line">    net.hybridize()</div><div class="line">    loss = gloss.SoftmaxCrossEntropyLoss()</div><div class="line">    trainer = gluon.Trainer(net.collect_params(), <span class="string">'sgd'</span>, &#123;</div><div class="line">        <span class="string">'learning_rate'</span>: learning_rate, <span class="string">'wd'</span>: <span class="number">0.001</span>&#125;)</div><div class="line">    d2l.train(train_iter, test_iter, net, loss, trainer, ctx, num_epochs)</div><div class="line"></div><div class="line">train_fine_tuning(finetune_net, <span class="number">0.01</span>) <span class="comment">#ç”¨0.01çš„å°å­¦ä¹ ç‡å¾®è°ƒfeatures</span></div></pre></td></tr></table></figure>
<h2 id="ç»“æœ"><a href="#ç»“æœ" class="headerlink" title="ç»“æœ"></a>ç»“æœ</h2><p>ç®€å•è·‘äº†ä¸€ä¸‹ç»“æœä¹Ÿè¿˜èƒ½æ¥å—ï¼Œä½†ä»æœ€åå‡ ä¸ªepochsçœ‹æ¥ï¼Œè¿˜æœ‰ä¼˜åŒ–ç©ºé—´</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">training on [gpu(0)]</div><div class="line">epoch 1, loss 3.8275, train acc 0.401, test acc 0.652, time 1299.6 sec</div><div class="line">epoch 2, loss 1.1384, train acc 0.680, test acc 0.772, time 50.4 sec</div><div class="line">epoch 3, loss 0.5352, train acc 0.817, test acc 0.801, time 51.5 sec</div><div class="line">epoch 4, loss 0.4826, train acc 0.828, test acc 0.842, time 50.4 sec</div><div class="line">epoch 5, loss 0.4427, train acc 0.842, test acc 0.813, time 49.8 sec</div><div class="line">epoch 6, loss 0.3969, train acc 0.858, test acc 0.856, time 50.5 sec</div><div class="line">epoch 7, loss 0.3310, train acc 0.879, test acc 0.867, time 49.6 sec</div><div class="line">epoch 8, loss 0.3035, train acc 0.893, test acc 0.818, time 50.7 sec</div><div class="line">epoch 9, loss 0.2848, train acc 0.895, test acc 0.865, time 51.3 sec</div><div class="line">epoch 10, loss 0.3183, train acc 0.883, test acc 0.865, time 49.4 sec</div><div class="line">epoch 11, loss 0.2798, train acc 0.895, test acc 0.875, time 50.3 sec</div><div class="line">epoch 12, loss 0.2640, train acc 0.902, test acc 0.861, time 51.0 sec</div><div class="line">epoch 13, loss 0.2406, train acc 0.915, test acc 0.877, time 49.7 sec</div><div class="line">epoch 14, loss 0.2262, train acc 0.918, test acc 0.875, time 50.3 sec</div><div class="line">epoch 15, loss 0.1985, train acc 0.929, test acc 0.869, time 50.4 sec</div><div class="line">epoch 16, loss 0.2123, train acc 0.923, test acc 0.883, time 50.4 sec</div><div class="line">epoch 17, loss 0.1978, train acc 0.925, test acc 0.886, time 50.3 sec</div><div class="line">epoch 18, loss 0.1935, train acc 0.929, test acc 0.884, time 49.9 sec</div><div class="line">epoch 19, loss 0.1899, train acc 0.934, test acc 0.878, time 50.4 sec</div><div class="line">epoch 20, loss 0.1936, train acc 0.931, test acc 0.894, time 50.5 sec</div></pre></td></tr></table></figure>
<h3 id="gpuä½¿ç”¨æƒ…å†µ"><a href="#gpuä½¿ç”¨æƒ…å†µ" class="headerlink" title="gpuä½¿ç”¨æƒ…å†µ"></a>gpuä½¿ç”¨æƒ…å†µ</h3><p>åªæ˜¯æ²¡æƒ³åˆ°è¿™ä¹ˆå°‘çš„æ•°æ®éƒ½å äº†è¿™ä¹ˆå¤šæ˜¾å­˜</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">+-----------------------------------------------------------------------------+</div><div class="line">| NVIDIA-SMI 418.56       Driver Version: 410.79       CUDA Version: 10.0     |</div><div class="line">|-------------------------------+----------------------+----------------------+</div><div class="line">| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |</div><div class="line">| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |</div><div class="line">|===============================+======================+======================|</div><div class="line">|   0  Tesla T4            Off  | 00000000:00:04.0 Off |                    0 |</div><div class="line">| N/A   77C    P0    31W /  70W |  15071MiB / 15079MiB |      0%      Default |</div><div class="line">+-------------------------------+----------------------+----------------------+</div><div class="line">+-----------------------------------------------------------------------------+</div><div class="line">| Processes:                                                       GPU Memory |</div><div class="line">|  GPU       PID   Type   Process name                             Usage      |</div><div class="line">|=============================================================================|</div><div class="line">+-----------------------------------------------------------------------------+</div></pre></td></tr></table></figure>
<p>è€Œfinetuning_netçš„è¾“å‡ºå±‚åˆ™è¢«æ”¹æˆäº†5ä¸ªç±»</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;pretrained_net.output</div><div class="line">Dense(2048 -&gt; 5, linear)</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;ä»å¤´è®­ç»ƒorå¾®è°ƒæ¨¡å‹ï¼šè¿ç§»å­¦ä¹ å¿«é€Ÿå®æˆ˜&quot;&gt;&lt;a href=&quot;#ä»å¤´è®­ç»ƒorå¾®è°ƒæ¨¡å‹ï¼šè¿ç§»å­¦ä¹ å¿«é€Ÿå®æˆ˜&quot; class=&quot;headerlink&quot; title=&quot;ä»å¤´è®­ç»ƒorå¾®è°ƒæ¨¡å‹ï¼šè¿ç§»å­¦ä¹ å¿«é€Ÿå®æˆ˜&quot;&gt;&lt;/a&gt;ä»å¤´è®­ç»ƒorå¾®è°ƒæ¨¡å‹ï¼šè¿ç§»å­¦ä¹ å¿«é€Ÿå®æˆ˜&lt;/h1&gt;&lt;h2 id=&quot;ä¸ºä»€ä¹ˆè¦åšï¼Ÿ&quot;&gt;&lt;a href=&quot;#ä¸ºä»€ä¹ˆè¦åšï¼Ÿ&quot; class=&quot;headerlink&quot; title=&quot;ä¸ºä»€ä¹ˆè¦åšï¼Ÿ&quot;&gt;&lt;/a&gt;ä¸ºä»€ä¹ˆè¦åšï¼Ÿ&lt;/h2&gt;&lt;p&gt;è¿˜è®°å¾—2018å¹´å¾®è½¯åˆ›æ–°æ¯ä¸Šï¼Œæˆ‘å’Œæˆ‘åŒå­¦ç‰›ç‰›çš„é¡¹ç›®ä¸­éœ€è¦è®­ç»ƒä¸€ä¸ªæ™ºèƒ½è¯†åˆ«é£Ÿç‰©ç§ç±»çš„æ¨¡å‹ã€‚å½“æ—¶æ²¡æœ‰è®¡ç®—èµ„æºçš„æˆ‘ä»¬ï¼Œå†™å®Œä»£ç ç”¨CPUè·‘äº†è·‘å°±æäº¤äº†ï¼Œæ­¢æ­¥å¤èµ›ã€‚ä»Šå¹´ä¸€å¤§æ®µæ— æ³•æ´»åŠ¨çš„æ—¶é—´é‡Œï¼Œæ•´ç†äº†ä»¥å‰çš„ä»£ç ï¼Œæˆ‘æ‰æ‘¸ç€è§‚å¯Ÿè¿™ä¸€ç¥å¥‡çš„æ•°æ®é›†ï¼Œçœ‹ç€æœªè®­ç»ƒçš„æ¨¡å‹ï¼Œå¿ƒæƒ³ç€è¿™ä¸œè¥¿å¿…é¡»å¾—æ•´ä¸€ä¸‹ï¼Œä¹Ÿä¸ºä¹‹åçš„æŸæ¬¡ç›˜é—®æ”¶é›†ç‚¹ä¼šè®®èµ„æ–™ï¼Œå¾…åˆ°åŠå¹´åå¤§ä¼¤åˆæ„ˆåï¼Œä¼°è®¡åˆå¾—ä¸Šè·¯äº†ã€‚&lt;br&gt;
    
    </summary>
    
      <category term="Deep Learning" scheme="http://shic.top/categories/Deep-Learning/"/>
    
    
      <category term="Deep Learning" scheme="http://shic.top/tags/Deep-Learning/"/>
    
  </entry>
  
  <entry>
    <title>Spring Boot+Spring Data JPA+Thymeleaf(ä¸€)</title>
    <link href="http://shic.top/Spring-Boot/Spring%20Boot1/"/>
    <id>http://shic.top/Spring-Boot/Spring Boot1/</id>
    <published>2018-03-07T16:00:10.000Z</published>
    <updated>2018-03-08T05:52:47.094Z</updated>
    
    <content type="html"><![CDATA[<p><strong>Spring Bootï¼šé¢ è¦†Java EEå¼€å‘</strong><br><a id="more"></a></p>
<h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><p>æˆ–è®¸ä½ å¬è¿‡Spring,Struts2,Hibernateçš„SSHæ•´åˆå¼€å‘æ¡†æ¶ï¼Œä½ å¯èƒ½ä¹Ÿç”¨è¿‡Spring,SpringMVC,Mybatisçš„SSM,ä½†å®ƒä»¬éƒ½æˆ–å¤šæˆ–å°‘çš„æœ‰äº›éº»çƒ¦ï¼Œå¤§é‡çš„é…ç½®æ–‡ä»¶ä¹Ÿä¸åˆ©äºä¸“æ³¨äºä»£ç çš„ç¼–å†™ã€‚é‚£ä¹ˆå…¨æ–°çš„Spring Boot+Spring Data JPA+Thymeleafå¼€å‘æ¨¡å¼èƒ½è®©ä½ æ„Ÿè§‰åŸæ¥Java Webä¹Ÿå¯ä»¥å˜å¾—ç®€å•<br><br><br>Spring Bootåœ¨2014å¹´é¢å¸‚åï¼Œä¸€è·¯é«˜æ­ŒçŒ›è¿›ï¼Œå¤§æœ‰é¢ è¦†Java EEå¼€å‘çš„è¶‹åŠ¿ï¼Œå®ƒçš„é…ç½®å°‘ï¼Œå¯¹å…¶ä»–æ¡†æ¶æœ‰æ•´åˆå¼€å‘çš„ç‰¹ç‚¹ï¼Œèƒ½è®©ç¼–ç äººå‘˜ä¸“æ³¨äºè‡ªå·±çš„ä¸šåŠ¡ä»£ç çš„ç¼–å†™è€Œä¸ä¼šæ—¶ä¸æ—¶å°±æ˜¯ç¼–å†™å¤§é‡çš„é…ç½®æ–‡ä»¶ã€‚è®©å¼€å‘ä¹Ÿå˜å¾—é«˜æ•ˆå’Œä¾¿æ·ã€‚å¦‚æœä½ ä¹Ÿæƒ³å­¦ä¹ Java Webçš„å¼€å‘ï¼Œé‚£ä¹ˆç›´æ¥å­¦ä¹ Spring Bootæ˜¯ä½ æœ€å¥½çš„é€‰æ‹©ï¼<br><br></p>
<h2 id="å…³äºæœ¬å¥—è§†é¢‘"><a href="#å…³äºæœ¬å¥—è§†é¢‘" class="headerlink" title="å…³äºæœ¬å¥—è§†é¢‘"></a>å…³äºæœ¬å¥—è§†é¢‘</h2><p>è§†é¢‘åˆ¶ä½œäº2017å¹´11æœˆåˆï¼Œæœ¬æ¬¡å¯¹è§†é¢‘èµ„æºåšäº†ä»¥ä¸‹è°ƒæ•´å’Œä¼˜åŒ–ï¼š</p>
<ul>
<li>è§†é¢‘ä»¥ä¸€ä¸ªç”¨æˆ·ç™»å½•æ³¨å†Œçš„ä¾‹å­æ¥è¿›è¡Œè®²è§£ï¼Œä¸ä¼šæ¶‰åŠå¤ªå¤šåŠŸèƒ½å’Œä»£ç ï¼Œä¸»è¦èµ·æ™®åŠSpring Bootçš„ä½œç”¨ï¼Œæ–¹ä¾¿åˆå­¦è€…å­¦ä¹ å’Œå…¥é—¨Spring Bootã€‚</li>
<li>åˆ‡åˆ†è§†é¢‘ä¸º6æ®µï¼Œåˆ†æ®µå­¦ä¹ é™ä½å› ç¯‡å¹…è¿‡é•¿çš„å›°æ‰°</li>
<li>å»é™¤å¹¿å‘Šçš„å›°æ‰°ï¼Œçœ‹è§†é¢‘æ²¡å¹¿å‘Š</li>
<li>è§†é¢‘æ¸…æ™°åº¦å…¨è°ƒæ•´ä¸º1080Pçš„å…¨é«˜æ¸…ï¼Œä»£ç æ®µæ¸…æ™°å¯è§</li>
<li>ç”±äºæ²¡æœ‰å†™è¿‡ç¨¿å­ç›´æ¥è®²è§£å’Œå½•åˆ¶çš„ï¼Œæ‰€ä»¥éš¾å…åœ¨ä¼šæœ‰ç‚¹è¯­è¯¯ï¼Œè¿˜å¸Œæœ›å¤§å®¶ç†è§£ã€‚å¦‚æœ‰ä¸ç†è§£çš„åœ°æ–¹ï¼Œè¯·åœ¨æŸä¸€èŠ‚çš„è§†é¢‘é¡µé¢ä¸‹é¢ç•™è¨€ã€‚</li>
</ul>
<h2 id="ä¸Šè½¦å­¦ä¹ "><a href="#ä¸Šè½¦å­¦ä¹ " class="headerlink" title="ä¸Šè½¦å­¦ä¹ "></a>ä¸Šè½¦å­¦ä¹ </h2><p><strong>ç¬¬ä¸€èŠ‚ï¼šç®€å•ä»‹ç»äº†ä¸€ä¸‹spring bootï¼Œä»æ‰“å¼€IEDå¼€å§‹ï¼Œåˆ°é…ç½®ymlæ–‡ä»¶æ­¢</strong></p>
<iframe height="366" width="650" src="https://www.yylep.com/f-1609-ck/36a0445a.flv?m3u8=1" controls="controls">allowfullscreen=â€allowfullscreenâ€&gt;</iframe>

]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt;Spring Bootï¼šé¢ è¦†Java EEå¼€å‘&lt;/strong&gt;&lt;br&gt;
    
    </summary>
    
      <category term="Spring Boot" scheme="http://shic.top/categories/Spring-Boot/"/>
    
    
      <category term="Spring Boot" scheme="http://shic.top/tags/Spring-Boot/"/>
    
  </entry>
  
  <entry>
    <title>Spring Boot+Spring Data JPA+Thymeleaf(äºŒ)</title>
    <link href="http://shic.top/Spring-Boot/Spring%20Boot2/"/>
    <id>http://shic.top/Spring-Boot/Spring Boot2/</id>
    <published>2018-03-07T16:00:09.000Z</published>
    <updated>2018-03-08T05:30:26.716Z</updated>
    
    <content type="html"><![CDATA[<p><strong>ç¬¬äºŒèŠ‚ï¼šé…ç½®ymlæ–‡ä»¶-&gt;åœ¨æ•°æ®åº“æŸ¥æ‰¾å­¦ç”Ÿ</strong><br><a id="more"></a></p>
<h2 id="å…³äºæœ¬å¥—è§†é¢‘"><a href="#å…³äºæœ¬å¥—è§†é¢‘" class="headerlink" title="å…³äºæœ¬å¥—è§†é¢‘"></a>å…³äºæœ¬å¥—è§†é¢‘</h2><p>è§†é¢‘åˆ¶ä½œäº2017å¹´11æœˆåˆï¼Œæœ¬æ¬¡å¯¹è§†é¢‘èµ„æºåšäº†ä»¥ä¸‹è°ƒæ•´å’Œä¼˜åŒ–ï¼š</p>
<ul>
<li>è§†é¢‘ä»¥ä¸€ä¸ªç”¨æˆ·ç™»å½•æ³¨å†Œçš„ä¾‹å­æ¥è¿›è¡Œè®²è§£ï¼Œä¸ä¼šæ¶‰åŠå¤ªå¤šåŠŸèƒ½å’Œä»£ç ï¼Œä¸»è¦èµ·æ™®åŠSpring Bootçš„ä½œç”¨ï¼Œæ–¹ä¾¿åˆå­¦è€…å­¦ä¹ å’Œå…¥é—¨Spring Bootã€‚</li>
<li>åˆ‡åˆ†è§†é¢‘ä¸º6æ®µï¼Œåˆ†æ®µå­¦ä¹ é™ä½å› ç¯‡å¹…è¿‡é•¿çš„å›°æ‰°</li>
<li>å»é™¤å¹¿å‘Šçš„å›°æ‰°ï¼Œçœ‹è§†é¢‘æ²¡å¹¿å‘Š</li>
<li>è§†é¢‘æ¸…æ™°åº¦å…¨è°ƒæ•´ä¸º1080Pçš„å…¨é«˜æ¸…ï¼Œä»£ç æ®µæ¸…æ™°å¯è§</li>
<li>ç”±äºæ²¡æœ‰å†™è¿‡ç¨¿å­ç›´æ¥è®²è§£å’Œå½•åˆ¶çš„ï¼Œæ‰€ä»¥éš¾å…åœ¨ä¼šæœ‰ç‚¹è¯­è¯¯ï¼Œè¿˜å¸Œæœ›å¤§å®¶ç†è§£ã€‚å¦‚æœ‰ä¸ç†è§£çš„åœ°æ–¹ï¼Œè¯·åœ¨æŸä¸€èŠ‚çš„è§†é¢‘é¡µé¢ä¸‹é¢ç•™è¨€ã€‚</li>
</ul>
<h2 id="ä¸Šè½¦å­¦ä¹ "><a href="#ä¸Šè½¦å­¦ä¹ " class="headerlink" title="ä¸Šè½¦å­¦ä¹ "></a>ä¸Šè½¦å­¦ä¹ </h2><iframe height="366" width="650" src="https://www.yylep.com/f-1609-ck/bc5a8ed7.flv?m3u8=1" frameborder="0" allowfullscreen="allowfullscreen"></iframe>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt;ç¬¬äºŒèŠ‚ï¼šé…ç½®ymlæ–‡ä»¶-&amp;gt;åœ¨æ•°æ®åº“æŸ¥æ‰¾å­¦ç”Ÿ&lt;/strong&gt;&lt;br&gt;
    
    </summary>
    
      <category term="Spring Boot" scheme="http://shic.top/categories/Spring-Boot/"/>
    
    
      <category term="Spring Boot" scheme="http://shic.top/tags/Spring-Boot/"/>
    
  </entry>
  
  <entry>
    <title>Spring Boot+Spring Data JPA+Thymeleaf(ä¸‰)</title>
    <link href="http://shic.top/Spring-Boot/Spring%20Boot3/"/>
    <id>http://shic.top/Spring-Boot/Spring Boot3/</id>
    <published>2018-03-07T16:00:08.000Z</published>
    <updated>2018-03-08T05:30:22.205Z</updated>
    
    <content type="html"><![CDATA[<p><strong>ç¬¬ä¸‰èŠ‚ï¼šè®²è§£æ•°æ®åº“è¿æ¥å±‚çš„æµ‹è¯•</strong><br><a id="more"></a></p>
<h2 id="å…³äºæœ¬å¥—è§†é¢‘"><a href="#å…³äºæœ¬å¥—è§†é¢‘" class="headerlink" title="å…³äºæœ¬å¥—è§†é¢‘"></a>å…³äºæœ¬å¥—è§†é¢‘</h2><p>è§†é¢‘åˆ¶ä½œäº2017å¹´11æœˆåˆï¼Œæœ¬æ¬¡å¯¹è§†é¢‘èµ„æºåšäº†ä»¥ä¸‹è°ƒæ•´å’Œä¼˜åŒ–ï¼š</p>
<ul>
<li>è§†é¢‘ä»¥ä¸€ä¸ªç”¨æˆ·ç™»å½•æ³¨å†Œçš„ä¾‹å­æ¥è¿›è¡Œè®²è§£ï¼Œä¸ä¼šæ¶‰åŠå¤ªå¤šåŠŸèƒ½å’Œä»£ç ï¼Œä¸»è¦èµ·æ™®åŠSpring Bootçš„ä½œç”¨ï¼Œæ–¹ä¾¿åˆå­¦è€…å­¦ä¹ å’Œå…¥é—¨Spring Bootã€‚</li>
<li>åˆ‡åˆ†è§†é¢‘ä¸º6æ®µï¼Œåˆ†æ®µå­¦ä¹ é™ä½å› ç¯‡å¹…è¿‡é•¿çš„å›°æ‰°</li>
<li>å»é™¤å¹¿å‘Šçš„å›°æ‰°ï¼Œçœ‹è§†é¢‘æ²¡å¹¿å‘Š</li>
<li>è§†é¢‘æ¸…æ™°åº¦å…¨è°ƒæ•´ä¸º1080Pçš„å…¨é«˜æ¸…ï¼Œä»£ç æ®µæ¸…æ™°å¯è§</li>
<li>ç”±äºæ²¡æœ‰å†™è¿‡ç¨¿å­ç›´æ¥è®²è§£å’Œå½•åˆ¶çš„ï¼Œæ‰€ä»¥éš¾å…åœ¨ä¼šæœ‰ç‚¹è¯­è¯¯ï¼Œè¿˜å¸Œæœ›å¤§å®¶ç†è§£ã€‚å¦‚æœ‰ä¸ç†è§£çš„åœ°æ–¹ï¼Œè¯·åœ¨æŸä¸€èŠ‚çš„è§†é¢‘é¡µé¢ä¸‹é¢ç•™è¨€ã€‚</li>
</ul>
<h2 id="ä¸Šè½¦å­¦ä¹ "><a href="#ä¸Šè½¦å­¦ä¹ " class="headerlink" title="ä¸Šè½¦å­¦ä¹ "></a>ä¸Šè½¦å­¦ä¹ </h2><iframe height="366" width="650" src="https://www.yylep.com/f-1609-ck/dbfa1e57.flv?m3u8=1" frameborder="0" allowfullscreen="allowfullscreen"></iframe>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt;ç¬¬ä¸‰èŠ‚ï¼šè®²è§£æ•°æ®åº“è¿æ¥å±‚çš„æµ‹è¯•&lt;/strong&gt;&lt;br&gt;
    
    </summary>
    
      <category term="Spring Boot" scheme="http://shic.top/categories/Spring-Boot/"/>
    
    
      <category term="Spring Boot" scheme="http://shic.top/tags/Spring-Boot/"/>
    
  </entry>
  
  <entry>
    <title>Spring Boot+Spring Data JPA+Thymeleaf(å››)</title>
    <link href="http://shic.top/Spring-Boot/Spring%20Boot4/"/>
    <id>http://shic.top/Spring-Boot/Spring Boot4/</id>
    <published>2018-03-07T16:00:07.000Z</published>
    <updated>2018-03-08T05:30:17.452Z</updated>
    
    <content type="html"><![CDATA[<p><strong>ç¬¬å››èŠ‚ï¼šè®²è§£æ§åˆ¶å±‚çš„ç¼–å†™</strong><br><a id="more"></a></p>
<h2 id="å…³äºæœ¬å¥—è§†é¢‘"><a href="#å…³äºæœ¬å¥—è§†é¢‘" class="headerlink" title="å…³äºæœ¬å¥—è§†é¢‘"></a>å…³äºæœ¬å¥—è§†é¢‘</h2><p>è§†é¢‘åˆ¶ä½œäº2017å¹´11æœˆåˆï¼Œæœ¬æ¬¡å¯¹è§†é¢‘èµ„æºåšäº†ä»¥ä¸‹è°ƒæ•´å’Œä¼˜åŒ–ï¼š</p>
<ul>
<li>è§†é¢‘ä»¥ä¸€ä¸ªç”¨æˆ·ç™»å½•æ³¨å†Œçš„ä¾‹å­æ¥è¿›è¡Œè®²è§£ï¼Œä¸ä¼šæ¶‰åŠå¤ªå¤šåŠŸèƒ½å’Œä»£ç ï¼Œä¸»è¦èµ·æ™®åŠSpring Bootçš„ä½œç”¨ï¼Œæ–¹ä¾¿åˆå­¦è€…å­¦ä¹ å’Œå…¥é—¨Spring Bootã€‚</li>
<li>åˆ‡åˆ†è§†é¢‘ä¸º6æ®µï¼Œåˆ†æ®µå­¦ä¹ é™ä½å› ç¯‡å¹…è¿‡é•¿çš„å›°æ‰°</li>
<li>å»é™¤å¹¿å‘Šçš„å›°æ‰°ï¼Œçœ‹è§†é¢‘æ²¡å¹¿å‘Š</li>
<li>è§†é¢‘æ¸…æ™°åº¦å…¨è°ƒæ•´ä¸º1080Pçš„å…¨é«˜æ¸…ï¼Œä»£ç æ®µæ¸…æ™°å¯è§</li>
<li>ç”±äºæ²¡æœ‰å†™è¿‡ç¨¿å­ç›´æ¥è®²è§£å’Œå½•åˆ¶çš„ï¼Œæ‰€ä»¥éš¾å…åœ¨ä¼šæœ‰ç‚¹è¯­è¯¯ï¼Œè¿˜å¸Œæœ›å¤§å®¶ç†è§£ã€‚å¦‚æœ‰ä¸ç†è§£çš„åœ°æ–¹ï¼Œè¯·åœ¨æŸä¸€èŠ‚çš„è§†é¢‘é¡µé¢ä¸‹é¢ç•™è¨€ã€‚</li>
</ul>
<h2 id="ä¸Šè½¦å­¦ä¹ "><a href="#ä¸Šè½¦å­¦ä¹ " class="headerlink" title="ä¸Šè½¦å­¦ä¹ "></a>ä¸Šè½¦å­¦ä¹ </h2><iframe height="366" width="650" src="https://www.yylep.com/f-1609-ck/37bdaed9.flv?m3u8=1" frameborder="0" allowfullscreen="allowfullscreen"></iframe>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt;ç¬¬å››èŠ‚ï¼šè®²è§£æ§åˆ¶å±‚çš„ç¼–å†™&lt;/strong&gt;&lt;br&gt;
    
    </summary>
    
      <category term="Spring Boot" scheme="http://shic.top/categories/Spring-Boot/"/>
    
    
      <category term="Spring Boot" scheme="http://shic.top/tags/Spring-Boot/"/>
    
  </entry>
  
  <entry>
    <title>Spring Boot+Spring Data JPA+Thymeleaf(äº”ï¼‰</title>
    <link href="http://shic.top/Spring-Boot/Spring%20Boot5/"/>
    <id>http://shic.top/Spring-Boot/Spring Boot5/</id>
    <published>2018-03-07T16:00:06.000Z</published>
    <updated>2018-03-08T06:00:37.445Z</updated>
    
    <content type="html"><![CDATA[<p><strong>ç¬¬äº”èŠ‚ï¼šå®Œå–„æ§åˆ¶å±‚ï¼Œç»“åˆThymeleafåšå‰ç«¯</strong><br><a id="more"></a></p>
<h2 id="å…³äºæœ¬å¥—è§†é¢‘"><a href="#å…³äºæœ¬å¥—è§†é¢‘" class="headerlink" title="å…³äºæœ¬å¥—è§†é¢‘"></a>å…³äºæœ¬å¥—è§†é¢‘</h2><p>è§†é¢‘åˆ¶ä½œäº2017å¹´11æœˆåˆï¼Œæœ¬æ¬¡å¯¹è§†é¢‘èµ„æºåšäº†ä»¥ä¸‹è°ƒæ•´å’Œä¼˜åŒ–ï¼š</p>
<ul>
<li>è§†é¢‘ä»¥ä¸€ä¸ªç”¨æˆ·ç™»å½•æ³¨å†Œçš„ä¾‹å­æ¥è¿›è¡Œè®²è§£ï¼Œä¸ä¼šæ¶‰åŠå¤ªå¤šåŠŸèƒ½å’Œä»£ç ï¼Œä¸»è¦èµ·æ™®åŠSpring Bootçš„ä½œç”¨ï¼Œæ–¹ä¾¿åˆå­¦è€…å­¦ä¹ å’Œå…¥é—¨Spring Bootã€‚</li>
<li>åˆ‡åˆ†è§†é¢‘ä¸º6æ®µï¼Œåˆ†æ®µå­¦ä¹ é™ä½å› ç¯‡å¹…è¿‡é•¿çš„å›°æ‰°</li>
<li>å»é™¤å¹¿å‘Šçš„å›°æ‰°ï¼Œçœ‹è§†é¢‘æ²¡å¹¿å‘Š</li>
<li>è§†é¢‘æ¸…æ™°åº¦å…¨è°ƒæ•´ä¸º1080Pçš„å…¨é«˜æ¸…ï¼Œä»£ç æ®µæ¸…æ™°å¯è§</li>
<li>ç”±äºæ²¡æœ‰å†™è¿‡ç¨¿å­ç›´æ¥è®²è§£å’Œå½•åˆ¶çš„ï¼Œæ‰€ä»¥éš¾å…åœ¨ä¼šæœ‰ç‚¹è¯­è¯¯ï¼Œè¿˜å¸Œæœ›å¤§å®¶ç†è§£ã€‚å¦‚æœ‰ä¸ç†è§£çš„åœ°æ–¹ï¼Œè¯·åœ¨æŸä¸€èŠ‚çš„è§†é¢‘é¡µé¢ä¸‹é¢ç•™è¨€ã€‚</li>
</ul>
<h2 id="ä¸Šè½¦å­¦ä¹ "><a href="#ä¸Šè½¦å­¦ä¹ " class="headerlink" title="ä¸Šè½¦å­¦ä¹ "></a>ä¸Šè½¦å­¦ä¹ </h2><iframe height="366" width="650" src="https://www.yylep.com/f-1609-ck/501d3e59.flv?m3u8=1" frameborder="0" allowfullscreen="allowfullscreen"></iframe>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt;ç¬¬äº”èŠ‚ï¼šå®Œå–„æ§åˆ¶å±‚ï¼Œç»“åˆThymeleafåšå‰ç«¯&lt;/strong&gt;&lt;br&gt;
    
    </summary>
    
      <category term="Spring Boot" scheme="http://shic.top/categories/Spring-Boot/"/>
    
    
      <category term="Spring Boot" scheme="http://shic.top/tags/Spring-Boot/"/>
    
  </entry>
  
  <entry>
    <title>Spring Boot+Spring Data JPA+Thymeleaf(å…­)</title>
    <link href="http://shic.top/Spring-Boot/Spring%20Boot6/"/>
    <id>http://shic.top/Spring-Boot/Spring Boot6/</id>
    <published>2018-03-07T16:00:05.000Z</published>
    <updated>2018-03-08T06:33:18.551Z</updated>
    
    <content type="html"><![CDATA[<p><strong>ç¬¬å…­èŠ‚ï¼šæµ‹è¯•å’Œç»“å°¾</strong><br><a id="more"></a></p>
<h2 id="å…³äºæœ¬å¥—è§†é¢‘"><a href="#å…³äºæœ¬å¥—è§†é¢‘" class="headerlink" title="å…³äºæœ¬å¥—è§†é¢‘"></a>å…³äºæœ¬å¥—è§†é¢‘</h2><p>è§†é¢‘åˆ¶ä½œäº2017å¹´11æœˆåˆï¼Œæœ¬æ¬¡å¯¹è§†é¢‘èµ„æºåšäº†ä»¥ä¸‹è°ƒæ•´å’Œä¼˜åŒ–ï¼š</p>
<ul>
<li>è§†é¢‘ä»¥ä¸€ä¸ªç”¨æˆ·ç™»å½•æ³¨å†Œçš„ä¾‹å­æ¥è¿›è¡Œè®²è§£ï¼Œä¸ä¼šæ¶‰åŠå¤ªå¤šåŠŸèƒ½å’Œä»£ç ï¼Œä¸»è¦èµ·æ™®åŠSpring Bootçš„ä½œç”¨ï¼Œæ–¹ä¾¿åˆå­¦è€…å­¦ä¹ å’Œå…¥é—¨Spring Bootã€‚</li>
<li>åˆ‡åˆ†è§†é¢‘ä¸º6æ®µï¼Œåˆ†æ®µå­¦ä¹ é™ä½å› ç¯‡å¹…è¿‡é•¿çš„å›°æ‰°</li>
<li>å»é™¤å¹¿å‘Šçš„å›°æ‰°ï¼Œçœ‹è§†é¢‘æ²¡å¹¿å‘Š</li>
<li>è§†é¢‘æ¸…æ™°åº¦å…¨è°ƒæ•´ä¸º1080Pçš„å…¨é«˜æ¸…ï¼Œä»£ç æ®µæ¸…æ™°å¯è§</li>
<li>ç”±äºæ²¡æœ‰å†™è¿‡ç¨¿å­ç›´æ¥è®²è§£å’Œå½•åˆ¶çš„ï¼Œæ‰€ä»¥éš¾å…åœ¨ä¼šæœ‰ç‚¹è¯­è¯¯ï¼Œè¿˜å¸Œæœ›å¤§å®¶ç†è§£ã€‚å¦‚æœ‰ä¸ç†è§£çš„åœ°æ–¹ï¼Œè¯·åœ¨æŸä¸€èŠ‚çš„è§†é¢‘é¡µé¢ä¸‹é¢ç•™è¨€ã€‚</li>
</ul>
<h2 id="ä¸Šè½¦å­¦ä¹ "><a href="#ä¸Šè½¦å­¦ä¹ " class="headerlink" title="ä¸Šè½¦å­¦ä¹ "></a>ä¸Šè½¦å­¦ä¹ </h2><iframe height="366" width="650" src="https://www.yylep.com/p-1609-ck?path=/è®¡ç®—æœºå­¦ä¹ /spring bootè‡ªåˆ¶/6C.flv" frameborder="0" allowfullscreen="allowfullscreen"></iframe>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt;ç¬¬å…­èŠ‚ï¼šæµ‹è¯•å’Œç»“å°¾&lt;/strong&gt;&lt;br&gt;
    
    </summary>
    
      <category term="Spring Boot" scheme="http://shic.top/categories/Spring-Boot/"/>
    
    
      <category term="Spring Boot" scheme="http://shic.top/tags/Spring-Boot/"/>
    
  </entry>
  
  <entry>
    <title>çˆ¬çˆ¬éŸ³ä¹</title>
    <link href="http://shic.top/Python/%E7%88%AC%E7%88%AC%E9%9F%B3%E4%B9%90/"/>
    <id>http://shic.top/Python/çˆ¬çˆ¬éŸ³ä¹/</id>
    <published>2018-02-20T16:00:01.000Z</published>
    <updated>2018-02-21T09:55:05.393Z</updated>
    
    <content type="html"><![CDATA[<p>å–œæ¬¢éŸ³ä¹è¯·æ”¯æŒæ­£ç‰ˆï¼Œä»£ç ä»…ä½œå­¦ä¹ äº¤æµã€‚<br><a id="more"></a><br>æ„å¤–å‘ç°å›½å†…æŸçŸ¥åéŸ³ä¹ç½‘ç«™å¾ˆå¥½çˆ¬ï¼Œä¹Ÿæ²¡æœ‰åšä»€ä¹ˆåçˆ¬æœºåˆ¶ã€‚ç”µè„‘å¤ªå¡å·²ç»å®¹ä¸ä¸‹ä¸€ä¸ªä»»ä½•ä¸€ä¸ªå¤šä½™è½¯ä»¶äº†ã€‚ã€‚ã€‚äºæ˜¯ç›´æ¥ä¸‹è½½éŸ³ä¹å§ï¼Œå°±ä¸è¦è½¯ä»¶äº†ï¼Œç”¨ä¸€ä¸ªPythonå†™çš„çˆ¬è™«è‡ªå·±æ’­æ”¾éŸ³ä¹ï¼Œè‡ªå·±ä¸‹è½½ã€‚ï¼ˆå–œæ¬¢éŸ³ä¹è¯·æ”¯æŒæ­£ç‰ˆï¼ˆï¿£ã€‚ã€‚ï¿£ï¼‰ã€‚ã€‚ã€‚ï¼‰</p>
<h3 id="ç¯å¢ƒå‡†å¤‡"><a href="#ç¯å¢ƒå‡†å¤‡" class="headerlink" title="ç¯å¢ƒå‡†å¤‡"></a>ç¯å¢ƒå‡†å¤‡</h3><ul>
<li>Python3.6 <a href="https://www.python.org/" target="_blank" rel="external">ç‚¹å‡»ä¸‹è½½Pythonå¹¶è‡ªè¡Œå®‰è£…</a><br>  æ‰€éœ€æ ¼å¤–çš„æ¨¡å—ï¼š<ul>
<li>BeautifulSoup4</li>
<li>selenium</li>
<li>requests</li>
<li>Jupyter Notebook å…³äºwin10å®‰è£…jupyteræœ‰äº›å‘ï¼Œ<a href="http://shic.top/2017/12/23/%E9%9A%8F%E7%AC%94%EF%BC%9A%E5%85%A5%E9%97%A8%E6%89%80%E9%81%87%E5%88%B0%E7%9A%84%E5%9D%91/">è¯¦æƒ…è¯·ç‚¹å‡»</a></li>
</ul>
</li>
<li>Windows 10 ç”µè„‘ï¼Œ<a href="https://developer.microsoft.com/en-us/microsoft-edge/tools/webdriver/" target="_blank" rel="external">ç‚¹å‡»ä¸‹è½½æµè§ˆå™¨é©±åŠ¨</a></li>
</ul>
<h3 id="çˆ¬è™«è„šæœ¬"><a href="#çˆ¬è™«è„šæœ¬" class="headerlink" title="çˆ¬è™«è„šæœ¬"></a>çˆ¬è™«è„šæœ¬</h3><p>å»ä¸€ä¸‹å›½å†…æŸçŸ¥åéŸ³ä¹ç½‘ç«™çœ‹çœ‹ï¼Œè®©è„šæœ¬è‡ªå·±æ’­æ”¾éŸ³ä¹å¹¶ä¸‹è½½åˆ°æœ¬åœ°<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"># ä¸ºçˆ¬å–ä¸‹è½½åšå¥½å‡†å¤‡å·¥ä½œ</div><div class="line">from selenium import webdriver</div><div class="line">from bs4 import BeautifulSoup</div><div class="line">import requests</div><div class="line">import time</div><div class="line">import os</div><div class="line">from selenium.webdriver.chrome.options import Options</div><div class="line"></div><div class="line">os.makedirs(&apos;./download_music/&apos;, exist_ok=True) # ä¸‹è½½æ–‡ä»¶å¤¹å°±åœ¨è¯¥è„šæœ¬æ‰€åœ¨çš„ç›®å½•</div><div class="line">base_url = &quot;http://www.kugou.com/yy/html/search.html#searchType=song&amp;searchKeyWord=&quot;</div></pre></td></tr></table></figure></p>
<p>åœ¨ä»£ç é‡Œæ¨¡æ‹Ÿè¾“å…¥ï¼Œä½ å°±å½“ä½œæ˜¯ä¸€ä¸ªå¯è§†åŒ–çš„çª—å£è¾“å…¥å°±è¡Œäº†ï¼Œè¿™é‡Œåˆ†äº«ä¸€ä¸‹æ ¸å¿ƒä»£ç å°±è¡Œäº†å˜»å˜»~<br>æ³¨æ„ï¼š</p>
<ul>
<li>è¯·æ ¹æ®è‡ªå·±å­˜æ”¾çš„æµè§ˆå™¨é©±åŠ¨MicrosoftWebDriver.exeæ›´æ”¹ä¸‹é¢ä»£ç ç¬¬äº”è¡Œçš„ä½ç½®ã€‚</li>
<li>å¦‚æœç½‘ç»œä¸å¥½ï¼Œé€‚å½“è°ƒå¤§ä¸€äº›ä¸‹é¢ä»£ç ä¸­çš„time.sleep(x)çš„xçš„æ•°å€¼ã€‚</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line"># æœç´¢-çˆ¬å–-ä¸‹è½½</div><div class="line">search = &quot;çƒˆé…’ å±ˆåŸ&quot;  #æ¨¡æ‹Ÿè¾“å…¥è¦æœç´¢çš„æ­Œæ›²</div><div class="line">url = base_url+search</div><div class="line"></div><div class="line">driver = webdriver.Edge(executable_path=&quot;.\MicrosoftWebDriver.exe&quot;,)</div><div class="line">driver.get(url)</div><div class="line">time.sleep(2)</div><div class="line"></div><div class="line"># è·å–æœç´¢åˆ—è¡¨é‡Œçš„ç¬¬ä¸€é¦–å•æ›²çš„åå­—ï¼Œè¿™æ ·å°±å®ç°äº†æ¨¡ç³ŠåŒ¹é…äº†</div><div class="line">html_search = driver.page_source</div><div class="line">soup_search = BeautifulSoup(html_search, &apos;lxml&apos;)</div><div class="line">music_a_table = soup_search.find(&apos;a&apos;,&#123;&quot;class&quot;:&quot;song_name&quot;&#125;)</div><div class="line">music_name = music_a_table[&apos;title&apos;] # é…·ç‹—ä¸­çš„å•æ›²åå­—æ˜¯åœ¨è¯¥éŸ³ä¹aæ ‡ç­¾é‡Œçš„titleå±æ€§å€¼é‡Œçš„</div><div class="line"></div><div class="line">print(music_name)</div><div class="line"># è¿™é‡Œè¿˜æœ‰æ¨¡ç³ŠåŒ¹é…ï¼Œä¸‹é¢ä»£ç æ˜¯åŒ¹é…å«æœ‰æ¬¡å­—ç¬¦ä¸²çš„é“¾æ¥</div><div class="line"># driver.find_element_by_partial_link_text(music_name).click()</div><div class="line">driver.find_element_by_link_text(music_name).click() #å½“ç„¶è¿™é‡Œå°±æ²¡å¿…è¦æ¨¡ç³ŠåŒ¹é…äº†</div><div class="line"></div><div class="line"># è·å–æµè§ˆå™¨çª—å£å¥æŸ„</div><div class="line">handles = driver.window_handles</div><div class="line"># print(handles,type(handles))</div><div class="line">driver.switch_to_window(handles[-1])</div><div class="line"></div><div class="line">#ä¹‹å‰ä¸€ç›´æ‰¾ä¸åˆ°é“¾æ¥ï¼Œè¿˜æ˜¯è¦è®©çˆ¬è™«ç¼“å‡ ç§’ã€‚ä¸çŸ¥ä¸ºä½•ï¼Œpage_sourceåº”è¯¥éƒ½ä¸‹è½½å¥½äº†çš„ã€‚ã€‚</div><div class="line">time.sleep(2)</div><div class="line"></div><div class="line">html = driver.page_source</div><div class="line">soup = BeautifulSoup(html, &apos;lxml&apos;)</div><div class="line">audio = soup.find(&apos;audio&apos;,&#123;&quot;class&quot;:&quot;music&quot;&#125;)  #åªæœ‰ä¸€ä¸ªaudioæ ‡ç­¾ï¼Œä¸”è¯¥ç½‘ç«™é‡Œçš„audioç±»å‹æ˜¯music</div><div class="line">music_src = audio[&apos;src&apos;]</div><div class="line"></div><div class="line">r = requests.get(music_src,stream=True)</div><div class="line">image_name = music_name+&apos;.&apos;+music_src.split(&apos;.&apos;)[-1]</div><div class="line">with open(&apos;./download_music/%s&apos; % image_name, &apos;wb&apos;) as f:</div><div class="line">    for chunk in r.iter_content(chunk_size = 512):</div><div class="line">        f.write(chunk)</div><div class="line">    print(&apos;å·²ä¿å­˜æ–‡ä»¶ï¼š %s&apos; % image_name)</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å–œæ¬¢éŸ³ä¹è¯·æ”¯æŒæ­£ç‰ˆï¼Œä»£ç ä»…ä½œå­¦ä¹ äº¤æµã€‚&lt;br&gt;
    
    </summary>
    
      <category term="Python" scheme="http://shic.top/categories/Python/"/>
    
    
      <category term="Python" scheme="http://shic.top/tags/Python/"/>
    
  </entry>
  
  <entry>
    <title>ä»£ç æœ¬åœ°ç®¡ç†ä¹‹Git</title>
    <link href="http://shic.top/Python/Git/use_git/"/>
    <id>http://shic.top/Python/Git/use_git/</id>
    <published>2018-02-20T16:00:00.000Z</published>
    <updated>2018-02-21T09:17:28.337Z</updated>
    
    <content type="html"><![CDATA[<p>æ˜¯æ—¶å€™æ”¾å¼ƒæ‰‹åŠ¨çš„ç®¡ç†ç‰ˆæœ¬çš„æ–¹å¼äº†ï¼Œä½ éœ€è¦Git<br><a id="more"></a></p>
<h3 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><ul>
<li>é¦–å…ˆå°†Gitå®‰è£…åˆ°è‡ªå·±çš„ç”µè„‘ï¼Œ<a href="https://git-scm.com/" target="_blank" rel="external">Gitå®˜ç½‘</a></li>
<li>é…ç½®å¥½è‡ªå·±çš„Git</li>
</ul>
<h3 id="åœ¨ç¼–è¯‘å™¨ä¸­ä½¿ç”¨Gitç‰ˆæœ¬ç®¡ç†"><a href="#åœ¨ç¼–è¯‘å™¨ä¸­ä½¿ç”¨Gitç‰ˆæœ¬ç®¡ç†" class="headerlink" title="åœ¨ç¼–è¯‘å™¨ä¸­ä½¿ç”¨Gitç‰ˆæœ¬ç®¡ç†"></a>åœ¨ç¼–è¯‘å™¨ä¸­ä½¿ç”¨Gitç‰ˆæœ¬ç®¡ç†</h3><p><strong>ä»¥Pycharmä¸ºä¾‹çš„æ“ä½œè¯¦æƒ…å›¾æ–‡ç‰ˆï¼Œè¿ç§»ä½ çš„æ–‡æ¡£è‡³gitç‰ˆæœ¬ç®¡ç†</strong></p>
<center><img src="http://res.cloudinary.com/shi1996/image/upload/v1519203905/git0_mxeug2.png" alt=""></center><br>Pycharmä¸­ä¸ä¼šæ˜¾ç¤º.gitçš„æ–‡ä»¶å¤¹ï¼Œä½†å®é™…ä¸Šæ˜¯å­˜åœ¨çš„ï¼Œæˆ‘ä»¬è¿™ä¸ªä»“åº“æ˜¯åˆ›å»ºæˆåŠŸçš„<br><center><img src="http://res.cloudinary.com/shi1996/image/upload/v1519204290/git1_syhypy.png" alt=""></center><br>ç„¶åæˆ‘ä»¬å‘ç‰ˆæœ¬åº“ä¸­æ·»åŠ ä¸€ä¸ªæ–‡ä»¶ï¼Œåœ¨æäº¤ï¼ˆé™„å¸¦ä¸Šæ›´æ”¹çš„ä¿¡æ¯ï¼‰å†æŸ¥çœ‹ä¸€ä¸‹<br><center><img src="http://res.cloudinary.com/shi1996/image/upload/v1519204342/git2_rfm3bq.png" alt=""></center><br>å½“æˆ‘ä»¬æŠŠä¸€äº›æ–‡ä»¶æäº¤åˆ°gitä»“åº“ä¸­åï¼Œæ–‡ä»¶åçš„é¢œè‰²åˆå˜æ­£å¸¸äº†<br><center><img src="http://res.cloudinary.com/shi1996/image/upload/v1519204408/git3_wwkvpv.png" alt=""></center><br>å½“æˆ‘ä»¬æ›´æ”¹äº†ä¸€ä¸ªæ–‡ä»¶é‡Œçš„å†…å®¹åï¼Œå†å‘½ä»¤è¡Œä¸­æŸ¥çœ‹<br><center><img src="http://res.cloudinary.com/shi1996/image/upload/v1519204438/git4_wm4nqf.png" alt=""></center><br>ç„¶åæäº¤è¿™ä¸ªæ›´æ”¹ï¼ˆæ³¨æ„-amå’Œ-mçš„å·®åˆ«ï¼‰<br><center><img src="http://res.cloudinary.com/shi1996/image/upload/v1519204475/git5_sox5b3.png" alt=""></center><br>ç„¶åæˆ‘ä»¬å›åˆ°æ”¹ä¹‹å‰ git checkout <em>*</em> â€“ file_name<br><center><img src="http://res.cloudinary.com/shi1996/image/upload/v1519204551/git6_luuhas.png" alt=""></center>

<p>å‘ç°æ–‡ä»¶çš„ç¡®æ”¹å˜äº†ï¼Œè¿™å¯¹äºæˆ‘ä»¬æ¯ä¸€ä¸ªæ›´æ”¹äº†å¾ˆå¤§ä¸€éƒ¨åˆ†ä»£ç åå†æƒ³å›åˆ°è¿‡å»å¾ˆæœ‰æ•ˆç‡ï¼Œè¿™æ ·ç‰ˆæœ¬æ§åˆ¶çš„ä½œç”¨å°±ä½“ç°å‡ºæ¥äº†ã€‚</p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æ˜¯æ—¶å€™æ”¾å¼ƒæ‰‹åŠ¨çš„ç®¡ç†ç‰ˆæœ¬çš„æ–¹å¼äº†ï¼Œä½ éœ€è¦Git&lt;br&gt;
    
    </summary>
    
      <category term="Python" scheme="http://shic.top/categories/Python/"/>
    
      <category term="Git" scheme="http://shic.top/categories/Python/Git/"/>
    
    
      <category term="Python" scheme="http://shic.top/tags/Python/"/>
    
      <category term="Git" scheme="http://shic.top/tags/Git/"/>
    
  </entry>
  
  <entry>
    <title>2017 å¿µå¿µä¸å¿˜ å¿…æœ‰å›å“</title>
    <link href="http://shic.top/Others/2017recollect/"/>
    <id>http://shic.top/Others/2017recollect/</id>
    <published>2018-02-14T16:00:00.000Z</published>
    <updated>2018-02-16T05:33:18.595Z</updated>
    
    <content type="html"><![CDATA[<p>ç°åœ¨æ€»ç»™æˆ‘ä¸€ç§æ„Ÿè§‰ï¼Œæ—¶é—´è¶Šèµ°è¶Šå¿«ï¼Œè¿˜æ²¡æ¥å¾—åŠå°è£…æˆè®°å¿†ï¼Œå®ƒåˆå¸¦æ¥äº†å…¨æ–°çš„ä¸€å¹´ã€‚ã€‚ã€‚<br><a id="more"></a></p>
<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width="330" height="86" src="//music.163.com/outchain/player?type=2&id=22712173&auto=1&height=66"></iframe>

<p><br><br>æˆ‘åœ¨çœ‹æš´èµ°å¤§äº‹ä»¶çš„æ—¶å€™ï¼Œæœ‰ä¸€æœŸæåˆ°äº†å¿µå¿µä¸å¿˜ï¼Œå¿…æœ‰å›å“ï¼Œæ·±æ·±åœ°è§¦åŠ¨äº†æˆ‘çš„ç¥ç»ï¼Œå› ä¸ºä»Šå¹´æ‰€ç»å†äº†æ¯”å¾€å¹´éƒ½å¤šå¾—å¤šçš„äº‹æƒ…ï¼Œä¹Ÿåšäº†å¾ˆå¤šç–¯ç‹‚è€Œæœ‰è¶£çš„äº‹ã€‚<br><br><br>è®°å¿†æ˜¯è‡ªå·±çš„ï¼Œä½†ç…§ç‰‡å´èƒ½è®©æˆ‘ä»¬äº§ç”Ÿå…±é¸£ï¼Œ2017æ˜¯å¿™ç¢Œçš„ä¸€å¹´,ç´¯çš„å¯¹è‡ªå·±å–œæ¬¢çš„ä¸“ä¸šäº§ç”Ÿäº†æ€€ç–‘ï¼Œä½†ä¹Ÿé«˜å…´è¿‡ï¼Œå› ä¸ºè‡ªå·±åˆçªç ´äº†ä¸€ä¸ªéš¾å…³ï¼Œå–å¾—äº†è¿›æ­¥ã€‚<br>æ¯å¤©å…³é—­ç”µè„‘å‰ï¼Œéƒ½ä»¿ä½›ç”µè„‘ä¹Ÿå¦‚é‡Šé‡è´Ÿï¼Œæœ‰æ—¶å€™çœŸçš„å¾ˆç´¯ï¼Œä½†å¸Œæœ›è‡ªå·±èƒ½å¤ŸåšæŒã€‚</p>
<center><img src="http://res.cloudinary.com/shi1996/image/upload/v1518684587/ram_ftexej.png" alt=""></center><br><br><br>å½“ç„¶è¿˜ä¸Šäº†å¾ˆå¤šç„å­¦è¯¾ï¼Œä½ æ‡‚æˆ‘ä¹Ÿæ‡‚ï¼Œæˆ‘ä»¬åšçš„è¡¨æƒ…åŒ…ä¹Ÿæ˜¯è®©äººå“­ç¬‘ä¸å¾—<br><center><img src="http://res.cloudinary.com/shi1996/image/upload/v1518684925/-97d4e3b0c0f457b_1_1_1_ws59no.jpg" alt=""></center><br><center><img src="http://res.cloudinary.com/shi1996/image/upload/v1518684926/-97d4e3b0c0f457b_1_lirsnh.jpg" alt=""></center><br><br><br>è¿™ä¸€å¹´å¹¶éä¸€å¸†é£é¡ºï¼Œé™¤äº†é‚£äº›è¢«å­¦æ¸£åæ§½çš„ç„å­¦ï¼Œè¿˜æœ‰æˆ‘ä»¬è¢«æ‹˜æŸçš„è§†é‡ï¼Œæˆ‘ä»¬åœ¨ç™¾å¿™ä¹‹ä¸­æŠ½å‡ºæ—¶é—´å»åšè¿™ä»¶äº‹ï¼Œç»ˆäºé‡æ–°ä¸ä¸–ç•Œè¿é€šæ—¶çš„å–œæ‚¦æ˜¯è¿™æ ·çš„ï¼š<br><center><img src="http://res.cloudinary.com/shi1996/image/upload/v1518685149/00_k0ldzf.png" alt=""></center><br><br><br>æ—¶é—´çœŸçš„è¿‡å¾—å¿«ï¼Œç´§ç´§å¼ å¼ å‘å‰è¡Œï¼Œè°ˆç¬‘é£ç”Ÿåˆä¸€å¹´ã€‚<br>ä½ æ°¸è¿œä¸çŸ¥ä¸‹ä¸€æ¬¡è¢«çŒé†‰æ˜¯å“ªç§æ–¹å¼<br><center><img src="http://res.cloudinary.com/shi1996/image/upload/v1518685382/mmexport1518682339349_dwzgfq.jpg" alt=""></center><br>ä¹Ÿä¸çŸ¥é‚£å‡ çˆ·å­æ˜¯ä¸¾çš„ä»€ä¹ˆä¸œè¥¿å’Œä½ ç¢°æ¯ /ç¬‘å“­<br><center><img src="http://res.cloudinary.com/shi1996/image/upload/v1518685402/IMG_20171017_205913_bnxo0s.jpg" alt=""></center><br><br><br>æœ‰è¿‡äº†ä¸€å¹´ï¼Œå¯å®¤ä»åŸæ¥çš„7äººå˜åˆ°äº†4äººï¼Œå†åˆ°äº†5äººï¼Œæˆ‘ä»¬ç´§è·Ÿæ—¶ä»£çš„æ­¥ä¼<center><img src="http://res.cloudinary.com/shi1996/image/upload/v1518686178/mmexport1518685960856_dye4dy.jpg" alt=""></center><br>ä¹Ÿä¸å¿˜è®°æç¬‘å’Œæ»‘ç¨½<br><center><img src="http://res.cloudinary.com/shi1996/image/upload/v1518686186/%E5%AF%9D%E5%AE%A4_zs6azi.png" alt=""></center><br>ä¸€èµ·ç…®é¥­åƒçš„æ„Ÿè§‰ä¹Ÿæ˜¯ä¸èƒ½æ›´æ£’ï¼Œ405è¿˜æ˜¯é‚£ä¹ˆæ¬¢ä¹ï¼Œé‚£ä¹ˆå¥½ï½<br><center><img src="http://res.cloudinary.com/shi1996/image/upload/v1518686228/IMG_20170908_182643_fv8fir.jpg" alt=""></center><br><br><br>æˆ‘ä»¬ä»Šå¹´ç»å¸¸è¯´çš„è¯è¯­æœ‰ï¼š<strong>è½½å®¢æ¼‚ç§»</strong>ï¼Œå°½ç®¡æˆ‘ä»¬çš„å±±åœ°è½¦éƒ½æ²¡æœ‰ååº§ï¼Œä½†ä¾ç„¶ä¸å‡è¿™è¯æ‰€å¸¦æ¥çš„æ¬¢ä¹ï¼Œæˆ‘ä»¬å°±è¿éª‘è½¦éƒ½æ˜¯è¿™ä¹ˆæœ‰è¶£ã€‚<br><center><img src="http://res.cloudinary.com/shi1996/image/upload/v1518686692/%E8%BD%BD%E5%AE%A2%E6%BC%82%E7%A7%BB_mnp0jk.png" alt=""></center><br>éª‘äº†4000å¤šå…¬é‡Œè¿˜æ²¡ä¿å…»è¿‡çš„è‡ªè¡Œè½¦è½¦ï¼Œæ‹‰ç´§åˆ¹è½¦çš„æ—¶å€™åªæ˜¯æœ‰ç‚¹çƒ§èƒï¼Œä¸€æ ·æœ‰æ´»åŠ›<br><center><img src="http://res.cloudinary.com/shi1996/image/upload/v1518686993/IMG_20171210_115647_wbwtab.jpg" alt=""></center><br>æ„Ÿè§‰è¦æˆè€å¸æœºçš„æˆ‘ä»¬ï¼Œå”¯ä¸€ä¸€æ¬¡èƒ†æˆ˜å¿ƒæƒŠï¼Œå¯èƒ½å°±æ˜¯â€é…’â€é©¾å§ï¼Œä¸çŸ¥è¿™å•¤é…’è½½åœ¨è½¦ä¸Šä¼šä¸ä¼šè¢«æŸ¥<br><center><img src="http://res.cloudinary.com/shi1996/image/upload/v1518686785/mmexport1518685880207_xliajx.jpg" alt=""></center><br>æˆ‘ä»¬éª‘è½¦æ”¾éŸ³ä¹ï¼Œæˆ‘æ‰ä¸æ€•è¢«è®¤æˆâ€è¡—å¨ƒå„¿â€ï¼Œæœ‰é•¿è¿™ä¹ˆå¸…çš„ï¼Ÿï¼ˆå¼€ç©ç¬‘åˆ«å½“çœŸå˜¿å˜¿å˜¿ï¼‰<br><center><img src="http://res.cloudinary.com/shi1996/image/upload/v1518687188/IMG_20170916_103051_ogh9ue.jpg" alt=""></center><br>å‡ åå…¬é‡Œçš„å±±è·¯åˆ°äº†ä¸€ä¸ªå¤é•‡ï¼Œçœ‹è§çš„çŒ«ä¹Ÿæ˜¯å¾ˆå¯çˆ±<br><center><img src="http://res.cloudinary.com/shi1996/image/upload/v1518687398/%E6%9C%9B%E9%B1%BC%E7%8C%AB1_uz5sjl.jpg" alt=""></center><br>ä½†è¿™åªçŒ«å´æ˜¯è¿™æ ·æ‹æ‘„çš„ï¼Œå“ˆå“ˆ<br><center><img src="http://res.cloudinary.com/shi1996/image/upload/v1518687400/%E6%9C%9B%E9%B1%BC%E7%8C%AB0_nvevdf.jpg" alt=""></center><br>æˆ‘ä»¬éª‘äº†åŠå¤©éª‘äº†100+å…¬é‡Œçš„å±±è·¯ï¼Œæ¥åˆ°äº†æ´ªé›…çš„é›…å¥³æ¹–ï¼Œè¿™æ‰ç¬¬ä¸€æ¬¡çœ‹è¿‡è¿™ä¹ˆæ¸…æ¾ˆçš„æ°´ï¼Œè™½ç„¶å¾ˆç´¯ï¼Œä½†çœ¼å‰çš„æ™¯è§‚çœŸçš„å€¼<br><center><img src="http://res.cloudinary.com/shi1996/image/upload/v1518690234/IMG_20170916_152225_erar2x.jpg" alt=""></center><br><center><img src="http://res.cloudinary.com/shi1996/image/upload/v1518690257/IMG_20170916_211335_fedyim.jpg" alt=""></center><br>å½“ç„¶ä¹Ÿåªæœ‰æˆ‘ä»¬å‡ ä¸ªç”·ç”Ÿæ„¿æ„å»å†’é™©éª‘è¿™ä¹ˆè¿œçš„å±±è·¯äº†ï¼Œæœ‰æ—¶å€™åªæ˜¯ä¸ºäº†çˆ½ä¸€æŠŠï¼Œå»é£™ä¸ªå±±è·¯ã€‚<br>å…¶ä½™æœ‰å¥³ç”Ÿçš„æ—¶å€™æˆ‘ä»¬éƒ½èµ°å¾—å¾ˆè¿‘ï¼Œä¸è¿‡ä¹Ÿç©å„¿å¾—å¾ˆå¼€å¿ƒï¼Œéª‘è½¦ä¹Ÿä¼šæˆä¸ºå¤§å­¦ä¸­ä¸å¯ç£¨ç­çš„è®°å¿†<br><center><img src="http://res.cloudinary.com/shi1996/image/upload/v1518691049/%E5%A4%9A%E4%BA%BA%E9%AA%91%E8%BD%A6_q5ul0u.jpg" alt=""></center><br>å½“ç„¶ä¸å¾—ä¸è¯´çš„å°±æ˜¯è¿™å“¥å­é”è½¦çœŸçš„æ˜¯å‰å®³äº†ã€‚ã€‚ã€‚<br><center><img src="http://res.cloudinary.com/shi1996/image/upload/v1518691224/%E9%94%81%E8%BD%A6_xberyp.jpg" alt=""></center><br><br><br><strong>å½“ç„¶é™¤äº†è¿™äº›ç–¯ç‹‚çš„åŠå¤©éª‘100+å…¬é‡Œå±±è·¯ï¼Œè¿˜æœ‰å°±æ˜¯åŠå¤©æš´èµ°å‡ åå…¬é‡Œã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚å±±è·¯</strong>   /ç¬‘å“­<br>æµ·æ‹”2000måˆ°4000mï¼Œè¿™å‚ç›´é«˜åº¦2å…¬é‡Œï¼Œæˆ‘ä»¬èµ°äº†30+å…¬é‡Œï¼Œçœ‹åˆ°äº†å¼‚å¸¸ç¾ä¸½çš„æ—¥å‡ºå’Œäº‘æµ·ï¼Œè¿™é‡Œæ˜¯è¾¾ç“¦æ›´æ‰ï¼Œå¯¹é¢èƒ½æœ›è§å››å§‘å¨˜å±±ï¼Œé‚£å¤©æ˜¯2017å¹´12æœˆ30æ—¥<br><center><img src="http://res.cloudinary.com/shi1996/image/upload/v1518697489/IMG_20171231_085338_HDR_lk25mp.jpg" alt=""></center><br><center><img src="http://res.cloudinary.com/shi1996/image/upload/v1518698597/%E4%BA%91%E6%B5%B7_brztex.jpg" alt=""></center><br>å±±è·¯è‡ªå·±èµ°ï¼Œè¿˜èƒŒä¸Šå‡ åæ–¤çš„éœ²è¥è£…å¤‡ï¼Œè¿˜å¥½æˆ‘æ²¡æœ‰é«˜åŸååº”ï¼Œè¿˜è·‘ä¸‹å»æ¥äº†åŒä¼´<br><center><img src="http://res.cloudinary.com/shi1996/image/upload/v1518698180/%E5%B1%B1%E8%B7%AF_ikfcqr.jpg" alt=""></center><br>æ°”å‹ä½å¾—è¿é¢åŒ…éƒ½å¿«çˆ†ç‚¸äº†<br><center><img src="http://res.cloudinary.com/shi1996/image/upload/v1518698489/%E9%9D%A2%E5%8C%85_e5nudx.jpg" alt=""></center><br>äº‘æµ·å¯çœŸç¾ä¸½å‘€~<br><center><img src="http://res.cloudinary.com/shi1996/image/upload/v1518698662/IMG_20171231_082819_HDR_l1zbvx.jpg" alt=""></center><br>ç„¶è€Œã€‚ã€‚ã€‚é¬¼æ‰çŸ¥é“æˆ‘ä»¬æ˜¨æ™šæ˜¯æ€ä¹ˆåº¦è¿‡çš„<br>çƒ¤ç«ï¼ï¼æˆ‘çš„ç¬¬ä¸€æ¬¡é€šå®µï¼Œä¸€æ™šæ²¡ç¡ï¼Œé›¶ä¸‹å¾ˆå¤šåº¦çš„æ„Ÿè§‰ï¼Œå››å·äººé‡æ¥æ²¡çœ‹åˆ°è¿™ä¹ˆå¤§çš„é›ªï¼ä¸€ç›´æ€€ç–‘è‡ªå·±æ˜¯ä¸æ˜¯è¦è¢«å†»æ­»äº†ï¼Œæˆ‘ä»¬çš„ç¾¤åå­—ä¹Ÿåœ¨åæ¥æ”¹æˆäº†â€œè¾¾ç“¦æ›´æ‰ç”Ÿæ­»ä¹‹äº¤â€<br><center><img src="http://res.cloudinary.com/shi1996/image/upload/v1518698763/IMG_20171231_030813_HDR_mhqfe9.jpg" alt=""></center><br>å†·å¾—ç®€ç›´ç¡ä¸ç€ï¼Œä½†æ¸…æ™¨çš„æ—¥å‡ºè¿˜æ˜¯çœŸçš„ç¾ä¸½ï¼ä¸Šä¸Šå›¾~<br><center><img src="http://res.cloudinary.com/shi1996/image/upload/v1518698877/IMG_20171231_071228_HDR_dkcnlm.jpg" alt=""></center><br><center><img src="http://res.cloudinary.com/shi1996/image/upload/v1518698886/IMG_20171231_072201_HHT_pyn5ua.jpg" alt=""></center><br><center><img src="http://res.cloudinary.com/shi1996/image/upload/v1518698890/IMG_20171231_072841_HHT_amhbp2.jpg" alt=""></center><br><center><img src="http://res.cloudinary.com/shi1996/image/upload/v1518698886/IMG_20171231_072201_HHT_pyn5ua.jpg" alt=""></center><br><center><img src="http://res.cloudinary.com/shi1996/image/upload/v1518698902/IMG_20171231_073334_HDR_ea0pmj.jpg" alt=""></center><br>å½“ç„¶æœ€æœ‰æ„ä¹‰çš„æ˜¯ï¼Œæˆ‘åœ¨å±±ä¸Šå’Œå‡ ä¸ªç”Ÿæ­»ä¹‹äº¤çš„å°ä¼™ä¼´ä¸€èµ·ï¼Œåº¦è¿‡äº†æˆ‘21å²çš„ç”Ÿæ—¥ï¼Œé‚£é‡Œæ²¡æœ‰ä¿¡å·ï¼Œè¿ç”µè¯ä¹Ÿæ²¡æœ‰æ‰“ä¸€ä¸ªå›å®¶ï¼Œå°±åœ¨æœ‰ä¸€ç‚¹ç‚¹ä¿¡å·çš„æ—¶å€™ç»™ä¸€ä½æœ‹å‹ä¼ äº†ä¸€å¼ ç…§ç‰‡~<br><br><br><strong>ç–¯ç‹‚ï¼Ÿæ¿€æƒ…ï¼Ÿè¿˜æœ‰å‘¢ï¼Œå°±æ˜¯ç”Ÿæ´»ä¸­çš„é‚£äº›</strong><br>å¤©å†·äº†ï¼Œæµæµªç‹—åœ¨è‰ä¸›ä¸­çš„æ ·å­è®©äººæ€œæ‚¯<br><center><img src="http://res.cloudinary.com/shi1996/image/upload/v1518699805/IMG_20171120_163348_scgr5l.jpg" alt=""></center><br>å› ä¸ºæˆ‘é¢é¢Œå…³èŠ‚ä¼¤åŠ¿çš„å¥½è½¬ï¼Œä»Šå¹´æˆ‘ä¹Ÿæ˜¯ç‰¹åˆ«èƒ½åƒï¼Œæˆ‘åœ¨è¿‘4å¹´é‡Œç¬¬ä¸€æ¬¡é•¿èƒ–ï¼Œè¿˜é•¿äº†5æ–¤å¤šï¼Œä¸æ‰è´¹æˆ‘åŠ é¤åƒäº†è¿™ä¹ˆå¤šå˜»å˜»~<br><center><img src="http://res.cloudinary.com/shi1996/image/upload/v1518700293/IMG_20171206_122057_vzrx8b.jpg" alt=""></center><br>å½“ç„¶è¿˜æœ‰å›å¿†çš„ç«¥å¹´è€Œä¹°çš„æ‚ æ‚ çƒï¼Œè€äº†å‡ æ¬¡å°±æ”¾å¼ƒäº†ï¼Œå®åœ¨æ˜¯å¤ªéš¾äº†<br><center><img src="http://res.cloudinary.com/shi1996/image/upload/v1518700543/%E6%82%A0%E6%82%A0%E7%90%83_jvsp1y.jpg" alt=""></center><br>æˆ‘å’Œè€å´”éƒ½ä¸æƒ³å–é…’å¤šåƒä¸œè¥¿ï¼Œäºæ˜¯ä¹æˆ‘ä»¬çš„é…’æ¯å°±åªæœ‰è¿™ä¹ˆå¤§<br><center><img src="http://res.cloudinary.com/shi1996/image/upload/v1518700661/%E9%85%92_uolvdj.jpg" alt=""></center><br>å› ä¸ºå³æ‰‹æœ‰å¾ˆé‡çš„ä¼¤ï¼Œæˆ‘ä¹Ÿä¸çŸ¥å¤šä¹…èƒ½å¥½ï¼Œäºæ˜¯ä¾¿æ”¹ç”¨äº†å·¦æ‰‹æ‰“ç¾½æ¯›çƒï¼Œæ¯å‘¨å…­éƒ½åšæŒå»ä½“è‚²é¦†ï¼Œä¸€ä¸ªäººæˆé•¿ï¼Œç°åœ¨å·¦æ‰‹ä¹Ÿæ˜¯ç›¸å½“çµæ´»<br><center><img src="http://res.cloudinary.com/shi1996/image/upload/v1518700844/Screenshot_2018-02-15-17-10-19-946_com.tencent.mm_hyz2ai.png" alt=""></center><br><strong>å…¶å®å¹³æ—¶æ”¶é›†è¿™äº›è®°å¿†å¾ˆå°‘ï¼Œæœ‰å¤ªå¤šå¤ªå¤šçš„äº‹éƒ½ä¸èƒ½ç”¨ä¸€äº›å·¥å…·æ¥è¡¨è¾¾ï¼Œä½†æœ‰æ—¶å€™ï¼Œä»–ä»¬çš„è¯ï¼Œå´çœŸçš„çœŸçš„è§¦åŠ¨ç€æˆ‘</strong><br>æ´²æ´‹æ˜¯æˆ‘é«˜ä¸­æ—¶æœŸæœ€æœ€æœ€å¥½çš„ä¼™ä¼´ï¼Œç»™äº†æˆ‘å¾ˆå¤šå¸®åŠ©ã€‚å¸Œæœ›æˆ‘ä»¬çš„å‹è°Šæ°¸æ’<br><center><img src="http://res.cloudinary.com/shi1996/image/upload/v1518701494/IMG_20180215_212232_u7h6iw.png" alt=""></center><br>ç£Šå“¥ç»™æˆ‘è¯´â€œåšè‡ªå·±å–œæ¬¢çš„äº‹ï¼â€ï¼Œæˆ‘ä¸€å®šä¼šçš„ï¼Œæœªæ¥åŠ æ²¹ï¼æˆ‘ä¼šä¸€ç›´æƒ³ç€è‡ªå·±å–œæ¬¢çš„æ–¹å‘å‰è¿›<br><center><img src="http://res.cloudinary.com/shi1996/image/upload/v1518701536/IMG_20180215_212314_ybe68o.png" alt=""></center>


<p><strong>æˆ–è®¸è¿˜çœŸçš„æ²¡æœ‰æ›´å¤šçš„å›¾äº†ï¼Œä½†ä»¥å‰æ¯ä¸€åˆ»çš„è®°å¿†å´ä¾ç„¶å­˜åœ¨</strong></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ç°åœ¨æ€»ç»™æˆ‘ä¸€ç§æ„Ÿè§‰ï¼Œæ—¶é—´è¶Šèµ°è¶Šå¿«ï¼Œè¿˜æ²¡æ¥å¾—åŠå°è£…æˆè®°å¿†ï¼Œå®ƒåˆå¸¦æ¥äº†å…¨æ–°çš„ä¸€å¹´ã€‚ã€‚ã€‚&lt;br&gt;
    
    </summary>
    
      <category term="Others" scheme="http://shic.top/categories/Others/"/>
    
    
      <category term="Others" scheme="http://shic.top/tags/Others/"/>
    
  </entry>
  
  <entry>
    <title>æœºå™¨å­¦ä¹ è¯†åˆ«æ–¹åœ†(1)</title>
    <link href="http://shic.top/Deep-Learning/ML_csv_pretreatment_data/"/>
    <id>http://shic.top/Deep-Learning/ML_csv_pretreatment_data/</id>
    <published>2018-02-05T16:00:10.000Z</published>
    <updated>2019-05-11T12:54:42.222Z</updated>
    
    <content type="html"><![CDATA[<h2 id="æƒ³ä»è¿™ä¸ªå¾ˆç®€å•çš„äºŒåˆ†ç±»é—®é¢˜å®è·µæœºå™¨å­¦ä¹ å—ï¼Ÿ"><a href="#æƒ³ä»è¿™ä¸ªå¾ˆç®€å•çš„äºŒåˆ†ç±»é—®é¢˜å®è·µæœºå™¨å­¦ä¹ å—ï¼Ÿ" class="headerlink" title="æƒ³ä»è¿™ä¸ªå¾ˆç®€å•çš„äºŒåˆ†ç±»é—®é¢˜å®è·µæœºå™¨å­¦ä¹ å—ï¼Ÿ"></a>æƒ³ä»è¿™ä¸ªå¾ˆç®€å•çš„äºŒåˆ†ç±»é—®é¢˜å®è·µæœºå™¨å­¦ä¹ å—ï¼Ÿ</h2><p><center><img src="http://res.cloudinary.com/shi1996/image/upload/v1517904003/fang_yuan_qx0ukp.jpg" alt=""></center><br><a id="more"></a></p>
<h2 id="æ•°æ®é¢„å¤„ç†"><a href="#æ•°æ®é¢„å¤„ç†" class="headerlink" title="æ•°æ®é¢„å¤„ç†"></a>æ•°æ®é¢„å¤„ç†</h2><h3 id="åº"><a href="#åº" class="headerlink" title="åº"></a>åº</h3><p>å¯èƒ½ç»å¤§å¤šæ•°æœºå™¨å­¦ä¹ çš„å…¥é—¨è€…éƒ½ç”¨è¿‡MNISTæ•°æ®é›†ï¼Œç„¶åç¬¬äºŒæ­¥è‡ªå·±åšå®è·µçš„æ—¶å€™å°±å¡ä½äº†ï¼Œè¿™ä¸€æ­¥ä¸­å¾€å¾€æ—¶ç›¸å½“è´¹æ—¶é—´çš„ï¼Œä¹Ÿæ˜¯å­¦ä¹ è¿‡ç¨‹ä¸­ä¸€ä¸ªå›°éš¾çš„åœ°æ–¹ã€‚è¿™æ¬¡åšä¸»å°†åˆ†äº«ä¸€ä¸ªç”¨æœºå™¨å­¦ä¹ æ¥åˆ†è¾¨å›¾ç‰‡çš„ç®€å•ä¾‹å­ï¼Œå¸¦ä½ èµ°è¿›å®è·µï¼Œæœ‰åˆ©äºå¯¹å…¶å·¥ä½œåŸç†çš„ç†è§£ï¼Œä¾¿äºåç»­çš„å­¦ä¹ å’Œç ”ç©¶ã€‚å¦‚æœä½ è¿˜æ²¡æœ‰äº†è§£ä»€ä¹ˆæ—¶æœºå™¨å­¦ä¹ ï¼Œæˆ–è€…ä¸€äº›å¸¸ç”¨çš„ç®—æ³•ï¼Œé‚£æœ¬æ•™ç¨‹ä¸é€‚åˆã€‚</p>
<h3 id="è·å–æ•°æ®é›†"><a href="#è·å–æ•°æ®é›†" class="headerlink" title="è·å–æ•°æ®é›†"></a>è·å–æ•°æ®é›†</h3><p>ç‚¹å‡»<a href="https://pan.baidu.com/s/1kWpzaS3" target="_blank" rel="external">ä¸‹è½½æ•°æ®é›†</a> å¯†ç : vr76ï¼Œ<strong>è¯·å‹¿ç”¨ä½œå•†ä¸šç”¨é€”ï¼Œæ•°æ®é›†ä»…åšå­¦ä¹ äº¤æµ</strong></p>
<h3 id="æ•°æ®é¢„æŸ¥çœ‹"><a href="#æ•°æ®é¢„æŸ¥çœ‹" class="headerlink" title="æ•°æ®é¢„æŸ¥çœ‹"></a>æ•°æ®é¢„æŸ¥çœ‹</h3><p>ä½¿ç”¨matplotlibæŸ¥çœ‹æ•°æ®çš„å›¾ç‰‡å½¢å¼</p>
<ul>
<li>æœ¬æ¬¡è®­ç»ƒæˆ‘ä»¬å°†ç”¨åˆ°ä¸€ç»„æ–¹åœ†çš„æ•°æ®é›†ï¼Œæ¯ä¸€å•ä½çš„æ•°æ®å°±æ˜¯ä¸€ä¸ªåŒ…å«å¤§é‡å™ªç‚¹çš„å›¾å½¢ï¼Œå›¾ç‰‡è¡¨ç¤ºæ–¹å½¢æˆ–è€…åœ†å½¢ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š<img src="http://res.cloudinary.com/shi1996/image/upload/v1517887539/img_of_data_t4vx8s.jpg" alt=""> </li>
<li>å…¶ä¸­ç”¨0è¡¨ç¤ºåœ†ï¼Œ1è¡¨ç¤ºæ–¹å½¢ã€‚</li>
</ul>
<h3 id="æ•°æ®é›†åˆ†æ"><a href="#æ•°æ®é›†åˆ†æ" class="headerlink" title="æ•°æ®é›†åˆ†æ"></a>æ•°æ®é›†åˆ†æ</h3><p>ä¸‹è½½æ•°æ®é›†å¹¶è§£å‹åä¼šå¾—åˆ°ä¸‰ä¸ªcsvæ ¼å¼çš„æ–‡ä»¶ï¼Œè¿™æ˜¯èƒ½ç”¨Microsoft Excelæ‰“å¼€çš„æ–‡ä»¶ï¼Œæ‰“å¼€å‘ç°æ•°æ®å¹¶ä¸æ˜¯æˆ‘ä»¬é©¬ä¸Šèƒ½å¤Ÿç”¨äºæœºå™¨å­¦ä¹ çš„æ•°æ®ï¼Œæˆ‘ä»¬éœ€è¦è¿›è¡Œåˆ†æå’Œé¢„å¤„ç†ã€‚</p>
<ul>
<li>è¯¥æ•°æ®é›†åŒ…å«ï¼šè®­ç»ƒé›†ä¸­4000ä¸ªç°åº¦å›¾åƒï¼Œé¢„æµ‹é›†3550ä¸ªç°åº¦å›¾åƒï¼Œå…¶ä¸­è¿˜åŒ…å«äº†å¤§é‡çš„å›¾åƒå™ªç‚¹ã€‚å›¾åƒåˆ†è¾¨ç‡ä¸º40*40ã€‚ä»¥è¡Œå‘é‡çš„å½¢å¼å­˜æ”¾åœ¨csvæ–‡ä»¶é‡Œ</li>
<li>æ‰“å¼€train.csvï¼Œç¬¬ä¸€è¡Œç¬¬ä¸€ä¸ªå°±æ˜¯idï¼Œä»ä¸Šå¾€ä¸‹0ï½3999ï¼Œè¡¨ç¤ºä¸€å…±4000ä¸ªæ•°æ®ã€‚idåé¢ä¸€ä¸ªæ˜¯p_0_0,ä¸€ç›´å¾€å³æ˜¯åˆ°p_39_39ï¼Œä¸€å…±40*40ä¸ªæ•°æ®ï¼Œæ¯ä¸€è¡Œä¸­çš„è¿™1600ä¸ªæ•°æ®ã€‚åˆ†åˆ«ä»£è¡¨å›¾åƒ(40,40)çŸ©é˜µä¸­ç›¸åº”ä½ç½®ä¸Šçš„åƒç´ ç‚¹çš„ç°åº¦å€¼ã€‚æ¯ä¸€è¡Œæœ€åä¸€ä¸ªæ ‡ç­¾ä¸ºyï¼Œå€¼0æˆ–è€…1ï¼Œä»£è¡¨è¯¥è¡Œå‘é‡çš„æ•°æ®è¡¨ç¤ºçš„æ˜¯åœ†å½¢è¿˜æ˜¯æ–¹å½¢ã€‚æ•°æ®é›†å¦‚ä¸‹æ‰€ç¤ºï¼š<img src="http://res.cloudinary.com/shi1996/image/upload/v1517894328/train_dataSet_cwxs3c.jpg" alt=""></li>
</ul>
<h3 id="é¢„å¤„ç†ã€å‡†å¤‡æ•°æ®"><a href="#é¢„å¤„ç†ã€å‡†å¤‡æ•°æ®" class="headerlink" title="é¢„å¤„ç†ã€å‡†å¤‡æ•°æ®"></a>é¢„å¤„ç†ã€å‡†å¤‡æ•°æ®</h3><p>é€šè¿‡å¯¹æ•°æ®çš„åˆ†æï¼Œæˆ‘ä»¬å‘ç°è¿™äº›æ•°æ®å¹¶ä¸æ˜¯æˆ‘ä»¬èƒ½å¤Ÿé©¬ä¸Šæ‹¿æ¥ç»™ç¥ç»ç½‘ç»œæ¥å­¦ä¹ çš„æ•°æ®ï¼Œæˆ‘ä»¬éœ€è¦å¯¹æ•°æ®è¿›è¡Œä¸€äº›é¢„å¤„ç†ä»¥ä¿è¯æˆ‘ä»¬çš„ç¥ç»ç½‘ç»œèƒ½å¤ŸçœŸæ­£ä»æ•°æ®ä¸­å­¦ä¹ åˆ°å‚æ•°ï¼ŒæŠŠæ²¡æœ‰ç”¨çš„å­—æ®µåˆ é™¤ï¼Œå¯¹æŸäº›å­—æ®µè¿›è¡Œç¼–ç ç­‰ç­‰ã€‚å¹¶åˆ’åˆ†å¥½è®­ç»ƒé›†å’ŒéªŒè¯é›†ã€‚æ³¨ï¼šè¯·æ³¨æ„æ•°æ®é›†æ–‡ä»¶çš„ä½ç½®ï¼Œæ­¤å¤„æ˜¯å’Œä»£ç æ–‡ä»¶åœ¨ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸­ã€‚</p>
<h4 id="å»æ‰idå­—æ®µ"><a href="#å»æ‰idå­—æ®µ" class="headerlink" title="å»æ‰idå­—æ®µ"></a>å»æ‰idå­—æ®µ</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">import pandas as pd</div><div class="line"># å‡†å¤‡æ•°æ®</div><div class="line">data_set = pd.read_csv(&apos;train.csv&apos;).iloc[:,1:]</div></pre></td></tr></table></figure>
<h4 id="one-hot-çƒ­ç¼–ç labels"><a href="#one-hot-çƒ­ç¼–ç labels" class="headerlink" title="one_hot çƒ­ç¼–ç labels"></a>one_hot çƒ­ç¼–ç labels</h4><p>æˆ‘ä»¬å¯ä»¥å‘ç°æ•°æ®é›†é‡Œçš„yæ ‡ç­¾ï¼Œç”¨0è¡¨ç¤ºçš„åœ†ï¼Œç”¨1è¡¨ç¤ºçš„æ–¹ï¼Œä½†æ˜¯æ–¹åœ†å´ä¸æ˜¯åƒ0å’Œ1è¿™æ ·æœ‰æ•°å€¼ä¹‹é—´çš„è·ç¦»æ„Ÿã€‚æˆ‘ä»¬çš„ç›®çš„æ˜¯è®­ç»ƒä¸€ä¸ªç¥ç»ç½‘ç»œèƒ½å¤Ÿå¯¹å›¾åƒè¿›è¡Œåˆ†ç±»å¤„ç†ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿˜éœ€è¦å¯¹æ•°æ®è¿›è¡Œä¸€æ¬¡å†™å¤„ç†ï¼Œè¿™é‡Œæ‰€é‡‡ç”¨çš„æ˜¯onehotå½¢å¼</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">def to_onehot(y):</div><div class="line">	&quot;&quot;&quot; </div><div class="line">		è¿™æ˜¯æˆ‘è‡ªå·±å®šä¹‰çš„ä¸€ä¸ªè½¬åŒ–å½¢å¼ï¼Œå½“ç„¶è¿˜æœ‰å…¶ä»–çš„æ–¹æ³•</div><div class="line">		è¿™ç‚¹æ•ˆç‡ç•¥å¾®ä½</div><div class="line">	&quot;&quot;&quot;</div><div class="line">    for i in range(len(y)):</div><div class="line">        if y.iloc[i,1600]==0:</div><div class="line">            y.iloc[i,1600] = &apos;y&apos;</div><div class="line">        else:</div><div class="line">            y.iloc[i,1600] = &apos;f&apos;</div><div class="line">    return pd.get_dummies(y)</div><div class="line"></div><div class="line">data_set = to_onehot(data_set)</div></pre></td></tr></table></figure>
<h4 id="æ‰“ä¹±æ•°æ®é¡ºåº"><a href="#æ‰“ä¹±æ•°æ®é¡ºåº" class="headerlink" title="æ‰“ä¹±æ•°æ®é¡ºåº"></a>æ‰“ä¹±æ•°æ®é¡ºåº</h4><p>æˆ‘ä»¬é€šè¿‡å¯¹æ•°æ®é›†çš„åˆ†æå¯ä»¥çœ‹å‡ºï¼Œè¿™äº›æ•°æ®éƒ½è¿˜æ˜¯ç›¸å½“æœ‰è§„å¾‹çš„ï¼Œå·®ä¸å¤šå¾ˆå°çš„ä¸€æ‰¹æ•°æ®é‡Œï¼Œæ–¹åœ†çš„æ¯”ä¾‹éƒ½æ˜¯å„å ä¸€åŠã€‚æˆ‘ä»¬å…ˆæ‰“ä¹±ä¸€ä¸‹æ•°æ®çš„é¡ºåºï¼Œæœ‰åˆ©äºç¥ç»ç½‘ç»œçš„å­¦ä¹ ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"># ä¹‹åä¼šç”¨åˆ°tensorflow.float32æ ¼å¼çš„æ•°æ®ï¼Œè¿™é‡Œè½¬åŒ–æˆnp.float32</div><div class="line">data_set = data_set.values.astype(np.float32)</div><div class="line">np.random.shuffle(data_set)</div></pre></td></tr></table></figure></p>
<h4 id="åˆ’åˆ†è®­ç»ƒé›†å’ŒéªŒè¯é›†"><a href="#åˆ’åˆ†è®­ç»ƒé›†å’ŒéªŒè¯é›†" class="headerlink" title="åˆ’åˆ†è®­ç»ƒé›†å’ŒéªŒè¯é›†"></a>åˆ’åˆ†è®­ç»ƒé›†å’ŒéªŒè¯é›†</h4><p>test.csvæ–‡ä»¶ä¸­æ²¡æœ‰æ­£ç¡®çš„yæ ‡ç­¾ï¼Œä»…ä»…èƒ½ç”¨ä½œåšæ¨¡å‹çš„è¡¡é‡ï¼Œè¿™æ˜¯ä¸€ç»„æ²¡æœ‰æ­£ç¡®ç­”æ¡ˆçš„æ•°æ®ï¼Œæˆ‘ä»¬åªæœ‰åˆ’åˆ†train .csvæ¥å¾—åˆ°æˆ‘ä»¬çš„è®­ç»ƒé›†å’ŒéªŒè¯é›†<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">sep = int(0.7*len(data_set))</div><div class="line">train_data = data_set[:sep]</div><div class="line">test_data = data_set[sep:]</div></pre></td></tr></table></figure></p>
<h3 id="éªŒè¯æ•°æ®é›†"><a href="#éªŒè¯æ•°æ®é›†" class="headerlink" title="éªŒè¯æ•°æ®é›†"></a>éªŒè¯æ•°æ®é›†</h3><ul>
<li>å¯ä»¥é€šè¿‡å¤šæ¬¡æ‰“å°å¾—åˆ°çš„çŸ©é˜µçš„ç»´åº¦æ¥è¿›è¡Œåˆ‡å‰²æ­£ç¡®æ€§åˆ¤æ–­ï¼Œæˆ–éšæœºæ‰“å°å‡ ä¸ªæ•°æ®å¯¹ç…§çœŸå®æ•°æ®ï¼Œæ£€éªŒè‡ªå·±çš„æ•°æ®é¢„å¤„ç†æ˜¯å¦æ­£ç¡®ã€‚</li>
<li>å¦‚æœå¯¹è¿™é‡Œçš„è¡Œå‘é‡ç†è§£ä¸æ˜¯å¾ˆæ·±åˆ»ï¼Œä¸ç›¸ä¿¡è¿™èƒ½è¡¨ç¤ºå›¾ç‰‡ä¿¡æ¯çš„è¯ï¼Œè¿˜å¯ä»¥éšä¾¿æ‰¾ä¸€è¡Œè¾“å‡ºæ¥çœ‹çœ‹æ˜¯ä»€ä¹ˆï¼Œå›¾ç‰‡å¦‚ä¸Šé¢æ‰€ç¤º</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">import matplotlib.pyplot as plt</div><div class="line"># è¿™é‡Œè¾“å‡ºç¬¬996ä¸ªå›¾åƒè§‚å¯Ÿä¸€ä¸‹</div><div class="line">plt.imshow(train_data.iloc[995].reshape(40,40), cmap=&apos;gray&apos;)</div><div class="line">plt.title(&apos;%i&apos; % train_labels.iloc[995,0]); plt.show()</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;æƒ³ä»è¿™ä¸ªå¾ˆç®€å•çš„äºŒåˆ†ç±»é—®é¢˜å®è·µæœºå™¨å­¦ä¹ å—ï¼Ÿ&quot;&gt;&lt;a href=&quot;#æƒ³ä»è¿™ä¸ªå¾ˆç®€å•çš„äºŒåˆ†ç±»é—®é¢˜å®è·µæœºå™¨å­¦ä¹ å—ï¼Ÿ&quot; class=&quot;headerlink&quot; title=&quot;æƒ³ä»è¿™ä¸ªå¾ˆç®€å•çš„äºŒåˆ†ç±»é—®é¢˜å®è·µæœºå™¨å­¦ä¹ å—ï¼Ÿ&quot;&gt;&lt;/a&gt;æƒ³ä»è¿™ä¸ªå¾ˆç®€å•çš„äºŒåˆ†ç±»é—®é¢˜å®è·µæœºå™¨å­¦ä¹ å—ï¼Ÿ&lt;/h2&gt;&lt;p&gt;&lt;center&gt;&lt;img src=&quot;http://res.cloudinary.com/shi1996/image/upload/v1517904003/fang_yuan_qx0ukp.jpg&quot; alt=&quot;&quot;&gt;&lt;/center&gt;&lt;br&gt;
    
    </summary>
    
      <category term="Deep Learning" scheme="http://shic.top/categories/Deep-Learning/"/>
    
    
      <category term="Deep Learning" scheme="http://shic.top/tags/Deep-Learning/"/>
    
  </entry>
  
  <entry>
    <title>æœºå™¨å­¦ä¹ è¯†åˆ«æ–¹åœ†(2)</title>
    <link href="http://shic.top/Deep-Learning/ML_csv_build_model/"/>
    <id>http://shic.top/Deep-Learning/ML_csv_build_model/</id>
    <published>2018-02-05T16:00:09.000Z</published>
    <updated>2019-05-11T12:55:51.230Z</updated>
    
    <content type="html"><![CDATA[<h2 id="æ­å»ºæ¨¡å‹-CNN"><a href="#æ­å»ºæ¨¡å‹-CNN" class="headerlink" title="æ­å»ºæ¨¡å‹-CNN"></a>æ­å»ºæ¨¡å‹-CNN</h2><p>æœ¬æ¬¡å…ˆç”¨CNNæ¥æ­å»ºç¥ç»ç½‘ç»œï¼Œå®ç°å›¾åƒçš„è¯†åˆ«</p>
<p><center><img src="http://res.cloudinary.com/shi1996/image/upload/v1517897894/cnn_h1tuhm.jpg" alt=""></center><br><a id="more"></a><br><br></p>
<h3 id="å‚æ•°ã€è¶…å‚æ•°"><a href="#å‚æ•°ã€è¶…å‚æ•°" class="headerlink" title="å‚æ•°ã€è¶…å‚æ•°"></a>å‚æ•°ã€è¶…å‚æ•°</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">batch_size = 50  # ä¸€æ‰¹å–50ä¸ªæ•°æ®</div><div class="line">lr = 0.5         # learning rate</div></pre></td></tr></table></figure>
<h3 id="åˆ›å»ºæ¨¡å‹"><a href="#åˆ›å»ºæ¨¡å‹" class="headerlink" title="åˆ›å»ºæ¨¡å‹"></a>åˆ›å»ºæ¨¡å‹</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line">import tensorflow as tf</div><div class="line"></div><div class="line"># åˆ›å»ºæ¨¡å‹</div><div class="line">tf_input = tf.placeholder(tf.float32,[None,1602])</div><div class="line">tf_x = tf_input[:,:1600]</div><div class="line">x_img = tf.reshape(tf_x,[-1,40,40,1])</div><div class="line">tf_y = tf_input[:,1600:]            # onehot</div><div class="line"></div><div class="line">## CNN</div><div class="line">conv1 = tf.layers.conv2d(           # shape:(40,40,1)</div><div class="line">        inputs = x_img,</div><div class="line">        filters = 10,               # å›¾åƒå·ç§¯åçš„æ·±åº¦</div><div class="line">        kernel_size = 5,            # æ‰«ææ ¸5*5å¤§å°</div><div class="line">        padding = &apos;same&apos;,</div><div class="line">        activity_regularizer = tf.nn.relu</div><div class="line">)                                   # shape:(40,40,10)</div><div class="line">pool1 = tf.layers.max_pooling2d(</div><div class="line">        inputs = conv1,</div><div class="line">        pool_size = [2,2],</div><div class="line">        strides = 2</div><div class="line">)                                   # shape:(20,20,10)</div><div class="line">conv2 = tf.layers.conv2d(</div><div class="line">        inputs = pool1,</div><div class="line">        filters = 20,</div><div class="line">        kernel_size = 5,</div><div class="line">        padding = &apos;same&apos;,</div><div class="line">        activity_regularizer = tf.nn.relu</div><div class="line">)                                   # shape:(20,20,20)</div><div class="line">pool2 = tf.layers.max_pooling2d(</div><div class="line">        inputs = conv2,</div><div class="line">        pool_size = [2,2],</div><div class="line">        strides = 2</div><div class="line">)                                   # shape:(10,10,20)</div><div class="line"></div><div class="line">shape = pool2.get_shape().as_list() # (à¸‡ â€¢_â€¢)à¸‡</div><div class="line">flat_data = tf.reshape(pool2,[-1,shape[1]*shape[2]*shape[3]])</div><div class="line">output = tf.layers.dense(flat_data,2) #ç”¨äºå…¨è¿æ¥å±‚ï¼ŒäºŒåˆ†ç±»0æˆ–è€…1ã€‚</div></pre></td></tr></table></figure>
<h3 id="å®šä¹‰æŸå¤±å‡½æ•°"><a href="#å®šä¹‰æŸå¤±å‡½æ•°" class="headerlink" title="å®šä¹‰æŸå¤±å‡½æ•°"></a>å®šä¹‰æŸå¤±å‡½æ•°</h3><p>æ­¤å¤„æˆ‘ä»¬é€‰æ‹©çš„æ˜¯äº¤å‰ç†µæŸå¤±å‡½æ•°ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯è¿™é‡Œçš„tf_yone_hotå½¢å¼çš„ï¼Œæ¥è‡ªæ•°æ®é›†çš„yï¼Œoutputå°±æ˜¯æ¨¡å‹çš„é¢„æµ‹å€¼<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">loss = tf.losses.softmax_cross_entropy(</div><div class="line">		onehot_labels = tf_y,</div><div class="line">		logits = output</div><div class="line">)</div></pre></td></tr></table></figure></p>
<h3 id="é€‰æ‹©ä¼˜åŒ–æ–¹æ³•è®­ç»ƒ"><a href="#é€‰æ‹©ä¼˜åŒ–æ–¹æ³•è®­ç»ƒ" class="headerlink" title="é€‰æ‹©ä¼˜åŒ–æ–¹æ³•è®­ç»ƒ"></a>é€‰æ‹©ä¼˜åŒ–æ–¹æ³•è®­ç»ƒ</h3><p>æ­¤å¤„æˆ‘ä»¬é€‰æ‹©çš„æ˜¯AdamOptimizerï¼Œå½“ç„¶ä¹Ÿå¯ä»¥å°è¯•å…¶ä»–ä¼˜åŒ–å™¨ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">train_op = tf.train.AdamOptimizer(lr).minimize(loss)</div></pre></td></tr></table></figure></p>
<h3 id="è®¡ç®—æ¨¡å‹ç²¾åº¦"><a href="#è®¡ç®—æ¨¡å‹ç²¾åº¦" class="headerlink" title="è®¡ç®—æ¨¡å‹ç²¾åº¦"></a>è®¡ç®—æ¨¡å‹ç²¾åº¦</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"># ç”¨äºæµ‹è¯•è¯¥æ¨¡å‹çš„è¯†åˆ«ç²¾ç¡®åº¦</div><div class="line">accuracy = tf.metrics.accuracy(</div><div class="line">        labels = tf.argmax(tf_y,axis = 1),</div><div class="line">        predictions = tf.argmax(output,axis = 1)</div><div class="line">)[1]</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;æ­å»ºæ¨¡å‹-CNN&quot;&gt;&lt;a href=&quot;#æ­å»ºæ¨¡å‹-CNN&quot; class=&quot;headerlink&quot; title=&quot;æ­å»ºæ¨¡å‹-CNN&quot;&gt;&lt;/a&gt;æ­å»ºæ¨¡å‹-CNN&lt;/h2&gt;&lt;p&gt;æœ¬æ¬¡å…ˆç”¨CNNæ¥æ­å»ºç¥ç»ç½‘ç»œï¼Œå®ç°å›¾åƒçš„è¯†åˆ«&lt;/p&gt;
&lt;p&gt;&lt;center&gt;&lt;img src=&quot;http://res.cloudinary.com/shi1996/image/upload/v1517897894/cnn_h1tuhm.jpg&quot; alt=&quot;&quot;&gt;&lt;/center&gt;&lt;br&gt;
    
    </summary>
    
      <category term="Deep Learning" scheme="http://shic.top/categories/Deep-Learning/"/>
    
    
      <category term="Deep Learning" scheme="http://shic.top/tags/Deep-Learning/"/>
    
  </entry>
  
  <entry>
    <title>æœºå™¨å­¦ä¹ è¯†åˆ«æ–¹åœ†(3)</title>
    <link href="http://shic.top/Deep-Learning/ML_csv_Run/"/>
    <id>http://shic.top/Deep-Learning/ML_csv_Run/</id>
    <published>2018-02-05T16:00:08.000Z</published>
    <updated>2019-05-11T12:55:47.444Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Run-Your-Neural-Network"><a href="#Run-Your-Neural-Network" class="headerlink" title="Run Your Neural Network"></a>Run Your Neural Network</h2><p><center><img src="http://res.cloudinary.com/shi1996/image/upload/v1517903727/neural-net-head_pf5ixb.jpg" alt=""></center><br><a id="more"></a></p>
<h3 id="åˆå§‹åŒ–"><a href="#åˆå§‹åŒ–" class="headerlink" title="åˆå§‹åŒ–"></a>åˆå§‹åŒ–</h3><p><strong>è¿™ä¸€æ­¥æ˜¯ç›¸å½“é‡è¦çš„</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">sess = tf.Session()</div><div class="line"># åˆå§‹åŒ–å…¨å±€å’Œæœ¬åœ°å˜é‡</div><div class="line">init_op = tf.group(</div><div class="line">        tf.global_variables_initializer(), </div><div class="line">        tf.local_variables_initializer())</div><div class="line">sess.run(init_op)</div></pre></td></tr></table></figure></p>
<h3 id="è®­ç»ƒå¹¶å®æ—¶æ£€éªŒ"><a href="#è®­ç»ƒå¹¶å®æ—¶æ£€éªŒ" class="headerlink" title="è®­ç»ƒå¹¶å®æ—¶æ£€éªŒ"></a>è®­ç»ƒå¹¶å®æ—¶æ£€éªŒ</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"># è®­ç»ƒ</div><div class="line">for step in range(1201):</div><div class="line">    batch_index = np.random.randint(len(train_data), size = batch_size)</div><div class="line">    sess.run(train_op,&#123;tf_input:train_data[batch_index]&#125;)</div><div class="line">    if step % 50 ==0:</div><div class="line">        acc_, loss_ = sess.run([accuracy, loss], &#123;tf_input: test_data&#125;)</div><div class="line">        print(&quot;Step: %i&quot; % step, &quot;| Accurate: %.8f&quot; % acc_, &quot;| Loss: %.2f&quot; % loss_ )</div><div class="line">	</div><div class="line">	# æ£€éªŒä¸€ä¸‹æ˜¯å¦è¾“å‡ºæ­£å¸¸</div><div class="line">    if step == 1200:</div><div class="line">        predictions_2 = tf.argmax(output,axis = 1)</div><div class="line">        test_data_ = test_data[:50]</div><div class="line">        acc_,predictions_2_ ,output_= sess.run([accuracy,predictions_2,output], feed_dict = &#123;tf_input: test_data_&#125;)</div><div class="line">        print(&apos;predictions_2:&apos;, predictions_2_,&apos;output:&apos;,output_)</div><div class="line">        print(&apos;accuracy:&apos;,acc_)</div></pre></td></tr></table></figure>
<p>åœ¨ç»è¿‡å¾ˆçŸ­çš„è®­ç»ƒåï¼Œè¿˜æ˜¯èƒ½è¾¾åˆ°çº¦99%çš„ç²¾ç¡®åº¦ï¼ˆstep = 1200ï¼Œaccuracy = 92.5%ï¼Œå›¾åƒå™ªç‚¹è¾ƒå¤šï¼‰</p>
<h3 id="ä¼˜åŒ–åŠæ€»ç»“"><a href="#ä¼˜åŒ–åŠæ€»ç»“" class="headerlink" title="ä¼˜åŒ–åŠæ€»ç»“"></a>ä¼˜åŒ–åŠæ€»ç»“</h3><ul>
<li><p>æˆ‘ä»¬é¦–å…ˆç”¨çš„æ˜¯0.05çš„å­¦ä¹ ç‡è¿›è¡Œå­¦ä¹ ï¼Œåœ¨è¾¾åˆ°98%çš„æ—¶å€™å°±æ¯”è¾ƒéš¾ä¸Šåˆ°99%ï¼Œå½“ç„¶ç»è¿‡æ›´å¤šçš„è®­ç»ƒè¿˜æ˜¯å¯ä»¥ã€‚é‚£ä¹ˆæ­¤å¤„å°±å¯ä»¥æ›´æ”¹ä¸€ä¸‹learning rateï¼Œæ¢ä¸€ä¸ªæ›´å°çš„å€¼æ¥è¯•è¯•ã€‚</p>
</li>
<li><p>å½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥æŠŠä»£ç è¿ç§»åˆ°GPUç‰ˆçš„Tensorflowä¸Šã€‚è¿™é‡Œæˆ‘è®­ç»ƒçš„æ—¶å€™æˆ‘çš„GTX950Må‡ºç°äº†çˆ†æ˜¾å­˜çš„é”™è¯¯ã€‚ã€‚å½“ç„¶åº”è¯¥å¯ä»¥é€šè¿‡ä¼˜åŒ–æ¨¡å‹ï¼Œæ›´æ”¹æ¯ä¸€æ‰¹çš„æ•°æ®æ¥è§£å†³ã€‚æš‚æ—¶æˆ‘è¿˜æ²¡åšè¿™ä¸€å—ã€‚<strong>ä½†éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç›®å‰Tenssorflowçš„CPUç‰ˆå’ŒGPUç‰ˆæ˜¯ä¸èƒ½åŒæ—¶å®‰è£…çš„</strong>ï¼Œä¹‹åæœ‰æ—¶é—´å†åˆ†äº«ä¸€æœŸæœ‰å…³äºè¿™æ–¹é¢çš„ä¼˜åŒ–åŠ é€Ÿæ–¹æ³•å§ã€‚</p>
</li>
<li><p>å¦‚æœæ˜¯æ²¡æœ‰GPUï¼Œä¹Ÿå¯ä»¥é€šè¿‡æºä»£ç å®‰è£…Tensorflowè·å–å¯¹äºAVXï¼ŒAVX2æŒ‡ä»¤é›†çš„æ”¯æŒã€‚å½“ç„¶å…³äºè¿™ä¸€æ¡æˆ‘å®éªŒäº†å¥½å‡ å¤©ã€‚å› ä¸ºåšä¸»çš„ç”µè„‘æ˜¯Windows 10æ“ä½œç³»ç»Ÿçš„ï¼Œä¹Ÿæ²¡æœ‰å®‰è£…Linuxï¼Œæ‰€ä»¥å®˜æ–¹å°±ä¸æ”¯æŒæºä»£ç å®‰è£…åˆ°Windowsæœºå™¨ä¸Šã€‚å¦‚æœä½ ä¹Ÿç”¨çš„æ˜¯Windowsç”µè„‘ï¼Œè¿™é‡Œç»™å‡ºèŠ±äº†å¥½å‡ å¤©æ¥å®éªŒå¾—åˆ°ç»éªŒå’Œä¿¡æ¯ï¼š</p>
<ul>
<li>Tensorflowå®˜æ–¹ä¸æ”¯æŒæºä»£ç å®‰è£…åˆ°WIndowsï¼Œæ‰€ä»¥åªæœ‰è‡ªå·±æ“ä½œï¼Œéœ€è¦ç”¨åˆ°cmakeï¼Œswigwinï¼Œvisual studioä¸‰ä¸ªå·¥å…·ï¼Œå…¶ä¸­vs2015åªèƒ½ç¼–è¯‘å‡ºæ”¯æŒAVXæŒ‡ä»¤é›†çš„wheelæ–‡ä»¶ï¼Œ<strong>vs2017æ‰èƒ½ç¼–è¯‘å‡ºæ”¯æŒAVXå’ŒAVX2çš„</strong></li>
<li>ç¼–è¯‘æ—¶åªæ”¯æŒPython3.5-amd64ï¼Œä¸æ”¯æŒPython3.6ï¼Œç”¨3.6çš„pythonä¼šç¼–è¯‘å‡ºé”™ï¼Œæœ€ç»ˆæ— æ³•å¾—åˆ°wheelæ–‡ä»¶</li>
<li>ç¼–è¯‘æ—¶ä¼šä»gitä¸‹è½½ä¸€äº›æ•°æ®æ–‡ä»¶ï¼Œç½‘é€Ÿéå¸¸éå¸¸çš„æ…¢ï¼Œæˆ‘æŒ‚äº†å…­å°æ—¶æ‰ä¸‹è½½å®Œï¼Œä¸€ç›´åœåœ¨ä¸‹è½½æ²¡æœ‰å˜æ˜¯æ­£å¸¸ç°è±¡ã€‚å»ºè®®å¯ç”¨VPNå…¨å±€ä»£ç†ï¼ˆssréœ€è¦é€‰æ‹©ä»£ç†è§„åˆ™ä¸ºå…¨å±€ä»£ç†ï¼Œå†é€‰PACæ‰è¡Œï¼‰</li>
</ul>
</li>
</ul>
<ul>
<li>æˆ‘ä»¬ä¹Ÿå¯ä»¥ç”¨åˆ°ä¸€äº›è¿ç§»å­¦ä¹ çš„æ€æƒ³ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆå¯¹æ¨¡å‹ç”¨ä¸€ä¸ªè¾ƒå¤§çš„learning rateè¿›è¡Œå­¦ä¹ ï¼Œç„¶ååˆ°ä¸€å®šç¨‹åº¦åå°±æŠŠå­¦ä¹ åˆ°çš„ç¥ç»ç½‘ç»œçš„å‚æ•°ä¿å­˜ä¸‹æ¥ï¼Œä¸‹ä¸€æ¬¡æ¢ä¸€ä¸ªå°ç‚¹çš„learning rateï¼ŒæŠŠä¿å­˜çš„å‚æ•°è¯»å–å¤„ç†ã€‚åœ¨æ­¤åŸºç¡€ä¸Šå†è¿›è¡Œå­¦ä¹ ã€‚å…³äºè¿™ä¸€ç‚¹ï¼Œåšä¸»ä¹‹åæœ‰æ—¶é—´çš„è¯ä¹Ÿä¼šå†™ä¸€ä¸ªå¸–å­åˆ†äº«ä¸€ä¸‹ã€‚</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;Run-Your-Neural-Network&quot;&gt;&lt;a href=&quot;#Run-Your-Neural-Network&quot; class=&quot;headerlink&quot; title=&quot;Run Your Neural Network&quot;&gt;&lt;/a&gt;Run Your Neural Network&lt;/h2&gt;&lt;p&gt;&lt;center&gt;&lt;img src=&quot;http://res.cloudinary.com/shi1996/image/upload/v1517903727/neural-net-head_pf5ixb.jpg&quot; alt=&quot;&quot;&gt;&lt;/center&gt;&lt;br&gt;
    
    </summary>
    
      <category term="Deep Learning" scheme="http://shic.top/categories/Deep-Learning/"/>
    
    
      <category term="Deep Learning" scheme="http://shic.top/tags/Deep-Learning/"/>
    
  </entry>
  
  <entry>
    <title>æœºå™¨å­¦ä¹ è¯†åˆ«æ–¹åœ†(4)</title>
    <link href="http://shic.top/Deep-Learning/ML_csv_rnn/"/>
    <id>http://shic.top/Deep-Learning/ML_csv_rnn/</id>
    <published>2018-02-05T16:00:07.000Z</published>
    <updated>2019-05-11T12:50:17.223Z</updated>
    
    <content type="html"><![CDATA[<h2 id="RNNç…§æ ·è¯†åˆ«ä½ æ˜¯æ–¹æ˜¯åœ†"><a href="#RNNç…§æ ·è¯†åˆ«ä½ æ˜¯æ–¹æ˜¯åœ†" class="headerlink" title="RNNç…§æ ·è¯†åˆ«ä½ æ˜¯æ–¹æ˜¯åœ†"></a>RNNç…§æ ·è¯†åˆ«ä½ æ˜¯æ–¹æ˜¯åœ†</h2><p><center><img src="http://res.cloudinary.com/shi1996/image/upload/v1517922013/rnn_c77e5f.jpg" alt=""></center><br><a id="more"></a></p>
<h3 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h3><p>å‰é¢ç”¨CNNå®è·µäº†ä¸€ä¸‹ï¼Œå…¶å®ç”¨RNNä¹Ÿæ˜¯å¯ä»¥è¯†åˆ«å›¾åƒçš„ã€‚åªæ˜¯è¯´å­˜åœ¨è¿™åœ¨äºæ›´åŠ å¤§å‹çš„æ¨¡å‹é‡Œçš„å¥½åé—®é¢˜ï¼Œåœ¨è¿™ä¸ªå°æ•°æ®é›†ä¸Šï¼ŒRNNåŒæ ·ä¹Ÿæ˜¯å¯ä»¥ä½¿ç”¨åšåˆ†ç±»å¤„ç†çš„ï¼Œè€Œä¸”è¿™æ ·ä¹Ÿèƒ½åŠ æ·±ç†è§£ã€‚<br><br><br>ç”¨ä¸‹å›¾è§£é‡Šä¸€ä¸‹RNNå¤„ç†å›¾åƒæ—¶çš„è¾“å…¥<br><img src="http://res.cloudinary.com/shi1996/image/upload/v1517923518/rnn__s8xouo.jpg" alt=""><br>éš¾ç‚¹è¿˜æ˜¯åœ¨å¤„ç†æ•°æ®ï¼Œè°ƒæ•´æ¨¡å‹ä½¿ä¹‹ä¸æ•°æ®ç»´åº¦åŒ¹é…</p>
<h3 id="ä»£ç "><a href="#ä»£ç " class="headerlink" title="ä»£ç "></a>ä»£ç </h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div></pre></td><td class="code"><pre><div class="line">import pandas as pd</div><div class="line">import numpy as np</div><div class="line">import tensorflow as tf</div><div class="line"></div><div class="line"># è¶…å‚æ•°</div><div class="line">batch_size = 50</div><div class="line">time_step = 40</div><div class="line">input_size = 40</div><div class="line">lr = 0.005</div><div class="line">hidden_unit = 256</div><div class="line"></div><div class="line">def to_onehot(y):</div><div class="line">    for i in range(len(y)):</div><div class="line">        if y.iloc[i,1600]==0:</div><div class="line">            y.iloc[i,1600] = &apos;y&apos;</div><div class="line">        else:</div><div class="line">            y.iloc[i,1600] = &apos;f&apos;</div><div class="line">    return pd.get_dummies(y)</div><div class="line"></div><div class="line"># å‡†å¤‡æ•°æ®</div><div class="line">data_set = pd.read_csv(&apos;train.csv&apos;).iloc[:,1:]</div><div class="line"># ä»…æŠŠæ ‡ç­¾è½¬åŒ–æˆonehot</div><div class="line">data_set = to_onehot(data_set)</div><div class="line"></div><div class="line"># æ‰“ä¹±æ•°æ®ï¼Œä½¿æ•°æ®éšæœº</div><div class="line">data_set = data_set.values.astype(np.float32)</div><div class="line">np.random.shuffle(data_set)</div><div class="line"></div><div class="line"># åˆ’åˆ†è®­ç»ƒé›†å’ŒéªŒè¯é›†</div><div class="line">sep = int(0.7*len(data_set))</div><div class="line">train_data = data_set[:sep]</div><div class="line">test_data = data_set[sep:]</div><div class="line"></div><div class="line"># åˆ›å»ºæ¨¡å‹</div><div class="line">tf_input = tf.placeholder(tf.float32,[None,1602])</div><div class="line">tf_x = tf_input[:,:1600]</div><div class="line">x_img = tf.reshape(tf_x,[-1,time_step,input_size])</div><div class="line">tf_y = tf_input[:,1600:]            # onehot</div><div class="line"></div><div class="line">## RNN</div><div class="line">rnn_cell = tf.contrib.rnn.BasicLSTMCell(num_units = hidden_unit)</div><div class="line">output_ , states = tf.nn.dynamic_rnn(</div><div class="line">        rnn_cell,               #cell</div><div class="line">        x_img,                  #input</div><div class="line">        initial_state = None,   #åˆå§‹åŒ–éšè—å±‚çš„çŠ¶æ€,è¡¨ç¤ºä¸åˆå§‹åŒ–</div><div class="line">        dtype = tf.float32,     #å’Œä¸Šé¢é‚£å¥å¿…é¡»åŒæ—¶å‡ºç°</div><div class="line">        time_major = False      #False: (batch, time_step, input); True: (time_step, batch, input)</div><div class="line">)</div><div class="line"></div><div class="line">output = tf.layers.dense(output_[:,-1,:],2) #å¯¹è¾“å‡ºè¿›è¡Œæœ€åçš„ä¿®æ”¹</div><div class="line"></div><div class="line">loss = tf.losses.softmax_cross_entropy(onehot_labels = tf_y,logits = output)</div><div class="line">train_op = tf.train.AdamOptimizer(lr).minimize(loss)</div><div class="line"></div><div class="line"># è®¡ç®—ç²¾åº¦</div><div class="line">accuracy = tf.metrics.accuracy(</div><div class="line">        labels = tf.argmax(tf_y,axis = 1),</div><div class="line">        predictions = tf.argmax(output,axis = 1)</div><div class="line">)[1]</div><div class="line"></div><div class="line"># é‡è¦æ­¥éª¤ï¼ï¼åˆå§‹åŒ–</div><div class="line">sess = tf.Session()</div><div class="line">#åˆå§‹åŒ–å…¨å±€å’Œæœ¬åœ°å˜é‡</div><div class="line">init_op = tf.group(tf.global_variables_initializer(), tf.local_variables_initializer())</div><div class="line">sess.run(init_op)</div><div class="line"></div><div class="line"># è®­ç»ƒ</div><div class="line">print(&quot;RNNæ¨¡å‹ï¼Œlearning rateï¼š&quot;,lr)</div><div class="line">for step in range(1201):</div><div class="line">    batch_index = np.random.randint(len(train_data), size = batch_size)</div><div class="line">    sess.run(train_op,&#123;tf_input:train_data[batch_index]&#125;)</div><div class="line">    if step % 50 ==0:</div><div class="line">        acc_, loss_ = sess.run([accuracy, loss], &#123;tf_input: test_data&#125;)</div><div class="line">        print(&quot;Step: %i&quot; % step, &quot;| Accurate: %.8f&quot; % acc_, &quot;| Loss: %.2f&quot; % loss_ )</div><div class="line"></div><div class="line">    if step == 1200:</div><div class="line">        predictions_2 = tf.argmax(output,axis = 1)</div><div class="line">        test_data_ = test_data[:50]</div><div class="line">        acc_,predictions_2_ ,output_= sess.run([accuracy,predictions_2,output], feed_dict = &#123;tf_input: test_data_&#125;)</div><div class="line">        print(&apos;predictions_2:&apos;, predictions_2_,&apos;output:&apos;,output_)</div><div class="line">        print(&apos;accuracy:&apos;,acc_)</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;RNNç…§æ ·è¯†åˆ«ä½ æ˜¯æ–¹æ˜¯åœ†&quot;&gt;&lt;a href=&quot;#RNNç…§æ ·è¯†åˆ«ä½ æ˜¯æ–¹æ˜¯åœ†&quot; class=&quot;headerlink&quot; title=&quot;RNNç…§æ ·è¯†åˆ«ä½ æ˜¯æ–¹æ˜¯åœ†&quot;&gt;&lt;/a&gt;RNNç…§æ ·è¯†åˆ«ä½ æ˜¯æ–¹æ˜¯åœ†&lt;/h2&gt;&lt;p&gt;&lt;center&gt;&lt;img src=&quot;http://res.cloudinary.com/shi1996/image/upload/v1517922013/rnn_c77e5f.jpg&quot; alt=&quot;&quot;&gt;&lt;/center&gt;&lt;br&gt;
    
    </summary>
    
      <category term="Deep Learning" scheme="http://shic.top/categories/Deep-Learning/"/>
    
    
      <category term="Deep Learning" scheme="http://shic.top/tags/Deep-Learning/"/>
    
  </entry>
  
  <entry>
    <title>éšç¬”ï¼šå…¥é—¨æ‰€é‡åˆ°çš„å‘</title>
    <link href="http://shic.top/TensorFlow/%E9%9A%8F%E7%AC%94%EF%BC%9A%E5%85%A5%E9%97%A8%E6%89%80%E9%81%87%E5%88%B0%E7%9A%84%E5%9D%91/"/>
    <id>http://shic.top/TensorFlow/éšç¬”ï¼šå…¥é—¨æ‰€é‡åˆ°çš„å‘/</id>
    <published>2017-12-22T16:00:04.000Z</published>
    <updated>2018-02-06T13:54:46.624Z</updated>
    
    <content type="html"><![CDATA[<h2 id="çœŸçš„æ˜¯éšç¬”ï¼Œä¸ä¿¡ç®—äº†"><a href="#çœŸçš„æ˜¯éšç¬”ï¼Œä¸ä¿¡ç®—äº†" class="headerlink" title="çœŸçš„æ˜¯éšç¬”ï¼Œä¸ä¿¡ç®—äº†"></a><center>çœŸçš„æ˜¯éšç¬”ï¼Œä¸ä¿¡ç®—äº†</center></h2><h2 id="ç¯å¢ƒ"><a href="#ç¯å¢ƒ" class="headerlink" title="ç¯å¢ƒ"></a>ç¯å¢ƒ</h2><ul>
<li>Windows 10 64Bit 1709Pro</li>
<li>TensorFlow1.4.0</li>
<li>Python 3.6.3</li>
<li></li>
<li></li>
<li><a id="more"></a>
</li>
</ul>
<ol>
<li><p>Jupyterå®‰è£…å‡ºé—®é¢˜ï¼Œä¸èƒ½æ‰“å¼€jupyter notebook<br>ç­”ï¼šå®‰è£…æç¤ºæ˜¯æ‰¾ä¸åˆ°markupsafeæ¨¡å—ï¼Œä½†æ˜¯pip listä¸€æŸ¥çœ‹ï¼Œçš„ç¡®æ˜¯å®‰è£…äº†çš„ï¼Œæœ‰è¯´æ³•æ˜¯åœ¨Windowsç»ˆç«¯ä¸Šçš„cmdç¼–ç æœ‰é—®é¢˜ï¼Œäºæ˜¯å°±å¯ä»¥æ¢ä¸€ä¸ªç»ˆç«¯æ¥ä½¿ç”¨ï¼Œæ¯”å¦‚è¯´åœ¨git bashé‡Œï¼Œå¸è½½markupsafeå¹¶é‡æ–°å®‰è£…ï¼Œç„¶åå°±èƒ½é¡ºåˆ©æ‰“å¼€ï¼Œè¿è¡Œjupyter notebookæµè§ˆå™¨å°±ä¼šè‡ªåŠ¨æ‰“å¼€ã€‚</p>
<center><img src="https://res.cloudinary.com/shi1996/image/upload/v1510803291/gitbash_r04neu.png" alt="gitbash"></center><br><center><img src="http://res.cloudinary.com/shi1996/image/upload/v1510803295/jupyter_ibqqjg.png" alt="jupyter"></center><br>ä½†å¤§å®¶ä¼šå‘ç°è¿™è¿›å…¥çš„æ˜¯å½“å‰ç”¨æˆ·çš„ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œæ¨èæ˜¯åœ¨pythonçš„æ¨¡å—æ–‡ä»¶å¤¹ä¸‹ï¼Œå³é”®ç‚¹å‡»git bash hereï¼Œå°±èƒ½ç”¨jupyteræ‰“å¼€è¯¥æ–‡ä»¶å¤¹äº†<br><center><img src="http://res.cloudinary.com/shi1996/image/upload/v1510803930/gitbashhere_zebgzz.png" alt="gitbashhere"></center>
</li>
<li><p><a href="https://www.tensorflow.org/install/migration" target="_blank" rel="external">è¿‡åº¦åˆ°Tensorflow 1.0ç‰ˆæœ¬</a>,æœ‰äº›æ•™ç¨‹ç”¨çš„ç‰ˆæœ¬æ¯”è¾ƒä½ï¼Œæ–°ç‰ˆçš„APIä¸æ—§ç‰ˆçš„å·®åˆ«çœ‹è¿™</p>
</li>
<li></li>
</ol>
]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;çœŸçš„æ˜¯éšç¬”ï¼Œä¸ä¿¡ç®—äº†&quot;&gt;&lt;a href=&quot;#çœŸçš„æ˜¯éšç¬”ï¼Œä¸ä¿¡ç®—äº†&quot; class=&quot;headerlink&quot; title=&quot;çœŸçš„æ˜¯éšç¬”ï¼Œä¸ä¿¡ç®—äº†&quot;&gt;&lt;/a&gt;&lt;center&gt;çœŸçš„æ˜¯éšç¬”ï¼Œä¸ä¿¡ç®—äº†&lt;/center&gt;&lt;/h2&gt;&lt;h2 id=&quot;ç¯å¢ƒ&quot;&gt;&lt;a href=&quot;#ç¯å¢ƒ&quot; class=&quot;headerlink&quot; title=&quot;ç¯å¢ƒ&quot;&gt;&lt;/a&gt;ç¯å¢ƒ&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;Windows 10 64Bit 1709Pro&lt;/li&gt;
&lt;li&gt;TensorFlow1.4.0&lt;/li&gt;
&lt;li&gt;Python 3.6.3&lt;/li&gt;
&lt;li&gt;&lt;/li&gt;
&lt;li&gt;&lt;/li&gt;
&lt;li&gt;
    
    </summary>
    
      <category term="TensorFlow" scheme="http://shic.top/categories/TensorFlow/"/>
    
    
      <category term="TensorFlow" scheme="http://shic.top/tags/TensorFlow/"/>
    
  </entry>
  
  <entry>
    <title>åœ¨Ubuntué‡Œä½¿ç”¨Python</title>
    <link href="http://shic.top/Linux/Ubuntu_python/"/>
    <id>http://shic.top/Linux/Ubuntu_python/</id>
    <published>2017-12-22T16:00:03.000Z</published>
    <updated>2017-12-28T02:26:31.137Z</updated>
    
    <content type="html"><![CDATA[<p>å¤§å®¶åº”è¯¥éƒ½å¬è¯´è¿‡ï¼Œç°åœ¨å¾ˆå¤šLinuxç³»ç»Ÿéƒ½è‡ªå¸¦æœ‰Pythonï¼ŒUbuntuä¹Ÿä¸ä¾‹å¤–ï¼Œä½†æ˜¯å› ä¸ºç‰ˆæœ¬åŸå› ï¼Œæˆ‘ä»¬è¯¥å¦‚ä½•æ­£ç¡®ä½¿ç”¨å®ƒå‘¢<br><a id="more"></a></p>
<h3 id="æ£€æŸ¥Python"><a href="#æ£€æŸ¥Python" class="headerlink" title="æ£€æŸ¥Python"></a>æ£€æŸ¥Python</h3><ul>
<li>é¦–å…ˆæˆ‘ä»¬æ£€æŸ¥ä¸€ä¸‹Pythonæ‰å‘ç°ï¼ŒåŸæ¥åªæ˜¯è‡ªå¸¦äº†Python2.7ï¼Œä½†æ˜¯è¿™æ—¶å¦‚æœå†è¾“å…¥ä¸€ä¸‹<strong>Python3</strong>çš„è¯ï¼Œå°±ä¼šå‘ç°å…¶å®Python3ä¹Ÿæ˜¯å®‰è£…äº†çš„ï¼Œè€Œä¸”Ubuntu17.10è¿˜æ˜¯è‡ªå¸¦çš„Python3.6.2ç‰ˆæœ¬çš„ã€‚<img src="http://res.cloudinary.com/shi1996/image/upload/v1514102549/check_python_LI_as7vbg.jpg" alt=""> ä½†æ˜¯å¤§å®¶ä¼šå‘ç°pypiéƒ½æ²¡æœ‰å®‰è£…ã€‚å…¶å®æƒ³æƒ³ä¹Ÿæ˜¯æœ‰é“ç†çš„ï¼Œè¿™æ ·ç”¨æˆ·å°±å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚æ¥å†³å®šåˆ°åº•ç”¨å“ªä¸€ä¸ªç‰ˆæœ¬çš„Pythonäº†ã€‚</li>
</ul>
<h3 id="å®‰è£…Pypiå’Œå…¶ä»–å¸¸ç”¨åŒ…"><a href="#å®‰è£…Pypiå’Œå…¶ä»–å¸¸ç”¨åŒ…" class="headerlink" title="å®‰è£…Pypiå’Œå…¶ä»–å¸¸ç”¨åŒ…"></a>å®‰è£…Pypiå’Œå…¶ä»–å¸¸ç”¨åŒ…</h3><p>ä»¥Python3.6.2ä¸ºä¾‹<br><br></p>
<ol>
<li>å½“éœ€è¦å®‰è£…Python3çš„å…¶ä»–æ¨¡å—çš„æ—¶å€™ï¼Œå°±ä¼šç”¨åˆ°pip3ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±   ä¸ºç³»ç»Ÿå®‰è£…å®ƒï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š<br><code>sudo apt-get install python3-pip</code><br>è¾“å…¥yï¼Œç‚¹å‡»å›è½¦ï¼Œç­‰å¾…ä¸‹è½½å®Œæˆ</li>
<li>å®‰è£…Pythonçš„å…¶ä»–åŒ…å°±å¯ä»¥åƒåœ¨Windowsä¸­ä¸€æ ·è¿›è¡Œæ“ä½œäº†ã€‚å½“ç„¶æˆ‘ä»¬Windowsé€šå¸¸å°±åªå®‰è£…ä¸€ä¸ªç‰ˆæœ¬çš„Pythonï¼Œæ‰€ä»¥æˆ‘ä»¬å¯èƒ½ä¼šç›´æ¥è¿™æ ·ç”¨ï¼š<br><code>pip install package_name</code><br>ä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™æ—¶å€™å°±ä¼šæŠ¥é”™äº†ï¼Œå¾ˆç¥å¥‡ï¼Ÿå…¶å®è¿™ä¹Ÿæ˜¯å¿…ç„¶ï¼Œæ¯•ç«Ÿç›´æ¥è¾“å…¥pip installæ˜¯åœ¨ç”¨Python2.7ï¼Œè¦æ˜¯æƒ³è¦Python3çš„è¯å°±å¾—è¾“å…¥<strong>pip3 install</strong>ï¼Œ   <img src="http://res.cloudinary.com/shi1996/image/upload/v1514102538/install_pip3_podqa7.png" alt="">   è¿™æ ·ä¹Ÿä¸ä¼šå› ä¸ºæœ‰ä¸¤ä¸ªä¸å…¼å®¹ç‰ˆæœ¬çš„Pythonè€Œä¸çŸ¥é“è‡ªå·±å®‰è£…çš„æ¨¡å—åˆ°åº•å±äºå“ªä¸€ä¸ªçš„é—®é¢˜äº†ã€‚ä¾‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š   <img src="http://res.cloudinary.com/shi1996/image/upload/v1514102541/install_numpy_k4sxvd.png" alt=""></li>
<li><p><strong>è¿™é‡Œæé†’ä¸€ç‚¹æƒ³å®‰è£…Jupyterçš„ä¼™ä¼´ä»¬</strong>ï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªå‡ ä¸ªå‘éœ€è¦æ³¨æ„ä»¥ä¸‹ï¼Œæˆ‘ä¹Ÿæ˜¯æŸ¥äº†å¾ˆä¹…æ‰çŸ¥é“æ€ä¹ˆæ“ä½œçš„ï¼Œäºæ˜¯åœ¨è¿™é‡Œæ€»ç»“ä»¥ä¸‹ã€‚å’ŒWindowsé‡Œçš„ä¸ä¸€æ ·ï¼Œéœ€è¦ç”¨åˆ°ï¼š<br><code>pip3 install jupyter-notebook</code></p>
<ul>
<li>æœ‰äº›ç”µè„‘å¯èƒ½å®‰è£…ä¸ä¸Šï¼Œé‚£å°±æ£€æŸ¥ä»¥ä¸‹jupyterï¼Œç³»ç»Ÿæç¤ºéœ€è¦ç”¨åˆ°<strong>sudo apt</strong>æ¥å®‰è£…ï¼Œäºæ˜¯è·Ÿç€æç¤ºè¿›è¡Œæ“ä½œ  <img src="http://res.cloudinary.com/shi1996/image/upload/v1514102537/jupyter0_vtta1y.png" alt=""></li>
<li>ç„¶ååœ¨è¾“å…¥jupyterå‘ç°æ˜¯å®‰è£…äº†ï¼Œå’ŒWindowsé‡Œçš„ä¸€æ ·æ˜¾ç¤ºï¼Œä½†æ˜¯è¾“å…¥jupyter notebookå‘ç°è¿˜æ˜¯ä¸è¡Œã€‚  <img src="http://res.cloudinary.com/shi1996/image/upload/v1514102534/jupyter1_xncv8c.png" alt="">  </li>
<li>è¿™ä¸ªæ—¶å€™ï¼Œå†åœ¨Terminalé‡Œé¢è¾“å…¥ä¸‹é¢çš„å‘½ä»¤å°±è¡Œäº†<br><code>pip3 install jupyter-notebook</code></li>
</ul>
<p>æœ€ååœ¨çœ‹ä¸€ä¸‹å¤§åŠŸå‘Šæˆçš„æ ·å­ï¼Œå®Œç¾~  <img src="http://res.cloudinary.com/shi1996/image/upload/c_scale,w_1999/v1514037548/IMG_20171222_203340_zvk3rm.jpg" alt=""></p>
</li>
</ol>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å¤§å®¶åº”è¯¥éƒ½å¬è¯´è¿‡ï¼Œç°åœ¨å¾ˆå¤šLinuxç³»ç»Ÿéƒ½è‡ªå¸¦æœ‰Pythonï¼ŒUbuntuä¹Ÿä¸ä¾‹å¤–ï¼Œä½†æ˜¯å› ä¸ºç‰ˆæœ¬åŸå› ï¼Œæˆ‘ä»¬è¯¥å¦‚ä½•æ­£ç¡®ä½¿ç”¨å®ƒå‘¢&lt;br&gt;
    
    </summary>
    
      <category term="Linux" scheme="http://shic.top/categories/Linux/"/>
    
    
      <category term="Linux" scheme="http://shic.top/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>Ubuntuå®‰è£…æœ¬åœ°è½¯ä»¶</title>
    <link href="http://shic.top/Linux/Ubuntu_install_app/"/>
    <id>http://shic.top/Linux/Ubuntu_install_app/</id>
    <published>2017-12-22T16:00:02.000Z</published>
    <updated>2017-12-25T14:33:48.563Z</updated>
    
    <content type="html"><![CDATA[<p>å®‰è£…ä¸€ä¸ªè½¯ä»¶éƒ½èƒ½æŠ¥å‡ºä¾èµ–ç¼ºå¤±çš„é”™ï¼Œæ˜¯ä¸æ˜¯è§‰å¾—ç®€ç›´äº†ã€‚ã€‚ã€‚<br>æ„Ÿè§‰åˆä½•Javaå¼€å‘ç±»ä¼¼äº†ï¼Œä¸åœåœ°æ‰¾å•¥ä»¥æ¥ç›´åˆ°ç”¨ä¸Šspring<br><a id="more"></a><br>æˆ‘ä»¬ä¸€å®‰è£…ç½‘æ˜“äº‘éŸ³ä¹å’Œæœç‹—æ‹¼éŸ³ä¸ºä¾‹æ¥è¿›è¡Œæ“ä½œï¼Œä¹‹åçš„è½¯ä»¶å®‰è£…éƒ½å¯ä»¥ç±»ä¼¼æ“ä½œã€‚</p>
<h3 id="å®‰è£…ç½‘æ˜“äº‘éŸ³ä¹"><a href="#å®‰è£…ç½‘æ˜“äº‘éŸ³ä¹" class="headerlink" title="å®‰è£…ç½‘æ˜“äº‘éŸ³ä¹"></a>å®‰è£…ç½‘æ˜“äº‘éŸ³ä¹</h3><ol>
<li>å…ˆä»ç½‘ä¸Šä¸‹è½½å®‰è£…åŒ…åˆ°æœ¬åœ°ï¼Œç„¶ååœ¨ä¸‹è½½çš„æ–‡ä»¶å¤¹ä¸­æ‰“å¼€Terminalï¼ˆå³é”®-æ‰“å¼€ç»ˆç«¯ï¼‰,è¾“å…¥ä»¥ä¸‹å®‰è£…æœ¬åœ°è½¯ä»¶çš„å‘½ä»¤ï¼ˆä¸­æ‹¬å·ä¸­è¯·æ›¿æ¢æˆç›¸åº”è½¯ä»¶çš„åå­—ï¼ŒåŒ…æ‹¬æ ¼å¼ï¼Œä¾‹å¦‚:abc123.debï¼‰<br><code>sudo dpkg -i [your app&#39;s name]</code><br>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œè¾“å…¥å¯†ç åå¯èƒ½ä¼šå‡ºç°å¾ˆå¤šä¾èµ–ç¼ºå¤±çš„æƒ…å†µ  <img src="http://res.cloudinary.com/shi1996/image/upload/v1514083063/163_0_mlrvmy.png" alt="0"> é‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥æ ¹æ®æç¤ºå»åšï¼Œå®ƒè¯´æœªå®‰è£…çš„è½¯ä»¶åŒ…ï¼Œæˆ‘ä»¬å°±å»å®‰è£…å°±è¡Œäº†ã€‚</li>
<li>å½“æˆ‘ä»¬è¾“å…¥å®‰è£…è½¯ä»¶åŒ…çš„æŒ‡ä»¤åï¼Œä»–ä¼šå»æˆ‘ä»¬è®¾å®šå¥½çš„è½¯ä»¶æºå»ä¸‹è½½ï¼š<br><code>sudo apt-get install gconf-service</code><br>ä¼šå‘ç°ä¾ç„¶æœ‰å¾ˆå¤šæ¯›ç—…ä¸èƒ½æ­£å¸¸å®‰è£…ï¼Œå®ƒåˆè¯´æ²¡æœ‰gconf-service-backendï¼Œé‚£æ˜¯ä¸æ˜¯åˆè¦å»å®‰è£…å®ƒå‘¢ï¼Œä¸‡ä¸€åˆç¼ºå•¥æ˜¯ä¸æ˜¯å°±è¿›å…¥æ­»å¾ªç¯äº†å‘¢ï¼Ÿ  <img src="http://res.cloudinary.com/shi1996/image/upload/v1514083049/163_1_tdvl9v.png" alt="1">  å“ˆå“ˆï¼Œå…ˆä¸æ€¥ç€å¾€ä¸‹å®‰è£…ï¼Œ<strong>æ¯ä¸€æ¬¡æŠ¥é”™éƒ½è¦ä»”ç»†çœ‹ä¸€ä¸‹æç¤ºä¿¡æ¯å˜›ï¼Œä¸€èˆ¬éƒ½å¾ˆæœ‰ç”¨çš„</strong></li>
<li>æç¤ºè¯´æœ‰æœªèƒ½æ»¡è¶³çš„ä¾èµ–å…³ç³»ã€‚è¯·å°è¯•ä¸æŒ‡æ˜è½¯ä»¶åŒ…çš„åå­—æ¥è¿è¡Œapt     â€“fix-broken installç„¶åç»™å‡ºäº†ä¸€è¡Œå‘½ä»¤ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±è¾“å…¥å®ƒè¯•è¯•                    çœ‹ï¼š<br><code>apt --fix-broken install</code></li>
<li>è¾“å…¥ä¹‹åä½ ä¼šå‘ç°å®ƒæç¤ºæƒé™ä¸å¤Ÿï¼Œç„¶è€Œæˆ‘ä»¬åœ¨å®‰è£…ç³»ç»Ÿçš„æ—¶å€™æ‰€è®¾ç½®        çš„ç”¨æˆ·å°±æ˜¯è¶…çº§ç”¨æˆ·äº†ï¼Œä¹Ÿå°±æ˜¯ç®¡ç†å‘˜äº†ã€‚ç„¶è€Œå¾ˆå¤šåŒå­¦å¯èƒ½å°±ä¼šã€‚æƒ³åˆ°Windowsä¸‹æœ‰æå‡ç”¨æˆ·æƒé™çš„æ“ä½œï¼Œäºæ˜¯å°±å»æœUbuntuæå‡ç”¨æˆ·ã€‚æƒé™çš„æ“ ä½œï¼Œç»“æœåˆæ²¡æœ‰æœåˆ°äºæ˜¯å°±ä¸€ç›´å¡åœ¨è¿™é‡Œã€‚ <img src="http://res.cloudinary.com/shi1996/image/upload/v1514083057/163_2_hnxtwo.png" alt="2"><br>å…¶å®è¦æ˜¯æ‡‚ä¸€ç‚¹Linuxçš„åŸºæœ¬å‘½ä»¤å°±ä¼šçŸ¥é“ï¼Œè€Œä¸”æˆ‘ä»¬ä¹‹å‰å®‰è£…è½¯ä»¶éƒ½è¾“å…¥äº†<strong>sudo</strong>çš„å­—ç¬¦ï¼Œsudoæ˜¯linuxç³»ç»Ÿç®¡ç†æŒ‡ä»¤ï¼Œæ˜¯å…è®¸ç³»ç»Ÿç®¡ç†å‘˜è®©æ™®é€šç”¨æˆ·æ‰§è¡Œä¸€äº›æˆ–è€…å…¨éƒ¨çš„rootå‘½ä»¤çš„ä¸€ä¸ªå·¥å…·ã€‚ç®€å•ç†è§£å¯ä»¥æ˜¯super user doã€‚é‚£ä¹ˆæˆ‘ä»¬å°è¯•ä¸€ä¸‹ä¸‹é¢çš„å‘½ä»¤ï¼š<br><code>sudo apt --fix-broken install</code></li>
<li>è¾“å…¥ä¹‹åä½ å°†çœ‹åˆ°ä¸€ä¸‹çš„ç•Œé¢  <img src="http://res.cloudinary.com/shi1996/image/upload/v1514083070/163_3_s7yjdj.png" alt="3">  è¾“å…¥yç‚¹å‡»å›è½¦å°±è¡Œäº†ï¼Œè¦æ˜¯ä½ ä¸æ”¾å¿ƒå‘¢ï¼Œå°±å»è¾“å…¥å‘½ä»¤æ£€æŸ¥ä¸€ä¸‹ï¼Œç»“æœä¹Ÿæ˜¯å‘ç°ä»¥å‰ç¼ºå°‘çš„ä¾èµ–éƒ½åœ¨äº†  <img src="http://res.cloudinary.com/shi1996/image/upload/v1514083065/163_4_yw7xgw.png" alt="4">  é‚£ä¹ˆä½ å°±å¯ä»¥åœ¨è¯¥è½¯ä»¶å®‰è£…åŒ…æ‰€åœ¨çš„æ–‡ä»¶å¤¹é‡Œæ‰“å¼€Terminalï¼Œä½¿ç”¨ä¸€ä¸‹å‘½ä»¤å®‰è£…ä½ çš„è½¯ä»¶äº†ï¼š<br><code>sudo dpkg -i [your app&#39;s name]</code><br><br></li>
</ol>
<h3 id="å®‰è£…æœç‹—æ‹¼éŸ³"><a href="#å®‰è£…æœç‹—æ‹¼éŸ³" class="headerlink" title="å®‰è£…æœç‹—æ‹¼éŸ³"></a>å®‰è£…æœç‹—æ‹¼éŸ³</h3><p>è®²çœŸï¼Œè‡ªå¸¦çš„ä¸­æ–‡è¾“å…¥æ³•è¿˜çœŸçš„ä¸å¥½ç”¨ï¼Œäºæ˜¯æˆ‘ä»¬æ¢æˆäº†å¯¹ä¸­æ–‡è¾“å…¥æ›´åŠ å‹å¥½çš„æœç‹—æ‹¼éŸ³ã€‚</p>
<ol>
<li>å’Œä¹‹å‰çš„å®‰è£…æ­¥éª¤ä¸€æ ·ï¼Œé‡åˆ°é—®é¢˜ä¸€æ ·çš„æ“ä½œï¼Œä½ è‡ªå·±æ“ä½œä¸€éå°±ä¼šç†Ÿç»ƒäº†ã€‚ <img src="http://res.cloudinary.com/shi1996/image/upload/v1514083059/pinyin0_ifoxwf.png" alt="5">  <img src="http://res.cloudinary.com/shi1996/image/upload/v1514083053/pinyin1_rbuxxa.png" alt="5"></li>
<li>å®‰è£…å¥½ä¹‹åå°±å¦‚å›¾è¿›è¡Œè®¾ç½® <img src="http://res.cloudinary.com/shi1996/image/upload/v1514083059/pinyin3_ws8bsm.png" alt="6"> é€‰æ‹©é”®ç›˜è¾“å…¥æ³•ç³»ç»Ÿä¸ºfcitxï¼Œæœ‰äº›ç”µè„‘å¯èƒ½ä¼šå‡ºç°ä¸‹é¢å›¾ä¸­å®šä½æƒ…å†µï¼Œé€‰æ‹©æ˜¯æˆ–è€…å®‰è£…å°±è¡Œäº† <img src="http://res.cloudinary.com/shi1996/image/upload/v1514083066/pinyin2_l4utx6.png" alt="7"></li>
<li>æœ€åæˆ‘ä»¬æ£€éªŒä¸€ä¸‹ï¼Œå‘ç°èƒ½ç”¨å°±å¤§åŠŸå‘Šæˆå•¦  <img src="http://res.cloudinary.com/shi1996/image/upload/c_limit,w_1182/v1514037552/IMG_20171222_222709_kyupuh.jpg" alt="8"></li>
</ol>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;å®‰è£…ä¸€ä¸ªè½¯ä»¶éƒ½èƒ½æŠ¥å‡ºä¾èµ–ç¼ºå¤±çš„é”™ï¼Œæ˜¯ä¸æ˜¯è§‰å¾—ç®€ç›´äº†ã€‚ã€‚ã€‚&lt;br&gt;æ„Ÿè§‰åˆä½•Javaå¼€å‘ç±»ä¼¼äº†ï¼Œä¸åœåœ°æ‰¾å•¥ä»¥æ¥ç›´åˆ°ç”¨ä¸Šspring&lt;br&gt;
    
    </summary>
    
      <category term="Linux" scheme="http://shic.top/categories/Linux/"/>
    
    
      <category term="Linux" scheme="http://shic.top/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>Ubuntuæ›´æ”¹è½¯ä»¶æº</title>
    <link href="http://shic.top/Linux/U_select_appSource/"/>
    <id>http://shic.top/Linux/U_select_appSource/</id>
    <published>2017-12-22T16:00:01.000Z</published>
    <updated>2017-12-27T12:55:10.604Z</updated>
    
    <content type="html"><![CDATA[<p>æƒ³ç”¨Linuxç³»ç»Ÿè€Œå› ä¸ºå®‰è£…è½¯ä»¶ä¸€ç›´å‡ºé”™è€Œæ”¾å¼ƒä½¿ç”¨çš„åŒå­¦ï¼Œä¸¾ä¸ªæ‰‹ã€‚ã€‚ã€‚<br>é‚£ä¹ˆæˆ‘ä»¬ç°åœ¨å°±æ¥è§£å†³è½¯ä»¶å®‰è£…çš„é—®é¢˜<br><a id="more"></a></p>
<h3 id="æ”¹è½¯ä»¶æºå¹¶æ›´æ–°ç³»ç»Ÿ"><a href="#æ”¹è½¯ä»¶æºå¹¶æ›´æ–°ç³»ç»Ÿ" class="headerlink" title="æ”¹è½¯ä»¶æºå¹¶æ›´æ–°ç³»ç»Ÿ"></a>æ”¹è½¯ä»¶æºå¹¶æ›´æ–°ç³»ç»Ÿ</h3><p>å¾ˆå¤šæ—¶å€™æˆ‘ä»¬éƒ½æ˜¯å› ä¸ºä¸‹è½½è½¯ä»¶è€æ˜¯å¾ˆæ…¢æˆ–è€…æ ¹æœ¬å°±ä¸‹è½½ä¸äº†ï¼Œå°±ç›´æ¥å¯¼è‡´ä½ çš„ç³»ç»Ÿç¼ºå°‘å¯ç”¨å·¥å…·è€Œæ”¾å¼ƒäº†ä½¿ç”¨ï¼Œæ‰€ä»¥ç¬¬ä¸€æ­¥å°±æ˜¯è¦è§£å†³è½¯ä»¶ä¸‹è½½å’Œå®‰è£…çš„é—®é¢˜ã€‚<br>é‚£ä¹ˆé¦–å…ˆå°±å¾—æ”¹ä¸€ä¸‹è½¯ä»¶æºï¼ŒæJavaå¼€å‘ä¸”ç”¨è¿‡Mavençš„åŒå­¦å¤šåŠä¹Ÿæ”¹è¿‡å®ƒçš„ä¸­å¤®é•¿è£¤ä»“åº“åœ°å€å§ï¼Œè¿™é‡Œæ˜¯ä¸€ä¸ªé“ç†ï¼Œé€‰æ‹©ä¸€ä¸ªå¥½çš„ä¸‹è½½ç‚¹</p>
<ol>
<li>å¦‚å›¾ç‚¹å‡»è¿›è¡Œæ“ä½œ  <img src="http://res.cloudinary.com/shi1996/image/upload/v1514379127/snipaste_20171224_094711_inpvpq.jpg" alt="0"> ç‚¹å‡»ä¸‹è½½è‡ªè¿™é‡Œçš„æ¡†ï¼Œé€‰æ‹©å…¶ä»–ç«™ç‚¹ã€‚</li>
<li>ç„¶åä½ å°±ä¼šçœ‹åˆ°å¦‚ä¸‹å›¾æ‰€ç¤ºçš„ç•Œé¢ï¼Œé€‰æ‹©é˜¿é‡Œæˆ–è€…æœç‹çš„å°±è¡Œï¼Œä¹Ÿå¯ä»¥è®©ä»–è‡ªå·±æµ‹è¯•ä¸€ä¸‹è‡ªå·±é€‰æ‹©æœ€ä¼˜   <img src="http://res.cloudinary.com/shi1996/image/upload/v1514379191/select_server_jgiyou.png" alt="1"></li>
<li>æ“ä½œå®Œæˆä¹‹åï¼Œä½ å°±å¯ä»¥å»æ›´æ–°è‡ªå·±çš„è½¯ä»¶äº†ï¼Œç‚¹å‡»ç¬¬ä¸€å¼ å›¾æ‰€ç¤ºçš„è½¯ä»¶æ›´æ–°å™¨ï¼Œæ›´æ–°ä¸€ä¸‹è‡ªå·±çš„æœ¬åœ°è½¯ä»¶ï¼Œé¿å…ä¹‹åè¿›è¡ŒæŸäº›æ“ä½œçš„æ—¶å€™å› è½¯ä»¶ç‰ˆæœ¬è¿‡ä½è€Œæ— æ³•è¿è¡Œã€‚  <img src="http://res.cloudinary.com/shi1996/image/upload/v1514379193/update1_hpgyqt.png" alt="2">  <img src="http://res.cloudinary.com/shi1996/image/upload/v1514379192/update2_bs1kxw.png" alt="3"></li>
<li>ç­‰å¾…ä¸‹è½½å®Œæˆä¹‹åï¼Œé‡å¯ä¸€ä¸‹å°±è¡Œå•¦</li>
<li>è¿™æ—¶ä½ å†å»è½¯ä»¶å•†åº—çœ‹ä¸€ä¸‹ï¼Œå°±ä¼šå‘ç°å¤šäº†å¾ˆå¤šè½¯ä»¶äº†ï¼Œä¸åƒä¹‹å‰çš„å°±å‡ ä¸ªã€‚ä¸‹è½½ä¸€ä¸‹å¸¸ç”¨çš„è½¯ä»¶å°±å¯ä»¥ä»è¿™é‡Œä¸‹è½½ã€‚å½“ç„¶ä¹Ÿå¯ä»¥åœ¨Terminalä¸­è¿›è¡Œä¸‹è½½ï¼Œæˆ–è€…æŠŠè½¯ä»¶ä¸‹è½½åˆ°æœ¬åœ°ç„¶ååœ¨Terminalä¸­è¿›è¡Œå®‰è£…</li>
</ol>
<p><strong>é¢„å‘Šï¼šä¸‹ä¸€ç¯‡ä¼šè®²ä¸€ä¸‹å…³äºæœ¬åœ°å®‰è£…è½¯ä»¶æ—¶é‡åˆ°çš„å‘å’Œè§£å†³åŠæ³•ï¼Œæ•™ä½ æ€ä¹ˆè‡ªå·±å»å¤„ç†å‡ºç°çš„é”™è¯¯ï¼Œç»å¯¹å®ç”¨ï¼</strong></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;æƒ³ç”¨Linuxç³»ç»Ÿè€Œå› ä¸ºå®‰è£…è½¯ä»¶ä¸€ç›´å‡ºé”™è€Œæ”¾å¼ƒä½¿ç”¨çš„åŒå­¦ï¼Œä¸¾ä¸ªæ‰‹ã€‚ã€‚ã€‚&lt;br&gt;é‚£ä¹ˆæˆ‘ä»¬ç°åœ¨å°±æ¥è§£å†³è½¯ä»¶å®‰è£…çš„é—®é¢˜&lt;br&gt;
    
    </summary>
    
      <category term="Linux" scheme="http://shic.top/categories/Linux/"/>
    
    
      <category term="Linux" scheme="http://shic.top/tags/Linux/"/>
    
  </entry>
  
</feed>
